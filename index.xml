<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>bwrob blog</title>
<link>https://bwrob.github.io/</link>
<atom:link href="https://bwrob.github.io/index.xml" rel="self" type="application/rss+xml"/>
<description>bwrob personal and professional blog</description>
<image>
<url>https://bwrob.github.io/logo/python_mug.png</url>
<title>bwrob blog</title>
<link>https://bwrob.github.io/</link>
<height>144</height>
<width>144</width>
</image>
<generator>quarto-1.7.32</generator>
<lastBuildDate>Sat, 21 Jun 2025 22:00:00 GMT</lastBuildDate>
<item>
  <title>Investment Banking (PL)</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/sgh-investment-banking/</link>
  <description><![CDATA[ 






<section id="fundusze-inwestycyjne-praktyczne-aspekty-procesu-inwestycyjnego" class="level2">
<h2 class="anchored" data-anchor-id="fundusze-inwestycyjne-praktyczne-aspekty-procesu-inwestycyjnego">Fundusze Inwestycyjne – Praktyczne Aspekty Procesu Inwestycyjnego</h2>
<section id="podstawowe-akty-prawne-polskie-i-zagraniczne-regulujące-funkcjonowanie-funduszy-inwestycyjnych." class="level3">
<h3 class="anchored" data-anchor-id="podstawowe-akty-prawne-polskie-i-zagraniczne-regulujące-funkcjonowanie-funduszy-inwestycyjnych.">1. Podstawowe akty prawne (polskie i zagraniczne) regulujące funkcjonowanie funduszy inwestycyjnych.</h3>
<p><strong>Polskie akty prawne:</strong></p>
<ul>
<li><p><strong>Ustawa o funduszach inwestycyjnych i zarządzaniu alternatywnymi funduszami inwestycyjnymi z dnia 27 maja 2004 r. (Dz.U. 2004 nr 146, poz. 1546 ze zm.)</strong> – Jest to kluczowy akt prawny regulujący tworzenie, funkcjonowanie, zarządzanie, nadzór oraz likwidację funduszy inwestycyjnych i alternatywnych funduszy inwestycyjnych (AFI) w Polsce. Określa m.in. zasady emisji jednostek uczestnictwa/certyfikatów inwestycyjnych, obowiązki zarządzających (TFI, Zarządzających AFI) oraz depozytariuszy, a także podstawowe limity inwestyzyjne.</p></li>
<li><p><strong>Rozporządzenia Ministra Finansów</strong> – Szczegółowe regulacje dotyczące np. sprawozdawczości funduszy, limitów inwestycyjnych czy zasad wyceny aktywów.</p></li>
<li><p><strong>Akty prawne Komisji Nadzoru Finansowego (KNF)</strong> – Decyzje, rekomendacje i wytyczne KNF, które uzupełniają ramy prawne i precyzują interpretacje przepisów.</p></li>
</ul>
<p><strong>Zagraniczne (unijne) akty prawne:</strong></p>
<ul>
<li><p><strong>Dyrektywa UCITS (Undertakings for Collective Investment in Transferable Securities) – Dyrektywa 2009/65/WE (UCITS IV), zmieniona Dyrektywą 2014/91/UE (UCITS V)</strong> – Stanowi fundament europejskiego rynku funduszy otwartych. Reguluje harmonizację zasad dotyczących tworzenia, zarządzania i sprzedaży funduszy inwestycyjnych, które mogą być swobodnie oferowane w państwach członkowskich UE na zasadzie paszportu. Kluczowe obszary to:</p>
<ul>
<li>Wymogi dotyczące organizacji i funkcjonowania funduszy.</li>
<li>Zasady dotyczące depozytariusza.</li>
<li>Wymogi dotyczące zarządzania ryzykiem i płynnością.</li>
<li>Obowiązki informacyjne wobec inwestorów.</li>
</ul></li>
<li><p><strong>Dyrektywa AIFMD (Alternative Investment Fund Managers Directive) – Dyrektywa 2011/61/UE</strong> – Reguluje zarządzających alternatywnymi funduszami inwestycyjnymi (AFI), czyli funduszami, które nie są objęte dyrektywą UCITS (np. fundusze hedgingowe, fundusze private equity, fundusze nieruchomości). Skupia się na autoryzacji i nadzorze zarządzających, zasadach wyceny, zarządzaniu ryzykiem, obowiązkach informacyjnych i zasadach dystrybucji.</p></li>
<li><p><strong>Rozporządzenia MIFID II (Markets in Financial Instruments Directive) i MIFIR (Markets in Financial Instruments Regulation)</strong> – Wpływają na dystrybucję funduszy inwestycyjnych, wymagania w zakresie transparentności, ochrony inwestora, badania adekwatności i odpowiedniości.</p></li>
</ul>
</section>
<section id="wady-i-zalety-procesowegozespołowego-zarządzania-aktywami." class="level3">
<h3 class="anchored" data-anchor-id="wady-i-zalety-procesowegozespołowego-zarządzania-aktywami.">2. Wady i zalety procesowego/zespołowego zarządzania aktywami.</h3>
<p><strong>Zarządzanie procesowe/zespołowe (ang. <em>team-based approach</em>)</strong> w asset management polega na tym, że decyzje inwestycyjne są podejmowane kolektywnie przez zespół zarządzających portfelem i analityków, w oparciu o zdefiniowane procesy i struktury, a nie przez pojedynczą osobę. Jest to podejście powszechnie stosowane w większych instytucjach.</p>
<p><strong>Zalety:</strong></p>
<ul>
<li><strong>Redukcja ryzyka pojedynczego punktu awarii (Single Point of Failure - SPOF):</strong> Brak uzależnienia od jednej osoby (tzw. gwiazdy zarządzającej). Odejście kluczowego PM-a nie destabilizuje strategii ani wyników.</li>
<li><strong>Synergia wiedzy i doświadczenia:</strong> Różne perspektywy i specjalizacje (np. analityk akcji, analityk długu, specjalista od rynków wschodzących) prowadzą do bardziej wszechstronnej analizy i lepszych decyzji.</li>
<li><strong>Spójność i dyscyplina:</strong> Procesy decyzyjne są zazwyczaj bardziej ustrukturyzowane i zinstytucjonalizowane, co zapewnia większą spójność w podejściu do inwestycji i dyscyplinę w stosowaniu strategii.</li>
<li><strong>Lepsza kontrola ryzyka:</strong> Decyzje są poddawane wzajemnej weryfikacji, co może prowadzić do wcześniejszego wychwytywania błędów lub nadmiernego ryzyka.</li>
<li><strong>Skalowalność:</strong> Model zespołowy jest łatwiejszy do skalowania w miarę wzrostu aktywów pod zarządzaniem i rozszerzania oferty produktowej.</li>
<li><strong>Rozwój pracowników:</strong> Młodsi członkowie zespołu mogą uczyć się od bardziej doświadczonych kolegów, co sprzyja rozwojowi kompetencji.</li>
</ul>
<p><strong>Wady:</strong></p>
<ul>
<li><strong>Wolniejszy proces decyzyjny:</strong> Konsensus wymaga czasu, co może być nieefektywne w dynamicznie zmieniających się warunkach rynkowych.</li>
<li><strong>Ryzyko „myślenia grupowego” (Groupthink):</strong> Zespół może popadać w pułapkę konformizmu, ignorując alternatywne perspektywy, co może prowadzić do błędnych decyzji.</li>
<li><strong>Rozmycie odpowiedzialności:</strong> W przypadku słabych wyników może być trudniej wskazać konkretną osobę odpowiedzialną.</li>
<li><strong>Konieczność silnego przywództwa:</strong> Brak wyraźnego lidera lub jego słabość może prowadzić do braku spójności w strategii i wewnętrznych konfliktów.</li>
<li><strong>Wyższe koszty:</strong> Utrzymanie zespołu zarządzających i analityków jest droższe niż zatrudnienie jednej „gwiazdy”.</li>
<li><strong>Potencjalne konflikty interesów:</strong> Różne opinie i preferencje mogą prowadzić do sporów wewnętrznych, jeśli nie ma jasno zdefiniowanego procesu rozstrzygania.</li>
</ul>
</section>
<section id="główne-elementy-procesu-inwestycyjnego-wraz-z-krótkim-omówieniem." class="level3">
<h3 class="anchored" data-anchor-id="główne-elementy-procesu-inwestycyjnego-wraz-z-krótkim-omówieniem.">3. Główne elementy procesu inwestycyjnego, wraz z krótkim omówieniem.</h3>
<p>Proces inwestycyjny w funduszu inwestycyjnym jest zorganizowanym cyklem, mającym na celu osiągnięcie założonych celów inwestycyjnych. Kluczowe etapy to:</p>
<ol type="1">
<li><strong>Ustalenie Celów Inwestycyjnych i Strategii (Investment Policy Statement - IPS):</strong>
<ul>
<li><strong>Omówienie:</strong> Ten etap definiuje, co fundusz ma osiągnąć (np. stopa zwrotu, poziom ryzyka, horyzont czasowy, specyficzne wymogi płynnościowe czy etyczne). Tworzy się <em>Investment Policy Statement (IPS)</em>, który jest formalnym dokumentem określającym cel funduszu, jego profil ryzyka, limity inwestycyjne, benchmarki, i ogólną strategię (np. <em>value</em>, <em>growth</em>, <em>income</em>, pasywna, aktywna). Jest to podstawa dla wszystkich kolejnych decyzji.</li>
</ul></li>
<li><strong>Alokacja Aktywów (Asset Allocation):</strong>
<ul>
<li><strong>Omówienie:</strong> Jest to najważniejsza decyzja, która w dużej mierze determinuje długoterminowy wynik funduszu. Polega na podziale portfela na szerokie klasy aktywów (np. akcje, obligacje, nieruchomości, surowce, gotówka), regiony geograficzne czy sektory. Wyróżnia się:
<ul>
<li><strong>Strategiczną alokację aktywów (SAA):</strong> Długoterminowy rozkład aktywów, zgodny z IPS, określający “neutralny” portfel.</li>
<li><strong>Taktyczną alokację aktywów (TAA):</strong> Krótkoterminowe odchylenia od SAA, mające na celu wykorzystanie krótkoterminowych okazji rynkowych (np. przeważanie akcji w fazie wzrostu gospodarczego).</li>
</ul></li>
</ul></li>
<li><strong>Wybór Papierów Wartościowych (Security Selection):</strong>
<ul>
<li><strong>Omówienie:</strong> Na tym etapie zarządzający podejmują decyzje o konkretnych instrumentach finansowych, które zostaną włączone do portfela w ramach każdej klasy aktywów. Może to być wynik analizy fundamentalnej (np. wybór konkretnych spółek na podstawie ich kondycji finansowej i perspektyw), analizy technicznej, czy analizy ilościowej. Celem jest znalezienie aktywów, które są niedowartościowane lub oferują atrakcyjny stosunek ryzyka do zwrotu.</li>
</ul></li>
<li><strong>Implementacja i Wykonanie (Implementation and Execution):</strong>
<ul>
<li><strong>Omówienie:</strong> Decyzje inwestycyjne są przekładane na konkretne zlecenia kupna/sprzedaży. Ważne jest efektywne wykonanie transakcji, minimalizacja kosztów transakcyjnych (np. spread bid-ask, prowizje) oraz zarządzanie płynnością. Współpracuje się z brokerami i systemami handlowymi.</li>
</ul></li>
<li><strong>Monitorowanie i Kontrola (Monitoring and Control):</strong>
<ul>
<li><strong>Omówienie:</strong> Ciągłe śledzenie wyników portfela, zgodności z celami inwestycyjnymi, limitami i regulacjami. Monitoruje się zmiany rynkowe, makroekonomiczne oraz specyficzne dla poszczególnych spółek/sektorów. W razie potrzeby dokonuje się rebalansowania portfela.</li>
</ul></li>
<li><strong>Ocena Wyników (Performance Evaluation):</strong>
<ul>
<li><strong>Omówienie:</strong> Regularna ocena wyników funduszu w stosunku do benchmarku, innych funduszy oraz założonych celów. Analizuje się nie tylko nominalną stopę zwrotu, ale także dostosowaną do ryzyka (np. wskaźnik Sharpe’a, Treynora). Ocena pomaga w identyfikacji źródeł sukcesów i niepowodzeń oraz w udoskonaleniu przyszłych strategii.</li>
</ul></li>
</ol>
</section>
<section id="rola-benchmarku-w-procesie-inwestycyjnym." class="level3">
<h3 class="anchored" data-anchor-id="rola-benchmarku-w-procesie-inwestycyjnym.">4. Rola benchmarku w procesie inwestycyjnym.</h3>
<p>Benchmark (indeks odniesienia) odgrywa fundamentalną rolę w procesie inwestycyjnym funduszu, pełniąc kilka kluczowych funkcji:</p>
<ul>
<li><p><strong>Definiowanie Celu Inwestycyjnego:</strong> Benchmark stanowi punkt odniesienia dla strategii inwestycyjnej funduszu. Określa horyzont inwestycyjny, klasy aktywów, regiony, sektory i styl inwestycyjny. Na przykład, fundusz akcji polskich o dużej kapitalizacji będzie miał za benchmark indeks WIG20.</p></li>
<li><p><strong>Pomiar Wyników (Performance Measurement):</strong> Jest to najważniejsza funkcja benchmarku. Umożliwia obiektywną ocenę, czy zarządzający osiągnął zamierzony cel, tj. czy wygenerował dodatkową wartość (alfę) ponad pasywny zwrot z rynku. Stopa zwrotu funduszu jest zawsze porównywana ze stopą zwrotu benchmarku.</p></li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BNadwy%C5%BCka%20Zwrotu%20(Alpha)%7D%20=%20%5Ctext%7BZwrot%20Funduszu%7D%20-%20%5Ctext%7BZwrot%20Benchmarku%7D%0A"></p>
<ul>
<li><p><strong>Podstawa Alokacji Aktywów:</strong> Benchmark często wyznacza ramy dla alokacji strategicznej. Np. w funduszach indeksowych portfel jest budowany tak, aby replikować skład benchmarku. W funduszach aktywnych, benchmark służy jako punkt wyjścia do podejmowania decyzji o przeważaniu/niedoważaniu sektorów czy spółek.</p></li>
<li><p><strong>Zarządzanie Ryzykiem:</strong> Ryzyko aktywne (ryzyko benchmarkowe, <em>tracking error</em>) jest mierzone jako odchylenie stopy zwrotu funduszu od stopy zwrotu benchmarku. Pozwala to na monitorowanie, w jakim stopniu zarządzający odchodzi od składu indeksu i jakie ryzyko aktywne bierze na siebie.</p></li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Ctext%7BTracking%20Error%20(TE)%7D%20=%20%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bn%7D%20%5Cfrac%7B(%5Ctext%7BZwrot%20Funduszu%7D_i%20-%20%5Ctext%7BZwrot%20Benchmarku%7D_i)%5E2%7D%7Bn-1%7D%7D%0A"></p>
<p>Gdzie: * <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BZwrot%20Funduszu%7D_i"> to zwrot funduszu w okresie <img src="https://latex.codecogs.com/png.latex?i">. * <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BZwrot%20Benchmarku%7D_i"> to zwrot benchmarku w okresie <img src="https://latex.codecogs.com/png.latex?i">. * <img src="https://latex.codecogs.com/png.latex?n"> to liczba okresów.</p>
<ul>
<li><p><strong>Komunikacja z Inwestorami:</strong> Benchmark dostarcza inwestorom jasnego i zrozumiałego punktu odniesienia do oceny efektywności zarządzania. Pomaga im zrozumieć, jaką ekspozycję rynkową przyjmuje fundusz i czego mogą się spodziewać.</p></li>
<li><p><strong>Podstawa dla Opłat za Zarządzanie:</strong> W niektórych modelach (np. <em>performance fees</em>) opłaty za zarządzanie mogą być powiązane z osiągnięciem wyników powyżej benchmarku.</p></li>
</ul>
</section>
<section id="sposób-doboru-benchmarków." class="level3">
<h3 class="anchored" data-anchor-id="sposób-doboru-benchmarków.">5. Sposób doboru benchmarków.</h3>
<p>Dobór odpowiedniego benchmarku jest kluczowym, choć często niedocenianym, elementem procesu inwestycyjnego. Niewłaściwy benchmark może prowadzić do błędnych ocen efektywności zarządzającego i niezrozumienia ryzyka. Kryteria doboru benchmarku obejmują:</p>
<ul>
<li><p><strong>Reprezentatywność:</strong> Benchmark powinien być jak najbardziej reprezentatywny dla rynku, na którym fundusz inwestuje lub dla klasy aktywów, którą zarządza. Powinien odzwierciedlać możliwości inwestycyjne i koszty transakcyjne, z jakimi mierzy się zarządzający. Np. dla funduszu akcji polskich WIG20 może być reprezentatywny dla dużych spółek, ale nie dla całego rynku.</p></li>
<li><p><strong>Mierzalność:</strong> Benchmark musi być łatwo mierzalny i dostępny dla zarządzającego oraz inwestorów. Jego skład i metodologia obliczania powinny być transparentne.</p></li>
<li><p><strong>Niezależność:</strong> Benchmark powinien być niezależny od zarządzającego funduszem. Nie powinien być manipulowany ani modyfikowany przez zarządzającego w celu sztucznego poprawienia wyników.</p></li>
<li><p><strong>Adresowalność:</strong> Benchmark powinien odzwierciedlać obszar, w którym zarządzający faktycznie może inwestować. Jeśli fundusz ma limity uniemożliwiające inwestowanie w pewne aktywa z benchmarku, należy to uwzględnić.</p></li>
<li><p><strong>Spójność ze Stylem Inwestycyjnym:</strong> Jeśli fundusz ma styl <em>value</em>, <em>growth</em> czy <em>small-cap</em>, benchmark powinien również odzwierciedlać ten styl. Np. dla funduszu akcji małych spółek, odpowiedniejszy będzie indeks małych spółek, a nie szeroki indeks rynkowy.</p></li>
<li><p><strong>Spójność z Celami Funduszu:</strong> Benchmark musi być zgodny z celami inwestycyjnymi określonymi w IPS. Jeśli celem jest generowanie dochodu, benchmark powinien zawierać aktywa generujące dochód (np. indeks obligacji).</p></li>
<li><p><strong>Wielkość i Płynność:</strong> Aktywa wchodzące w skład benchmarku powinny być wystarczająco płynne, aby fundusz mógł efektywnie nimi handlować, zwłaszcza w przypadku funduszy replikujących indeks.</p></li>
<li><p><strong>Dostępność historycznych danych:</strong> Aby móc ocenić historyczne wyniki i ryzyko, konieczne są długie szeregi danych historycznych dla benchmarku.</p></li>
</ul>
<p><strong>Praktyczne aspekty doboru:</strong></p>
<ul>
<li><p><strong>Standardowe indeksy:</strong> Często używa się szeroko znanych indeksów giełdowych (np. S&amp;P 500, MSCI World, WIG20, WIBOR dla stopy procentowej).</p></li>
<li><p><strong>Benchmarki mieszane (Blended Benchmarks):</strong> Dla funduszy zrównoważonych lub multi-asset, tworzy się benchmarki składające się z kilku indeksów ważonych zgodnie ze strategiczną alokacją aktywów. Np. 60% WIG20 + 40% WIG Bond.</p></li>
<li><p><strong>Własne benchmarki (Custom Benchmarks):</strong> W rzadkich przypadkach, dla bardzo specyficznych strategii, instytucje mogą tworzyć własne benchmarki, ale wymaga to uzasadnienia i transparentności.</p></li>
</ul>
</section>
<section id="na-czym-polega-podejście-top-down-przy-podejmowaniu-decyzji-inwestycyjnej." class="level3">
<h3 class="anchored" data-anchor-id="na-czym-polega-podejście-top-down-przy-podejmowaniu-decyzji-inwestycyjnej.">6. Na czym polega podejście „Top Down” przy podejmowaniu decyzji inwestycyjnej.</h3>
<p>Podejście „Top Down” (odgórne) jest jedną z metod budowania portfela inwestycyjnego. Polega na podejmowaniu decyzji inwestycyjnych począwszy od analizy ogólnego otoczenia makroekonomicznego i globalnych trendów, a następnie stopniowym zawężaniu zakresu do konkretnych rynków, sektorów, by na końcu wybrać konkretne spółki lub instrumenty finansowe.</p>
<p><strong>Etapy podejścia Top Down:</strong></p>
<ol type="1">
<li><strong>Analiza Makroekonomiczna i Globalnych Trendów:</strong>
<ul>
<li>Rozpoczyna się od oceny globalnego krajobrazu gospodarczego: perspektywy wzrostu PKB, inflacja, stopy procentowe, polityka banków centralnych, geopolityka, trendy demograficzne, technologiczne i środowiskowe.</li>
<li>Na tym etapie analizuje się, które regiony lub kraje będą miały najlepsze perspektywy wzrostu, biorąc pod uwagę cykl koniunkturalny.</li>
</ul></li>
<li><strong>Alokacja Aktywów (Asset Allocation):</strong>
<ul>
<li>Na podstawie analizy makro, zarządzający decydują o strategicznej i taktycznej alokacji aktywów pomiędzy różne klasy (akcje, obligacje, surowce, gotówka), geografie (np. rynki rozwinięte vs.&nbsp;rynki wschodzące) i waluty.</li>
<li>Decyzje te są zorientowane na alokację kapitału do najbardziej perspektywicznych obszarów makro.</li>
</ul></li>
<li><strong>Wybór Sektorów i Branż:</strong>
<ul>
<li>W ramach wybranych klas aktywów i regionów, identyfikuje się sektory i branże, które są najbardziej atrakcyjne w obecnym cyklu koniunkturalnym lub w obliczu długoterminowych trendów.</li>
<li>Na przykład, w okresie szybkiego wzrostu gospodarczego mogą być faworyzowane sektory cykliczne (np. przemysł, materiały), a w okresie spowolnienia – defensywne (np. opieka zdrowotna, użyteczność publiczna).</li>
</ul></li>
<li><strong>Wybór Spółek/Instrumentów Finansowych:</strong>
<ul>
<li>Dopiero na samym końcu, w ramach wybranych sektorów, dokonuje się wyboru konkretnych spółek lub instrumentów finansowych. Wybór ten jest często podyktowany ich dominującą pozycją w sektorze, siłą finansową lub ekspozycją na określone trendy.</li>
<li>Analiza fundamentalna spółek jest wykorzystywana do potwierdzenia, czy konkretna spółka jest dobrym reprezentantem wybranego sektora i czy jej wycena jest atrakcyjna.</li>
</ul></li>
</ol>
<p><strong>Charakterystyka podejścia Top Down:</strong></p>
<ul>
<li><strong>Holistyczne spojrzenie:</strong> Koncentruje się na szerszym obrazie ekonomicznym i rynkowym.</li>
<li><strong>Makro czynniki:</strong> Główne decyzje są napędzane przez czynniki makroekonomiczne i trendy.</li>
<li><strong>Dynamiczne:</strong> Pozwala na szybkie reagowanie na zmieniające się warunki rynkowe poprzez rebalansowanie alokacji aktywów.</li>
<li><strong>Wysokie ryzyko systematyczne:</strong> Decyzje są często związane z całym rynkiem lub dużymi segmentami, co naraża portfel na ryzyko systematyczne.</li>
</ul>
<p>Podejście Top Down jest często stosowane przez dużych zarządzających aktywami, fundusze makro hedgingowe oraz fundusze globalne, gdzie alokacja strategiczna i taktyczna są kluczowe.</p>
</section>
<section id="co-oznaczają-dla-akcyjnej-części-portfela-funduszu-zrównoważonego-decyzje-silne-przeważenie-2-niedoważenie--1" class="level3">
<h3 class="anchored" data-anchor-id="co-oznaczają-dla-akcyjnej-części-portfela-funduszu-zrównoważonego-decyzje-silne-przeważenie-2-niedoważenie--1">7. Co oznaczają dla akcyjnej części portfela funduszu zrównoważonego decyzje: silne przeważenie (+2), niedoważenie (-1)?</h3>
<p>W kontekście zarządzania portfelem funduszu zrównoważonego, decyzje o “przeważaniu” (overweight) lub “niedoważaniu” (underweight) odnoszą się do taktycznej alokacji aktywów lub selekcji sektorów/spółek względem ich wagi w benchmarku lub strategicznej alokacji aktywów.</p>
<p>Fundusz zrównoważony posiada typowo strategiczną alokację aktywów, np. <img src="https://latex.codecogs.com/png.latex?60%5C%25"> akcji i <img src="https://latex.codecogs.com/png.latex?40%5C%25"> obligacji. W ramach tego <img src="https://latex.codecogs.com/png.latex?60%5C%25"> akcji, zarządzający może przyjąć pewne wagi sektorowe lub regionalne, które są zgodne z benchmarkiem lub jego neutralną alokacją.</p>
<ul>
<li><strong>Silne przeważenie (+2):</strong>
<ul>
<li><strong>Znaczenie:</strong> Oznacza, że zarządzający świadomie zwiększa wagę danej klasy aktywów (np. akcji ogólnie w stosunku do obligacji), danego sektora, regionu lub konkretnej spółki w portfelu funduszu, znacząco powyżej jej neutralnej wagi w benchmarku lub strategicznej alokacji.</li>
<li><strong>Cel:</strong> Decyzja o silnym przeważaniu wynika z bardzo silnego pozytywnego przekonania zarządzającego o przyszłych perspektywach danego aktywa/sektora/spółki. Oczekuje się, że ta pozycja wygeneruje istotną <em>alfę</em> (nadwyżkę stopy zwrotu) dla portfela.</li>
<li><strong>Ryzyko:</strong> Jest to decyzja o relatywnie wysokim ryzyku aktywnym (<em>tracking error</em>). W przypadku błędnej oceny, silne przeważenie może znacząco negatywnie wpłynąć na wyniki funduszu względem benchmarku. <img src="https://latex.codecogs.com/png.latex?+2"> sugeruje bardzo mocne odchylenie od wagi neutralnej.</li>
<li><strong>Przykład:</strong> Jeśli strategiczna alokacja akcji w funduszu zrównoważonym wynosi <img src="https://latex.codecogs.com/png.latex?60%5C%25">, a zarządzający decyduje się na silne przeważenie akcji, może to oznaczać, że ich udział w portfelu wzrośnie do <img src="https://latex.codecogs.com/png.latex?62%5C%25"> lub więcej (np. nawet do <img src="https://latex.codecogs.com/png.latex?65-70%5C%25"> w zależności od limitów i apetytu na ryzyko), kosztem innych klas aktywów. Podobnie, jeśli spółka X stanowi <img src="https://latex.codecogs.com/png.latex?2%5C%25"> w benchmarku, a zarządzający silnie ją przeważa, może to oznaczać, że jej waga w portfelu wzrośnie do <img src="https://latex.codecogs.com/png.latex?4%5C%25"> lub <img src="https://latex.codecogs.com/png.latex?5%5C%25">.</li>
</ul></li>
<li><strong>Niedoważenie (-1):</strong>
<ul>
<li><strong>Znaczenie:</strong> Oznacza, że zarządzający świadomie zmniejsza wagę danej klasy aktywów, sektora, regionu lub konkretnej spółki w portfelu funduszu, poniżej jej neutralnej wagi w benchmarku lub strategicznej alokacji.</li>
<li><strong>Cel:</strong> Decyzja o niedoważeniu wynika z negatywnego przekonania zarządzającego o przyszłych perspektywach danego aktywa/sektora/spółki, lub z oczekiwania, że będzie ono radzić sobie gorzej niż benchmark. Ma to na celu ograniczenie spadków lub ochronę kapitału.</li>
<li><strong>Ryzyko:</strong> Podobnie jak przeważenie, niedoważenie również generuje ryzyko aktywne. W przypadku błędnej oceny i nagłej poprawy wyników niedoważonego aktywa, fundusz może stracić szansę na zysk i zanotować gorsze wyniki niż benchmark. <img src="https://latex.codecogs.com/png.latex?-1"> sugeruje umiarkowane do silnego odchylenia w dół.</li>
<li><strong>Przykład:</strong> Jeśli strategiczna alokacja akcji wynosi <img src="https://latex.codecogs.com/png.latex?60%5C%25">, a zarządzający decyduje się na niedoważenie akcji, ich udział w portfelu może spaść do <img src="https://latex.codecogs.com/png.latex?59%5C%25"> lub mniej (np. do <img src="https://latex.codecogs.com/png.latex?55%5C%25"> w zależności od limitów). Jeśli spółka Y stanowi <img src="https://latex.codecogs.com/png.latex?1%5C%25"> w benchmarku, a zarządzający ją niedoważa, może to oznaczać, że jej waga w portfelu spadnie do <img src="https://latex.codecogs.com/png.latex?0.5%5C%25"> lub nawet zostanie całkowicie wyeliminowana (<img src="https://latex.codecogs.com/png.latex?0%5C%25">).</li>
</ul></li>
</ul>
<p>Podsumowując, “+2” i “-1” to wskaźniki intensywności taktycznych decyzji zarządzającego. Wyższe wartości bezwzględne oznaczają większe ryzyko aktywne (tracking error) i większy potencjał generowania lub tracenia <em>alfy</em>.</p>
</section>
<section id="główne-kategorie-limitów-inwestycyjnych-stosowane-w-portfelach-inwestycyjnych." class="level3">
<h3 class="anchored" data-anchor-id="główne-kategorie-limitów-inwestycyjnych-stosowane-w-portfelach-inwestycyjnych.">8. Główne kategorie limitów inwestycyjnych stosowane w portfelach inwestycyjnych.</h3>
<p>Limity inwestycyjne są kluczowym elementem systemu zarządzania ryzykiem w funduszach inwestycyjnych. Służą ochronie kapitału inwestorów, zapewnieniu zgodności z polityką inwestycyjną funduszu i dywersyfikacji. Dzielą się na kategorie w zależności od poziomu agregacji i celu:</p>
<ol type="1">
<li><strong>Limity koncentracji (concentration limits):</strong>
<ul>
<li><strong>Limit pojedynczej emisji/emitenta:</strong> Ogranicza maksymalną wartość inwestycji w papiery wartościowe jednego emitenta lub jednej emisji (np. maksymalnie <img src="https://latex.codecogs.com/png.latex?5%5C%25"> aktywów funduszu w akcjach spółki X). Ma to na celu ograniczenie ryzyka specyficznego.</li>
<li><strong>Limit branżowy/sektorowy:</strong> Ogranicza koncentrację w jednej branży lub sektorze (np. maksymalnie <img src="https://latex.codecogs.com/png.latex?20%5C%25"> w sektorze finansowym). Zmniejsza to ryzyko związane ze spowolnieniem w danej branży.</li>
<li><strong>Limit geograficzny/regionalny:</strong> Ogranicza koncentrację w danym kraju lub regionie (np. maksymalnie <img src="https://latex.codecogs.com/png.latex?30%5C%25"> aktywów w inwestycjach w Polsce).</li>
<li><strong>Limit typu instrumentu:</strong> Ogranicza udział poszczególnych rodzajów instrumentów (np. akcje, obligacje korporacyjne, instrumenty pochodne) w portfelu.</li>
<li><strong>Limit kapitałowy:</strong> Ogranicza maksymalny udział funduszu w kapitale zakładowym lub w liczbie głosów na walnym zgromadzeniu jednej spółki (np. maksymalnie <img src="https://latex.codecogs.com/png.latex?10%5C%25"> akcji spółki X).</li>
</ul></li>
<li><strong>Limity płynnościowe (liquidity limits):</strong>
<ul>
<li><strong>Limit aktywów niepłynnych:</strong> Ogranicza udział aktywów o niskiej płynności, które trudno byłoby sprzedać w krótkim czasie bez znaczącego wpływu na ich cenę (np. maksymalnie <img src="https://latex.codecogs.com/png.latex?10%5C%25"> w aktywach niepublicznych lub trudno zbywalnych). Ma to na celu zapewnienie możliwości wykupu jednostek uczestnictwa przez fundusz.</li>
<li><strong>Limity instrumentów pochodnych:</strong> Ograniczenia dotyczące ekspozycji nominalnej lub ryzyka związanego z instrumentami pochodnymi, zapewniające, że ich wykorzystanie nie prowadzi do nadmiernego ryzyka płynnościowego.</li>
</ul></li>
<li><strong>Limity kredytowe/kontrahenta (credit/counterparty limits):</strong>
<ul>
<li><strong>Limit na kontrahenta:</strong> Ogranicza maksymalną ekspozycję na pojedynczego kontrahenta (bank, broker) w transakcjach pozagiełdowych (OTC), takich jak instrumenty pochodne, operacje repo. Zmniejsza ryzyko kredytowe kontrahenta.</li>
<li><strong>Limit ratingowy:</strong> Określa minimalny wymagany rating kredytowy dla emitentów obligacji w portfelu. W funduszach obligacji bezpiecznych często wymagany jest rating inwestycyjny (np. BBB- lub wyżej).</li>
</ul></li>
<li><strong>Limity ryzyka (risk limits):</strong>
<ul>
<li><strong>Limit Value-at-Risk (VaR):</strong> Określa maksymalną potencjalną stratę portfela w określonym horyzoncie czasowym i z danym poziomem ufności (np. <img src="https://latex.codecogs.com/png.latex?VaR_%7B99%5C%25%7D"> na poziomie <img src="https://latex.codecogs.com/png.latex?2%5C%25"> aktywów dziennie). <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BVaR%7D%20=%20%5Ctext%7BWarto%C5%9B%C4%87%20Portfela%7D%20%5Ctimes%20%5Csigma%20%5Ctimes%20z_%7B%5Calpha%7D"> Gdzie:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Csigma"> to odchylenie standardowe (zmienność) stopy zwrotu portfela.</li>
<li><img src="https://latex.codecogs.com/png.latex?z_%7B%5Calpha%7D"> to wartość z rozkładu normalnego odpowiadająca danemu poziomowi ufności.</li>
</ul></li>
<li><strong>Limit Tracking Error (TE):</strong> Ogranicza maksymalne dopuszczalne odchylenie standardowe stopy zwrotu funduszu od stopy zwrotu benchmarku (np. TE nie może przekroczyć <img src="https://latex.codecogs.com/png.latex?4%5C%25">). Chroni przed nadmiernym ryzykiem aktywnym.</li>
<li><strong>Limit duration/convexity:</strong> W funduszach obligacji, limity te kontrolują wrażliwość portfela na zmiany stóp procentowych.</li>
<li><strong>Limity stop-loss:</strong> Automatyczne limity, które nakazują sprzedaż danego aktywa, jeśli jego cena spadnie poniżej określonego poziomu.</li>
</ul></li>
<li><strong>Limity regulacyjne (regulatory limits):</strong>
<ul>
<li>Są to limity narzucone przez przepisy prawa (np. wspomniana Ustawa o funduszach inwestycyjnych, dyrektywa UCITS). Mają charakter obligatoryjny i często są bardziej konserwatywne niż wewnętrzne limity funduszu.</li>
</ul></li>
</ol>
</section>
<section id="rola-limitów-inwestycyjnych-gdzie-są-najbardziej-istotne-w-fundusze-bezpieczne-czy-podejmujące-duże-ryzyko-inwestycyjne" class="level3">
<h3 class="anchored" data-anchor-id="rola-limitów-inwestycyjnych-gdzie-są-najbardziej-istotne-w-fundusze-bezpieczne-czy-podejmujące-duże-ryzyko-inwestycyjne">9. Rola limitów inwestycyjnych, gdzie są najbardziej istotne w fundusze bezpieczne czy podejmujące duże ryzyko inwestycyjne?</h3>
<p>Rola limitów inwestycyjnych jest kluczowa dla <strong>każdego</strong> funduszu inwestycyjnego, niezależnie od jego profilu ryzyka, ale ich znaczenie i specyfika zastosowania mogą się różnić.</p>
<p><strong>Rola limitów inwestycyjnych:</strong></p>
<ol type="1">
<li><p><strong>Ochrona Kapitału Inwestorów:</strong> Jest to podstawowa funkcja. Limity zapobiegają nadmiernej koncentracji, niepłynności i nadmiernemu ryzyku, chroniąc inwestorów przed dużymi stratami.</p></li>
<li><p><strong>Zapewnienie Zgodności z Polityką Inwestycyjną:</strong> Limity egzekwują, aby fundusz działał zgodnie ze swoim statutem i deklarowaną strategią, co jest kluczowe dla zaufania inwestorów i unikania <em>style drift</em> (dryfu stylu).</p></li>
<li><p><strong>Dywersyfikacja Portfela:</strong> Poprzez narzucenie limitów koncentracji, limity wymuszają dywersyfikację, co jest podstawową zasadą zarządzania ryzykiem.</p></li>
<li><p><strong>Zarządzanie Płynnością:</strong> Limity dotyczące aktywów niepłynnych są niezbędne do zapewnienia, że fundusz jest w stanie na bieżąco realizować żądania wykupu jednostek uczestnictwa.</p></li>
<li><p><strong>Zgodność Regulacyjna:</strong> Fundusze są zobowiązane do przestrzegania limitów określonych w przepisach prawa (np. UCITS w UE, ustawa o funduszach w Polsce). Nieprzestrzeganie ich grozi karami i utratą licencji.</p></li>
<li><p><strong>Ułatwienie Monitorowania Ryzyka:</strong> Systemy monitorowania ryzyka opierają się na limitach, generując alerty, gdy zbliżają się do nich lub zostają przekroczone.</p></li>
</ol>
<p><strong>Gdzie są najbardziej istotne: Fundusze bezpieczne vs.&nbsp;Fundusze wysokiego ryzyka?</strong></p>
<p>Limity są <strong>krytycznie istotne w funduszach bezpiecznych</strong>, takich jak fundusze pieniężne, krótkoterminowe obligacji skarbowych czy fundusze stabilnego wzrostu. Wynika to z następujących powodów:</p>
<ul>
<li><p><strong>Oczekiwania Inwestorów:</strong> Inwestorzy w fundusze bezpieczne mają niską tolerancję na ryzyko i oczekują stabilnego, przewidywalnego zwrotu. Każde znaczące odchylenie od tego profilu jest nieakceptowalne.</p></li>
<li><p><strong>Ryzyko Reputacyjne:</strong> Duża strata w funduszu “bezpiecznym” może zniszczyć reputację całego towarzystwa funduszy inwestycyjnych.</p></li>
<li><p><strong>Regulacje:</strong> Fundusze bezpieczne, zwłaszcza pieniężne, są często objęte bardzo ścisłymi i restrykcyjnymi limitami regulacyjnymi dotyczącymi jakości kredytowej emitentów, duration, płynności i koncentracji. Ich celem jest minimalizacja ryzyka utraty kapitału.</p></li>
<li><p><strong>Zachowanie Kapitału:</strong> Podstawowym celem tych funduszy jest zachowanie kapitału, a nie maksymalizacja zwrotu. Limity służą bezpośrednio temu celowi.</p></li>
</ul>
<p>Jednakże limity są <strong>również bardzo istotne w funduszach podejmujących duże ryzyko inwestycyjne</strong>, choć ich natura i dopuszczalne poziomy będą inne:</p>
<ul>
<li><p><strong>Kontrola Ryzyka Ekstremalnego:</strong> Nawet w funduszach wysokiego ryzyka (np. fundusze akcji sektorowych, fundusze rynków wschodzących, fundusze hedgingowe), limity są niezbędne do kontrolowania ryzyka ekstremalnego (np. maksymalna koncentracja w pojedynczej spółce, maksymalna ekspozycja na instrumenty pochodne, limity VaR).</p></li>
<li><p><strong>Zarządzanie Zadeklarowanym Ryzykiem:</strong> Limity pomagają utrzymać fundusz w ramach zadeklarowanego profilu ryzyka, nawet jeśli jest on wysoki. Zapobiegają to sytuacji, w której fundusz stanie się <em>jeszcze bardziej</em> ryzykowny niż pierwotnie zakładano.</p></li>
<li><p><strong>Ograniczenie Strat:</strong> Choć celują w wysokie zwroty, fundusze wysokiego ryzyka również muszą mieć mechanizmy ograniczające potencjalne straty, zwłaszcza w warunkach kryzysu rynkowego.</p></li>
<li><p><strong>Zgodność z Mandatem:</strong> W przypadku funduszy hedgingowych czy alternatywnych, które mają szeroki zakres swobody inwestycyjnej, wewnętrzne limity są kluczowe do zdefiniowania i przestrzegania specyficznego mandatu inwestycyjnego.</p></li>
</ul>
<p><strong>Podsumowując:</strong> Limity są uniwersalnym narzędziem zarządzania ryzykiem. W funduszach bezpiecznych są one bardziej restrykcyjne i skupiają się na ochronie kapitału. W funduszach wysokiego ryzyka są one elastyczniejsze, ale wciąż niezbędne do kontrolowania ekspozycji na ryzyko i zapobiegania katastrofalnym stratom, zapewniając, że ryzyko podejmowane jest w sposób kontrolowany i zgodny z profilem funduszu.</p>
</section>
<section id="na-jakich-podstawach-jest-dokonywana-selekcja-spółek-do-portfela-funduszy-inwestycyjnych" class="level3">
<h3 class="anchored" data-anchor-id="na-jakich-podstawach-jest-dokonywana-selekcja-spółek-do-portfela-funduszy-inwestycyjnych">10. Na jakich podstawach jest dokonywana selekcja spółek do portfela funduszy inwestycyjnych?</h3>
<p>Selekcja spółek (ang. <em>security selection</em> lub <em>stock picking</em>) do portfela funduszu inwestycyjnego jest zazwyczaj wynikiem dogłębnej analizy, która może opierać się na różnych podejściach, często łączonych ze sobą. Główne podstawy to:</p>
<ol type="1">
<li><strong>Analiza Fundamentalna:</strong>
<ul>
<li><strong>Omówienie:</strong> Jest to najczęściej stosowane podejście. Polega na ocenie wewnętrznej wartości spółki (<em>intrinsic value</em>) poprzez analizę jej sprawozdań finansowych (bilans, rachunek zysków i strat, rachunek przepływów pieniężnych), modelu biznesowego, pozycji konkurencyjnej, jakości zarządzania, perspektyw wzrostu, otoczenia branżowego i makroekonomicznego.</li>
<li><strong>Kluczowe wskaźniki i czynniki:</strong>
<ul>
<li><strong>Wskaźniki wyceny:</strong> Cena/Zysk (P/E), Cena/Wartość Księgowa (P/BV), Cena/Sprzedaż (P/S), Wartość Przedsiębiorstwa/EBITDA (EV/EBITDA), Stopa Dywidendy.</li>
<li><strong>Wskaźniki rentowności:</strong> ROE (Return on Equity), ROA (Return on Assets), Marża Zysku Brutto/Netto.</li>
<li><strong>Wskaźniki zadłużenia:</strong> Dług netto/EBITDA, Dług/Kapitał Własny.</li>
<li><strong>Wskaźniki płynności:</strong> Bieżąca płynność, szybka płynność.</li>
<li><strong>Jakość zarządzania (qualitative factors):</strong> Doświadczenie, strategia, ład korporacyjny.</li>
<li><strong>Perspektywy branży i przewagi konkurencyjne:</strong> Bariery wejścia, siła negocjacyjna, innowacyjność.</li>
</ul></li>
<li><strong>Cel:</strong> Identyfikacja spółek niedowartościowanych (w stosunku do ich wewnętrznej wartości) lub tych z silnym potencjałem wzrostu. Podejścia <em>value investing</em> (inwestowanie w wartość) i <em>growth investing</em> (inwestowanie we wzrost) są podtypami analizy fundamentalnej.</li>
</ul></li>
<li><strong>Analiza Ilościowa (Quantitative Analysis):</strong>
<ul>
<li><strong>Omówienie:</strong> Wykorzystuje modele matematyczne, statystyczne i algorytmy do identyfikacji wzorców i relacji w danych rynkowych i fundamentalnych. Selekcja spółek opiera się na scoringu według wybranych kryteriów ilościowych.</li>
<li><strong>Kluczowe wskaźniki i czynniki:</strong>
<ul>
<li><strong>Wskaźniki momentum:</strong> Siła trendu cenowego.</li>
<li><strong>Wskaźniki zmienności:</strong> Beta, odchylenie standardowe.</li>
<li><strong>Wskaźniki jakości:</strong> Niska zmienność, stabilne zyski.</li>
<li><strong>Czynniki fundamentalne w ujęciu ilościowym:</strong> Np. spółki o niskim P/E, wysokiej stopie dywidendy, silnym wzroście EPS.</li>
</ul></li>
<li><strong>Cel:</strong> Systematyczne identyfikowanie spółek spełniających określone kryteria, często w celu budowy portfeli smart beta lub funduszy ilościowych.</li>
</ul></li>
<li><strong>Analiza Techniczna (Technical Analysis):</strong>
<ul>
<li><strong>Omówienie:</strong> W mniejszym stopniu stosowana w długoterminowych funduszach inwestycyjnych, częściej w funduszach hedgingowych lub aktywnych funduszach akcji o krótkim horyzoncie. Koncentruje się na analizie historycznych danych cenowych i wolumenów w celu prognozowania przyszłych ruchów cen.</li>
<li><strong>Kluczowe wskaźniki i narzędzia:</strong> Wykresy świecowe, średnie kroczące, oscylatory (RSI, MACD), poziomy wsparcia i oporu.</li>
<li><strong>Cel:</strong> Identyfikacja punktów wejścia i wyjścia z pozycji, ale rzadziej podstawą do długoterminowej selekcji spółek.</li>
</ul></li>
<li><strong>Analiza CSR/ESG (Corporate Social Responsibility/Environmental, Social, and Governance):</strong>
<ul>
<li><strong>Omówienie:</strong> Rosnące znaczenie dla funduszy inwestujących odpowiedzialnie. Selekcja spółek obejmuje ocenę ich wpływu na środowisko, społeczeństwo oraz jakość ładu korporacyjnego.</li>
<li><strong>Kluczowe czynniki:</strong> Emisje CO2, zużycie wody, prawa pracownicze, różnorodność, niezależność zarządu, etyka biznesu.</li>
<li><strong>Cel:</strong> Inwestowanie w spółki o wysokich standardach ESG, unikając spółek z kontrowersyjnych branż lub o niskich ocenach ESG.</li>
</ul></li>
<li><strong>Analiza jakościowa i zarządzanie:</strong>
<ul>
<li><strong>Omówienie:</strong> Ocena jakości zarządu, strategii spółki, przewag konkurencyjnych (moat), zdolności do innowacji, siły marki, relacji z klientami i dostawcami.</li>
<li><strong>Cel:</strong> Wybór spółek z trwałymi przewagami konkurencyjnymi i kompetentnym zarządem, zdolnym do realizacji długoterminowej strategii.</li>
</ul></li>
</ol>
<p>Często proces selekcji spółek jest iteracyjny i obejmuje połączenie tych metod. Na przykład, po decyzjach <em>Top Down</em> o alokacji sektorowej, analitycy fundamentalni dokonują głębokiej analizy spółek w ramach tych sektorów, wspierani analizą ilościową w celu identyfikacji wstępnej listy kandydatów.</p>
</section>
<section id="główne-elementy-systemu-zarządzania-ryzykiem-kredytowym-w-funduszach-inwestycyjnych." class="level3">
<h3 class="anchored" data-anchor-id="główne-elementy-systemu-zarządzania-ryzykiem-kredytowym-w-funduszach-inwestycyjnych.">11. Główne elementy systemu zarządzania ryzykiem kredytowym w funduszach inwestycyjnych.</h3>
<p>Zarządzanie ryzykiem kredytowym w funduszach inwestycyjnych koncentruje się głównie na instrumentach dłużnych (obligacje korporacyjne, obligacje rządowe, dłużne papiery wartościowe emitowane przez instytucje finansowe, instrumenty rynku pieniężnego) oraz na ryzyku kontrahenta w przypadku instrumentów pochodnych lub transakcji repo. Główne elementy tego systemu to:</p>
<ol type="1">
<li><strong>Polityka i procedury zarządzania ryzykiem kredytowym:</strong>
<ul>
<li>Definicja apetytu na ryzyko kredytowe funduszu.</li>
<li>Ustalenie ram dla procesów identyfikacji, pomiaru, monitorowania i kontroli ryzyka kredytowego.</li>
<li>Określenie ról i odpowiedzialności (np. komitet inwestycyjny, zespół ryzyka, zarządzający portfelem).</li>
</ul></li>
<li><strong>Analiza i ocena kredytowa emitentów:</strong>
<ul>
<li><strong>Wewnętrzna analiza kredytowa:</strong> Zespół analityków kredytowych funduszu przeprowadza własną, niezależną ocenę zdolności kredytowej emitentów instrumentów dłużnych. Obejmuje to analizę sprawozdań finansowych, modelu biznesowego, pozycji konkurencyjnej, przepływów pieniężnych, jakości zarządzania oraz perspektyw branży i makroekonomicznych.</li>
<li><strong>Wykorzystanie ratingów zewnętrznych:</strong> Korzystanie z ratingów przyznawanych przez agencje ratingowe (np. Standard &amp; Poor’s, Moody’s, Fitch) jako punktu wyjścia lub uzupełnienia własnej analizy. Fundusze często mają limity dotyczące minimalnego wymaganego ratingu kredytowego dla inwestowanych instrumentów.</li>
<li><strong>Monitorowanie zdarzeń kredytowych:</strong> Śledzenie zmian ratingów, informacji rynkowych, wiadomości branżowych i makroekonomicznych, które mogą wpływać na zdolność kredytową emitentów.</li>
</ul></li>
<li><strong>Limity ryzyka kredytowego:</strong>
<ul>
<li><strong>Limity na pojedynczego emitenta:</strong> Ograniczają maksymalną ekspozycję na dłużne papiery wartościowe jednego emitenta.</li>
<li><strong>Limity na sektor/branżę:</strong> Ograniczają koncentrację w długu emitentów z jednej branży, zmniejszając ryzyko specyficzne dla sektora.</li>
<li><strong>Limity ratingowe:</strong> Określają minimalny rating kredytowy dla inwestycji w instrumenty dłużne (np. inwestycje tylko w papiery o ratingu inwestycyjnym BBB- lub wyższym).</li>
<li><strong>Limity geograficzne:</strong> Ograniczają ekspozycję na obligacje emitowane w danym kraju lub regionie.</li>
<li><strong>Limity dla obligacji wysokodochodowych (High-Yield):</strong> Specjalne limity dla obligacji o ratingu spekulacyjnym, jeśli fundusz ma je w strategii.</li>
</ul></li>
<li><strong>Zarządzanie ryzykiem kontrahenta:</strong>
<ul>
<li>W przypadku transakcji OTC (np. swapy, opcje, transakcje repo), fundusz jest narażony na ryzyko niewykonania zobowiązania przez kontrahenta.</li>
<li><strong>Wybór i weryfikacja kontrahentów:</strong> Dokładna ocena wiarygodności kredytowej banków inwestycyjnych i brokerów, z którymi fundusz zawiera transakcje.</li>
<li><strong>Limity na kontrahenta:</strong> Ustanowienie maksymalnej ekspozycji na pojedynczego kontrahenta.</li>
<li><strong>Umowy ISDA (International Swaps and Derivatives Association) i CSA (Credit Support Annex):</strong> Wykorzystanie standardowych umów ramowych i aneksów o zabezpieczeniach w celu ograniczenia ryzyka kontrahenta poprzez codzienne rozliczanie marż i wymianę zabezpieczeń.</li>
<li><strong>Netting (kompensowanie):</strong> W przypadku wielu transakcji z tym samym kontrahentem, zastosowanie nettingu w celu zmniejszenia całkowitej ekspozycji.</li>
</ul></li>
<li><strong>Monitoring i raportowanie ryzyka kredytowego:</strong>
<ul>
<li>Ciągłe monitorowanie ekspozycji kredytowej portfela w czasie rzeczywistym.</li>
<li>Regularne raportowanie o przestrzeganiu limitów, zmianach ratingów, zdarzeniach kredytowych i ogólnej kondycji portfela w zakresie ryzyka kredytowego do zarządzających, komitetów inwestycyjnych i organów nadzorczych.</li>
<li>Wykorzystanie systemów informatycznych do agregacji danych i generowania raportów.</li>
</ul></li>
<li><strong>Testy warunków skrajnych (Stress Testing) i analizy scenariuszowe:</strong>
<ul>
<li>Symulacje wpływu negatywnych scenariuszy makroekonomicznych (np. recesja, kryzys finansowy, spadek ratingów dla całego sektora) na ekspozycję kredytową portfela i potencjalne straty.</li>
<li>Pomaga to w identyfikacji słabych punktów portfela i wczesnym reagowaniu.</li>
</ul></li>
</ol>
</section>
<section id="proszę-omówić-wykorzystanie-sztucznej-inteligencji-w-zarządzaniu-funduszami-inwestycyjnymi." class="level3">
<h3 class="anchored" data-anchor-id="proszę-omówić-wykorzystanie-sztucznej-inteligencji-w-zarządzaniu-funduszami-inwestycyjnymi.">12. Proszę omówić wykorzystanie sztucznej inteligencji w zarządzaniu funduszami inwestycyjnymi.</h3>
<p>Sztuczna Inteligencja (AI), w tym uczenie maszynowe (ML) i głębokie uczenie (DL), rewolucjonizuje zarządzanie funduszami inwestycyjnymi, oferując nowe możliwości w zakresie analizy danych, podejmowania decyzji i automatyzacji. Główne obszary zastosowania to:</p>
<ol type="1">
<li><strong>Udoskonalona Analiza Danych (Enhanced Data Analysis):</strong>
<ul>
<li><strong>Przetwarzanie Dużych Zbiorów Danych (Big Data):</strong> AI jest w stanie przetwarzać i analizować ogromne, zróżnicowane zbiory danych, w tym dane strukturyzowane (sprawozdania finansowe, dane rynkowe) i niestrukturyzowane (wiadomości, raporty analityczne, posty w mediach społecznościowych, transkrypcje telekonferencji, dane satelitarne). Tradycyjne metody nie są w stanie efektywnie przetwarzać takiej skali i różnorodności.</li>
<li><strong>Przetwarzanie Języka Naturalnego (NLP):</strong> Algorytmy NLP mogą analizować teksty, takie jak raporty spółek, wiadomości, analizy makroekonomiczne, by identyfikować sentyment, trendy, ryzyka i możliwości, które są trudne do uchwycenia przez ludzkich analityków. Na przykład, identyfikacja zmiany tonu w raportach kwartalnych zarządów.</li>
</ul></li>
<li><strong>Generowanie Alfy (Alpha Generation):</strong>
<ul>
<li><strong>Predykcja Ruchów Cen Aktywów:</strong> Modele ML mogą identyfikować złożone, nieliniowe wzorce w danych rynkowych i fundamentalnych, które mogą prowadzić do trafniejszych prognoz cen akcji, obligacji czy surowców. Mogą to być modele regresyjne, sieci neuronowe czy algorytmy wzmocnionego uczenia (reinforcement learning).</li>
<li><strong>Strategie Arbitrażowe i HFT (High-Frequency Trading):</strong> W przypadku funduszy hedgingowych i firm HFT, AI pozwala na identyfikację mikro-nieefektywności rynkowych i realizację transakcji w ułamkach sekund.</li>
<li><strong>Selekcja Spółek (Stock Picking):</strong> Algorytmy AI mogą przeszukiwać tysiące spółek, oceniając je na podstawie setek zmiennych (fundamentalnych, technicznych, ESG), by rekomendować te najbardziej atrakcyjne pod kątem danej strategii (np. <em>value</em>, <em>growth</em>, <em>momentum</em>).</li>
</ul></li>
<li><strong>Zarządzanie Ryzykiem (Risk Management):</strong>
<ul>
<li><strong>Precyzyjne Modele Ryzyka:</strong> AI może budować bardziej złożone i dynamiczne modele ryzyka, które uwzględniają nieliniowe zależności i zmiany reżimu rynkowego, co prowadzi do dokładniejszych estymacji VaR, CVaR, czy ryzyka płynności.</li>
<li><strong>Wykrywanie Anomalii (Anomaly Detection):</strong> Algorytmy ML mogą szybko wykrywać nietypowe wzorce w danych transakcyjnych lub rynkowych, sygnalizując potencjalne ryzyka operacyjne, manipulacje rynkowe czy nieoczekiwane zmiany sentymentu.</li>
<li><strong>Stress Testing i Scenariusze:</strong> AI może generować i analizować znacznie szerszy zakres scenariuszy stress-testowych, identyfikując słabe punkty portfela w ekstremalnych warunkach rynkowych.</li>
<li><strong>Zarządzanie Ryzykiem Kredytowym:</strong> Lepsza ocena zdolności kredytowej emitentów poprzez analizę ogromnych ilości danych, w tym niestrukturyzowanych.</li>
</ul></li>
<li><strong>Personalizacja i Obsługa Klienta (Personalization and Client Service):</strong>
<ul>
<li><strong>Robo-doradztwo:</strong> Platformy oparte na AI mogą oferować spersonalizowane strategie inwestyzyjne i rekomendacje portfelowe, dostosowane do profilu ryzyka i celów indywidualnych inwestorów.</li>
<li><strong>Automatyzacja Procesów:</strong> AI może automatyzować rutynowe zadania, takie jak generowanie raportów, rebalansowanie portfeli czy wstępna obsługa zapytań klientów (chatboty).</li>
</ul></li>
<li><strong>Optymalizacja Portfela (Portfolio Optimization):</strong>
<ul>
<li>AI może znajdować bardziej złożone rozwiązania dla problemów optymalizacji portfela, uwzględniając wiele ograniczeń (limity, cele, koszty transakcyjne) i minimalizując ryzyko przy danym zwrocie lub maksymalizując zwrot przy danym ryzyku.</li>
</ul></li>
</ol>
<p><strong>Wyzwania i ograniczenia:</strong></p>
<ul>
<li><strong>Jakość Danych:</strong> Modele AI są tak dobre, jak dane, na których są trenowane. Niska jakość danych lub ich stronniczość może prowadzić do błędnych wyników.</li>
<li><strong>Interpretowalność (Explainability/Interpretability):</strong> Złożone modele AI (tzw. “czarne skrzynki”) mogą być trudne do zinterpretowania, co utrudnia zrozumienie, dlaczego podjęły daną decyzję, co jest problematyczne w silnie regulowanej branży finansowej.</li>
<li><strong>Zbyt Duże Zaufanie:</strong> Ryzyko nadmiernego polegania na algorytmach bez ludzkiej weryfikacji i oceny.</li>
<li><strong>Koszty Implementacji:</strong> Wdrożenie i utrzymanie zaawansowanych systemów AI jest kosztowne i wymaga specjalistycznej wiedzy.</li>
<li><strong>Regulacje:</strong> Rozwój regulacji dotyczących wykorzystania AI w finansach jest wciąż na wczesnym etapie.</li>
</ul>
<p>Podsumowując, AI zmienia sposób, w jaki fundusze inwestycyjne zarządzają aktywami, umożliwiając bardziej zaawansowaną analizę, predykcję i zarządzanie ryzykiem. Nie zastępuje jednak całkowicie ludzkich zarządzających, lecz staje się potężnym narzędziem wspierającym ich decyzje.</p>
</section>
</section>
<section id="asset-management" class="level2">
<h2 class="anchored" data-anchor-id="asset-management">Asset management</h2>
<section id="wyjaśnij-czym-jest-benchmark-i-podaj-przykłady-możliwych-benchmarków-dla-funduszu-akcyjnego-dłużnego-i-pieniężnego." class="level3">
<h3 class="anchored" data-anchor-id="wyjaśnij-czym-jest-benchmark-i-podaj-przykłady-możliwych-benchmarków-dla-funduszu-akcyjnego-dłużnego-i-pieniężnego.">1. Wyjaśnij czym jest benchmark i podaj przykłady możliwych benchmarków dla funduszu akcyjnego, dłużnego i pieniężnego.</h3>
<p><strong>Benchmark</strong> to punkt odniesienia, który służy do oceny wyników inwestycyjnych danego funduszu, portfela lub strategii. Stanowi on miarę rynkowego ryzyka i zwrotu, umożliwiając porównanie osiągnięć zarządzającego z ogólnym trendem rynkowym lub z wynikami innych podobnych inwestycji. Wybór odpowiedniego benchmarku jest kluczowy, ponieważ powinien on realistycznie odzwierciedlać cel inwestycyjny funduszu, jego strukturę oraz zakres aktywów, w które inwestuje.</p>
<p><strong>Przykłady benchmarków:</strong></p>
<ul>
<li><strong>Fundusz Akcyjny:</strong>
<ul>
<li><strong>Indeksy Giełdowe:</strong> Najczęściej używane są szerokie indeksy odzwierciedlające cały rynek akcji lub jego specyficzny segment.
<ul>
<li><strong>Globalne:</strong> MSCI World, FTSE Global All Cap Index, S&amp;P 500 (dla funduszy inwestujących w USA).</li>
<li><strong>Europejskie:</strong> STOXX Europe 600, Euro Stoxx 50.</li>
<li><strong>Polskie:</strong> WIG, WIG20 (dla funduszy akcji polskich).</li>
</ul></li>
<li><strong>Indeksy Sektorowe:</strong> Jeśli fundusz specjalizuje się w konkretnym sektorze (np. technologiczny, finansowy), benchmarkiem może być odpowiedni indeks sektorowy (np. NASDAQ 100 dla funduszu technologicznego).</li>
<li><strong>Indeksy Stylu Inwestowania:</strong> Dla funduszy Value (niskie P/E, P/B) lub Growth (wysokie tempo wzrostu zysków), benchmarkiem mogą być indeksy typu Russell 1000 Value/Growth.</li>
</ul></li>
<li><strong>Fundusz Dłużny:</strong>
<ul>
<li><strong>Indeksy Obligacji:</strong> Benchmarki dla funduszy dłużnych są zazwyczaj oparte na indeksach obligacji o określonej zapadalności, ratingu kredytowym i walucie.
<ul>
<li><strong>Globalne:</strong> Bloomberg Global Aggregate Bond Index.</li>
<li><strong>Obligacje Skarbowe:</strong> Indeksy obligacji skarbowych o różnych terminach do wykupu (np. 1-3 lata, 5-7 lat, 10+ lat), np. Bloomberg U.S. Treasury Index.</li>
<li><strong>Obligacje Korporacyjne:</strong> Indeksy obligacji korporacyjnych o różnym ratingu (np. High-Grade Corporate Bond Index, High-Yield Corporate Bond Index).</li>
<li><strong>Obligacje Inflacyjne:</strong> Indeksy obligacji indeksowanych inflacją (np. Bloomberg U.S. Treasury Inflation-Protected Securities (TIPS) Index).</li>
<li><strong>Polskie:</strong> Indeksy obligacji skarbowych emitowanych w PLN.</li>
</ul></li>
</ul></li>
<li><strong>Fundusz Pieniężny:</strong>
<ul>
<li><strong>Stopy Rynku Międzybankowego:</strong> Ze względu na krótki horyzont inwestycyjny i niskie ryzyko, benchmarkami są zazwyczaj stopy procentowe krótkoterminowych instrumentów dłużnych.
<ul>
<li><strong>EURIBOR (Euro Interbank Offered Rate), LIBOR (London Interbank Offered Rate - choć w fazie wycofywania), SOFR (Secured Overnight Financing Rate - jako następca LIBOR).</strong></li>
<li><strong>W Polsce:</strong> WIBOR (Warsaw Interbank Offered Rate) 1M, 3M.</li>
</ul></li>
<li><strong>Indeksy Krótkoterminowych Obligacji:</strong> Indeksy skupiające bardzo krótkoterminowe papiery dłużne, np. Bloomberg U.S. Treasury Bill Index.</li>
<li><strong>Oprocentowanie Lokaty Bankowej:</strong> W niektórych przypadkach, szczególnie dla funduszy o bardzo niskim profilu ryzyka, benchmarkiem może być średnie oprocentowanie lokat bankowych.</li>
</ul></li>
</ul>
</section>
<section id="wyjaśnij-skróty-pkb-cpi-ism-oraz-opisz-jak-mogą-być-wykorzystywane-w-zarządzaniu-kapitałem" class="level3">
<h3 class="anchored" data-anchor-id="wyjaśnij-skróty-pkb-cpi-ism-oraz-opisz-jak-mogą-być-wykorzystywane-w-zarządzaniu-kapitałem">2. Wyjaśnij skróty PKB, CPI, ISM oraz opisz jak mogą być wykorzystywane w zarządzaniu kapitałem?</h3>
<p>Te trzy wskaźniki makroekonomiczne są kluczowe dla analityków i zarządzających portfelami, ponieważ dostarczają informacji o ogólnej kondycji gospodarki, inflacji oraz aktywności produkcyjnej i usługowej.</p>
<ul>
<li><strong>PKB (Produkt Krajowy Brutto - Gross Domestic Product)</strong>
<ul>
<li><strong>Definicja:</strong> Jest to łączna wartość rynkowa wszystkich finalnych dóbr i usług wyprodukowanych w danym kraju w określonym czasie (zazwyczaj kwartał lub rok). Stanowi najważniejszy wskaźnik aktywności gospodarczej i miernik wielkości gospodarki.</li>
<li><strong>Wzór (metoda wydatkowa):</strong> <img src="https://latex.codecogs.com/png.latex?PKB%20=%20C%20+%20I%20+%20G%20+%20(X%20-%20M)"> Gdzie:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?C"> = Wydatki konsumpcyjne (consumption)</li>
<li><img src="https://latex.codecogs.com/png.latex?I"> = Inwestycje brutto (investment)</li>
<li><img src="https://latex.codecogs.com/png.latex?G"> = Wydatki rządowe (government spending)</li>
<li><img src="https://latex.codecogs.com/png.latex?X"> = Eksport (exports)</li>
<li><img src="https://latex.codecogs.com/png.latex?M"> = Import (imports)</li>
</ul></li>
<li><strong>Wykorzystanie w zarządzaniu kapitałem:</strong>
<ul>
<li><strong>Ocena Kondycji Gospodarczej:</strong> Wzrost PKB sygnalizuje ekspansję gospodarczą, co zazwyczaj jest korzystne dla rynków akcji (wzrost zysków spółek) i generalnie sprzyja zwiększaniu apetytu na ryzyko. Spowolnienie lub recesja (ujemny wzrost PKB) może prowadzić do spadków na rynkach akcji i wzrostu popytu na bezpieczne aktywa (np. obligacje skarbowe).</li>
<li><strong>Alokacja Aktywów:</strong> W fazach silnego wzrostu PKB, zarządzający mogą zwiększać ekspozycję na akcje, szczególnie cykliczne. W okresach spowolnienia, preferowane mogą być obligacje lub akcje spółek defensywnych.</li>
<li><strong>Prognozowanie Zysków:</strong> Zmiany w PKB korelują ze zmianami w przychodach i zyskach przedsiębiorstw, co jest kluczowe dla wyceny akcji.</li>
</ul></li>
</ul></li>
<li><strong>CPI (Wskaźnik Cen Konsumpcyjnych - Consumer Price Index)</strong>
<ul>
<li><strong>Definicja:</strong> Mierzy średnią zmianę cen w czasie koszyka dóbr i usług konsumpcyjnych, nabywanych przez typowe gospodarstwo domowe. Jest podstawową miarą inflacji.</li>
<li><strong>Wykorzystanie w zarządzaniu kapitałem:</strong>
<ul>
<li><strong>Ocena Inflacji:</strong> Wysoka inflacja (wzrost CPI) eroduje siłę nabywczą pieniądza i może negatywnie wpływać na obligacje o stałym oprocentowaniu (spadek realnej stopy zwrotu). Banki centralne reagują na inflację podwyżkami stóp procentowych, co ma wpływ na koszty finansowania przedsiębiorstw i wycenę aktywów.</li>
<li><strong>Polityka Pieniężna:</strong> CPI jest kluczowym wskaźnikiem monitorowanym przez banki centralne. Prognozy CPI wpływają na decyzje dotyczące stóp procentowych, co bezpośrednio przekłada się na rynek obligacji (wzrost stóp = spadek cen obligacji) i pośrednio na rynek akcji.</li>
<li><strong>Inwestycje Odporne na Inflację:</strong> W okresach rosnącego CPI, zarządzający mogą rozważać inwestycje w aktywa odporne na inflację, takie jak surowce, nieruchomości, złoto, czy obligacje indeksowane inflacją (TIPS).</li>
</ul></li>
</ul></li>
<li><strong>ISM (Institute for Supply Management - wskaźniki PMI/NMI)</strong>
<ul>
<li><strong>Definicja:</strong> ISM publikuje dwa kluczowe wskaźniki:
<ul>
<li><strong>Manufacturing PMI (Purchasing Managers’ Index):</strong> Indeks menedżerów zakupów dla sektora przemysłowego.</li>
<li><strong>Services PMI (Non-Manufacturing/Services PMI):</strong> Indeks menedżerów zakupów dla sektora usługowego.</li>
<li>Oba wskaźniki są oparte na ankietach przeprowadzanych wśród menedżerów zakupów i mierzą ich sentyment odnośnie nowych zamówień, produkcji, zatrudnienia, zapasów i dostaw. Wartość powyżej 50 wskazuje na ekspansję sektora, poniżej 50 na jego kurczenie się.</li>
</ul></li>
<li><strong>Wykorzystanie w zarządzaniu kapitałem:</strong>
<ul>
<li><strong>Wskaźniki Wyprzedzające:</strong> PMI/NMI są uznawane za ważne wskaźniki wyprzedzające aktywności gospodarczej. Zmiany w nich często antycypują zmiany w PKB. Silny wzrost PMI/NMI sugeruje poprawę koniunktury i jest pozytywny dla akcji, szczególnie spółek cyklicznych.</li>
<li><strong>Sentyment Rynkowy:</strong> Publikacje ISM mają duży wpływ na sentyment rynkowy, ponieważ szybko odzwierciedlają zmiany w perspektywach biznesowych. Niskie odczyty mogą wzbudzać obawy o recesję, podczas gdy wysokie wskazują na ożywienie.</li>
<li><strong>Decyzje Inwestycyjne:</strong> Zarządzający wykorzystują ISM do podejmowania decyzji o alokacji sektorowej. Na przykład, rosnący PMI dla przemysłu może skłonić do zwiększenia ekspozycji na sektory przemysłowe i materiałowe.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="wymień-i-opisz-cztery-wskaźniki-gospodarcze-opisujące-koniunkturę." class="level3">
<h3 class="anchored" data-anchor-id="wymień-i-opisz-cztery-wskaźniki-gospodarcze-opisujące-koniunkturę.">3. Wymień i opisz cztery wskaźniki gospodarcze opisujące koniunkturę.</h3>
<p>Wskaźniki koniunktury gospodarczej dostarczają informacji o bieżącym stanie i przyszłych perspektywach gospodarki. Możemy je podzielić na wyprzedzające, zbieżne i opóźnione. Oto cztery kluczowe:</p>
<ol type="1">
<li><strong>Stopa Bezrobocia (Unemployment Rate):</strong>
<ul>
<li><strong>Opis:</strong> Jest to odsetek siły roboczej, która jest bezrobotna, ale aktywnie poszukuje pracy i jest dostępna do jej podjęcia. Obliczana jest jako stosunek liczby osób bezrobotnych do całkowitej siły roboczej (zatrudnieni + bezrobotni).</li>
<li><strong>Znaczenie dla koniunktury:</strong> Stopa bezrobocia jest wskaźnikiem <strong>opóźnionym</strong>. Zazwyczaj spada podczas ekspansji gospodarczej (firmy zatrudniają więcej pracowników) i rośnie w okresach spowolnienia lub recesji (firmy redukują zatrudnienie). Niska stopa bezrobocia świadczy o silnym rynku pracy i jest pozytywnym sygnałem dla konsumpcji, co wspiera wzrost gospodarczy. Jednak zbyt niska stopa bezrobocia może prowadzić do wzrostu presji płacowej i inflacyjnej.</li>
</ul></li>
<li><strong>Inflacja (Inflation Rate - mierzona np. CPI lub HICP):</strong>
<ul>
<li><strong>Opis:</strong> Mierzy tempo wzrostu ogólnego poziomu cen dóbr i usług w gospodarce w określonym czasie. Najczęściej używanym wskaźnikiem jest CPI (Consumer Price Index) lub w strefie euro HICP (Harmonised Index of Consumer Prices).</li>
<li><strong>Znaczenie dla koniunktury:</strong> Inflacja jest wskaźnikiem <strong>zbieżnym</strong>. Umiarkowana inflacja (np. 2-3%) jest często postrzegana jako zdrowa dla gospodarki, sygnalizując wzrost popytu. Wysoka, niekontrolowana inflacja (galopująca lub hiperinflacja) jest szkodliwa, ponieważ obniża siłę nabywczą, destabilizuje gospodarkę i prowadzi do niepewności. Deflacja (spadek cen) jest również niekorzystna, ponieważ może prowadzić do spirali spadku cen i zmniejszenia inwestycji. Monitorowanie inflacji jest kluczowe dla banków centralnych w kontekście polityki pieniężnej.</li>
</ul></li>
<li><strong>Wskaźniki Zaufania Konsumentów/Przedsiębiorców (Consumer Confidence Index / Business Confidence Index):</strong>
<ul>
<li><strong>Opis:</strong> To ankiety mierzące optymizm konsumentów lub przedsiębiorców odnośnie bieżącej i przyszłej sytuacji gospodarczej, ich finansów osobistych/firmowych oraz zamiarów zakupowych/inwestycyjnych. Przykładem jest Conference Board Consumer Confidence Index w USA czy indeks IFO w Niemczech.</li>
<li><strong>Znaczenie dla koniunktury:</strong> Są to wskaźniki <strong>wyprzedzające</strong>. Wysokie wskaźniki zaufania wskazują na optymizm, który zazwyczaj przekłada się na zwiększone wydatki konsumpcyjne (dla konsumentów) i inwestycje (dla przedsiębiorców), co sprzyja wzrostowi gospodarczemu. Spadek zaufania może sygnalizować nadchodzące spowolnienie, gdyż konsumenci mogą ograniczyć wydatki, a firmy inwestycje.</li>
</ul></li>
<li><strong>Wskaźnik Produkcji Przemysłowej (Industrial Production Index):</strong>
<ul>
<li><strong>Opis:</strong> Mierzy zmiany w wolumenie produkcji fizycznej w sektorach przemysłu, górnictwa i usług użyteczności publicznej.</li>
<li><strong>Znaczenie dla koniunktury:</strong> Jest to wskaźnik <strong>zbieżny</strong>. Wzrost produkcji przemysłowej świadczy o ekspansji gospodarczej i zwiększonym popycie na dobra. Spadek sygnalizuje osłabienie aktywności gospodarczej. Choć usługi stanowią coraz większą część nowoczesnych gospodarek, produkcja przemysłowa nadal jest ważnym barometrem cyklu koniunkturalnego, zwłaszcza dla sektorów wrażliwych na cykl.</li>
</ul></li>
</ol>
</section>
<section id="jakie-są-największe-różnice-w-inwestowaniu-aktywnym-i-pasywnym-z-punktu-widzenia-inwestora" class="level3">
<h3 class="anchored" data-anchor-id="jakie-są-największe-różnice-w-inwestowaniu-aktywnym-i-pasywnym-z-punktu-widzenia-inwestora">4. Jakie są największe różnice w inwestowaniu aktywnym i pasywnym z punktu widzenia inwestora?</h3>
<p>Różnice między <strong>inwestowaniem aktywnym</strong> a <strong>pasywnym</strong> mają fundamentalne znaczenie dla strategii inwestycyjnej, wpływając na koszty, oczekiwane zwroty oraz poziom zaangażowania samego inwestora.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 4%">
<col style="width: 44%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Cecha</th>
<th style="text-align: left;">Inwestowanie Aktywne</th>
<th style="text-align: left;">Inwestowanie Pasywne</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Cel</strong></td>
<td style="text-align: left;"><strong>Przewyższenie wyników benchmarku</strong> (rynku) poprzez aktywne zarządzanie portfelem, wybór konkretnych aktywów i timing rynkowy.</td>
<td style="text-align: left;"><strong>Odwzorowanie wyników benchmarku</strong> (rynku) poprzez replikację jego składu. Cel to uzyskanie rynkowej stopy zwrotu.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Strategia</strong></td>
<td style="text-align: left;"><strong>Selekcja aktywów</strong> (stock picking), <strong>timing rynkowy</strong>, czyli kupowanie i sprzedawanie w optymalnym momencie, próba przewidzenia przyszłych ruchów cen.</td>
<td style="text-align: left;"><strong>Kup i trzymaj</strong> (buy and hold). Inwestor kupuje instrument, który śledzi dany indeks (np. S&amp;P 500) i utrzymuje go przez długi czas, bez prób aktywnego zarządzania.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Koszty (Opłaty)</strong></td>
<td style="text-align: left;"><strong>Wyższe.</strong> Wynika to z kosztów zatrudnienia profesjonalnych zarządzających, częstszego handlu (prowizje, spready bid-ask), opłat za zarządzanie oraz potencjalnych kosztów podatkowych (częściej realizowane zyski).</td>
<td style="text-align: left;"><strong>Znacznie niższe.</strong> Główne koszty to minimalne opłaty za zarządzanie (np. w funduszach ETF) oraz niższe koszty transakcyjne ze względu na rzadkie zmiany w portfelu.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Potencjał Zwrotu</strong></td>
<td style="text-align: left;"><strong>Potencjalnie wyższe zwroty</strong> niż rynek, ale wiąże się to również z <strong>ryzykiem niedociągnięcia do benchmarku</strong>. Historycznie większość aktywnych zarządzających nie była w stanie konsekwentnie przewyższać rynku po uwzględnieniu kosztów.</td>
<td style="text-align: left;"><strong>Zwroty zbliżone do rynkowych.</strong> Inwestor akceptuje średnią rynkową stopę zwrotu, unikając jednocześnie ryzyka niedostatecznych wyników aktywnego zarządzania.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Ryzyko</strong></td>
<td style="text-align: left;"><strong>Wyższe ryzyko “błędu ludzkiego”</strong> – błędne decyzje zarządzającego, zły timing, niewłaściwy wybór aktywów. Ryzyko, że zarządzający nie osiągnie zamierzonego celu.</td>
<td style="text-align: left;"><strong>Ryzyko rynkowe.</strong> Inwestor jest narażony na fluktuacje całego rynku. Nie ma ryzyka, że zarządzający “popełni błąd” względem benchmarku, ponieważ benchmark jest śledzony.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Zaangażowanie Inwestora</strong></td>
<td style="text-align: left;"><strong>Niskie</strong>, jeśli inwestor powierza środki funduszowi aktywnie zarządzanemu. Jeśli inwestor sam zarządza aktywnie, wymaga to <strong>dużego zaangażowania</strong> (analiza, monitorowanie, czas).</td>
<td style="text-align: left;"><strong>Niskie.</strong> Po wyborze odpowiedniego indeksu i instrumentu (np. ETF), inwestycja wymaga minimalnego monitorowania. Idealne dla inwestorów z ograniczonym czasem i wiedzą.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Transparentność</strong></td>
<td style="text-align: left;">Mniejsza, skład portfela może być zmieniany dynamicznie, a dokładne uzasadnienie decyzji inwestycyjnych może być mniej przejrzyste.</td>
<td style="text-align: left;">Większa, skład portfela jest publicznie znany i odzwierciedla skład wybranego indeksu.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Instrumenty</strong></td>
<td style="text-align: left;">Aktywnie zarządzane fundusze inwestycyjne (np. fundusze akcji, fundusze hedgingowe), indywidualne konta zarządzane, samodzielny trading.</td>
<td style="text-align: left;">Fundusze indeksowe (mutual funds), fundusze giełdowe (ETFs) śledzące indeksy (np. akcji, obligacji, surowców).</td>
</tr>
</tbody>
</table>
<p>Dla <strong>inwestora początkującego</strong> lub tego, który stawia na <strong>długoterminowy, stabilny wzrost</strong> przy minimalnym zaangażowaniu i kosztach, <strong>inwestowanie pasywne</strong> jest często rekomendowanym wyborem. Z kolei <strong>inwestowanie aktywne</strong> może kusić wizją ponadprzeciętnych zysków, ale wiąże się z wyższymi kosztami, większym ryzykiem i wymaga zaufania do umiejętności zarządzającego lub poświęcenia znacznego czasu i wiedzy.</p>
</section>
<section id="wyjaśnij-jak-rozumiesz-stwierdzenie-johna-keynesa-rynek-może-być-dłużej-nieefektywny-niż-ty-możesz-być-wypłacalny." class="level3">
<h3 class="anchored" data-anchor-id="wyjaśnij-jak-rozumiesz-stwierdzenie-johna-keynesa-rynek-może-być-dłużej-nieefektywny-niż-ty-możesz-być-wypłacalny.">5. Wyjaśnij jak rozumiesz stwierdzenie Johna Keynesa: „Rynek może być dłużej nieefektywny niż ty możesz być wypłacalny”.</h3>
<p>To słynne powiedzenie Johna Maynarda Keynesa jest fundamentalną przestrogą dla każdego inwestora, zwłaszcza tych stosujących strategie kontrariańskie lub polegających na długoterminowych przewartościowaniach/niedowartościowaniach. Możemy je interpretować na kilka sposobów, które są ze sobą powiązane:</p>
<ol type="1">
<li><strong>Dominacja Sentymentu i Psychologii nad Fundamentalną Wyceną:</strong> Keynes, jako bystry obserwator rynków, zdawał sobie sprawę, że ceny aktywów nie zawsze odzwierciedlają ich rzeczywistą, fundamentalną wartość. Mogą być one przez długi czas napędzane przez irracjonalny optymizm (bańki spekulacyjne) lub pesymizm (krachy). Inwestor może prawidłowo zidentyfikować, że dany aktyw jest przewartościowany lub niedowartościowany z perspektywy fundamentalnej, ale rynek może ignorować te fundamenty przez nieoczekiwanie długi okres.</li>
<li><strong>Ograniczenia Czasowe i Płynnościowe:</strong> Nawet jeśli inwestor ma rację co do kierunku, w którym rynek ostatecznie podąży, jego zdolność do utrzymania pozycji jest ograniczona przez jego kapitał i płynność. Jeśli inwestor zajmie pozycję krótką na przewartościowanym aktywie, a jego cena nadal rośnie, będzie musiał ponosić straty (np. dopłacać do depozytu zabezpieczającego w przypadku pozycji lewarowanych) lub jego kapitał zostanie zjedzony przez te straty, zanim rynek “skoryguje” się do fundamentalnej wartości. W rezultacie, inwestor może zostać zmuszony do zamknięcia pozycji ze stratą, zanim jego teza inwestycyjna się sprawdzi.</li>
<li><strong>Brak Płynności i Margin Calls:</strong> Dla inwestorów korzystających z dźwigni finansowej, problem wypłacalności staje się jeszcze bardziej krytyczny. Rosnące straty mogą prowadzić do wezwań do uzupełnienia depozytu (margin calls). Brak możliwości ich pokrycia skutkuje przymusowym zamknięciem pozycji, co tylko pogłębia stratę, niezależnie od tego, czy długoterminowa prognoza była słuszna.</li>
<li><strong>Znaczenie Zarządzania Ryzykiem i Horyzontu Czasowego:</strong> Powiedzenie Keynesa podkreśla, że nawet najbardziej trafna analiza fundamentalna nie jest gwarancją sukcesu, jeśli inwestor nie zarządza odpowiednio ryzykiem i nie ma wystarczającego kapitału, aby przetrwać okresy irracjonalnych ruchów rynkowych. To przestroga przed nadmierną pewnością siebie i niedoszacowaniem wpływu psychologii rynkowej.</li>
</ol>
<p><strong>Praktyczne Implikacje dla Inwestora (zwłaszcza aktywnego):</strong></p>
<ul>
<li><strong>Dywersyfikacja:</strong> Nie stawiaj wszystkiego na jedną kartę, nawet jeśli jesteś przekonany o słuszności swojej tezy.</li>
<li><strong>Zarządzanie Kapitałem:</strong> Nie angażuj całego kapitału w jedną, nawet najbardziej perspektywiczną, inwestycję. Pozostaw sobie bufor płynności.</li>
<li><strong>Stop-Lossy:</strong> Używaj narzędzi do zarządzania ryzykiem, takich jak zlecenia stop-loss, aby ograniczyć potencjalne straty, jeśli rynek idzie wbrew twoim oczekiwaniom.</li>
<li><strong>Realizm:</strong> Pamiętaj, że rynki mogą zachowywać się irracjonalnie przez dłuższy czas, niż można by przypuszczać na podstawie fundamentów.</li>
<li><strong>Cierpliwość, ale z Ograniczeniami:</strong> Cierpliwość jest cnotą, ale musi iść w parze z realistyczną oceną ryzyka i wytrzymałości finansowej.</li>
</ul>
<p>W kontekście zarządzania kapitałem, cytat Keynesa jest przypomnieniem, że inwestowanie to nie tylko analiza danych i modeli, ale także psychologia, zarządzanie ryzykiem i zdolność do przetrwania okresów, w których rynek wydaje się zachowywać irracjonalnie.</p>
</section>
<section id="opisz-potencjał-zysku-w-trzech-różnych-klasach-aktywów." class="level3">
<h3 class="anchored" data-anchor-id="opisz-potencjał-zysku-w-trzech-różnych-klasach-aktywów.">6. Opisz potencjał zysku w trzech różnych klasach aktywów.</h3>
<p>Potencjał zysku w różnych klasach aktywów jest nierozerwalnie związany z poziomem ryzyka, jaki te aktywa niosą. Generalnie, im wyższe oczekiwane zwroty, tym wyższe ryzyko.</p>
<section id="akcje-equity" class="level4">
<h4 class="anchored" data-anchor-id="akcje-equity">1. Akcje (Equity)</h4>
<ul>
<li><strong>Charakterystyka:</strong> Akcje reprezentują udział własnościowy w spółce. Inwestorzy w akcje stają się współwłaścicielami przedsiębiorstwa i czerpią korzyści z jego sukcesu.</li>
<li><strong>Główne źródła zysku:</strong>
<ul>
<li><strong>Wzrost Wartości (Capital Appreciation):</strong> Głównym źródłem zysku jest wzrost ceny akcji na giełdzie, wynikający z rozwoju spółki, wzrostu jej zysków, pozytywnych perspektyw rynkowych, innowacji, czy ekspansji.</li>
<li><strong>Dywidendy:</strong> Część zysku spółki wypłacana akcjonariuszom. Dywidendy mogą stanowić stały strumień dochodu, zwłaszcza dla spółek o ugruntowanej pozycji (np. spółki dywidendowe, utilities).</li>
</ul></li>
<li><strong>Potencjał Zysku:</strong>
<ul>
<li><strong>Historycznie najwyższy:</strong> W długim terminie, akcje historycznie generowały najwyższe stopy zwrotu spośród głównych klas aktywów, przewyższając obligacje i gotówkę. Jest to premia za ryzyko (equity risk premium).</li>
<li><strong>Wysoka zmienność:</strong> Potencjał wysokiego zysku idzie w parze z wysoką zmiennością (ryzykiem). Ceny akcji mogą gwałtownie rosnąć w okresach hossy, ale także znacząco spadać w okresach bessy, recesji lub kryzysów.</li>
<li><strong>Zależność od koniunktury:</strong> Potencjał zysku z akcji jest silnie skorelowany z cyklem koniunkturalnym. W fazie ekspansji gospodarczej zyski spółek rosną, co napędza ceny akcji. W fazie spowolnienia lub recesji, zyski spadają, a ceny akcji korygują.</li>
<li><strong>Przykłady:</strong> Wzrosty o kilkaset procent w ciągu kilku lat dla innowacyjnych spółek technologicznych (np. NVIDIA, Tesla w przeszłości), stabilne, ale niższe, zwroty z dywidend dla spółek value.</li>
</ul></li>
</ul>
</section>
<section id="obligacje-bonds" class="level4">
<h4 class="anchored" data-anchor-id="obligacje-bonds">2. Obligacje (Bonds)</h4>
<ul>
<li><strong>Charakterystyka:</strong> Obligacje to dłużne papiery wartościowe, które reprezentują pożyczkę udzieloną emitentowi (rządowi, korporacji, samorządowi) w zamian za obietnicę regularnych płatności odsetkowych (kuponów) i zwrotu kapitału w terminie wykupu.</li>
<li><strong>Główne źródła zysku:</strong>
<ul>
<li><strong>Płatności Odsetkowe (Kupony):</strong> Podstawowym źródłem zysku są regularne płatności odsetkowe.</li>
<li><strong>Wzrost Wartości (Capital Appreciation):</strong> Ceny obligacji mogą rosnąć na rynku wtórnym, gdy stopy procentowe spadają. Inwestor może sprzedać obligację przed terminem wykupu po wyższej cenie niż cena zakupu.</li>
<li><strong>Dyskonto:</strong> Zakup obligacji poniżej wartości nominalnej i jej wykup po wartości nominalnej.</li>
</ul></li>
<li><strong>Potencjał Zysku:</strong>
<ul>
<li><strong>Niższy, ale bardziej stabilny:</strong> Potencjał zysku z obligacji jest zazwyczaj niższy niż z akcji, ale charakteryzuje się znacznie niższą zmiennością. Stanowią one ważny element dywersyfikacji portfela.</li>
<li><strong>Zależność od stóp procentowych:</strong> Ceny obligacji są odwrotnie skorelowane ze stopami procentowymi. Wzrost stóp procentowych powoduje spadek cen obligacji istniejących na rynku, i na odwrót. Ryzyko stopy procentowej jest kluczowe.</li>
<li><strong>Ryzyko Kredytowe:</strong> Obligacje korporacyjne niosą ze sobą ryzyko niewypłacalności emitenta (ryzyko kredytowe), co jest odzwierciedlone w ratingach kredytowych i premii za ryzyko (spread). Obligacje skarbowe uważane są za najbezpieczniejsze, zwłaszcza te emitowane przez stabilne rządy.</li>
<li><strong>Przykłady:</strong> Obligacje skarbowe USA mogą oferować stopy zwrotu rzędu 3-5% rocznie (w zależności od stóp procentowych i terminu do wykupu), podczas gdy obligacje korporacyjne wysokiego ryzyka (junk bonds) mogą oferować znacznie wyższe kupony, ale z proporcjonalnie wyższym ryzykiem straty kapitału.</li>
</ul></li>
</ul>
</section>
<section id="nieruchomości-real-estate" class="level4">
<h4 class="anchored" data-anchor-id="nieruchomości-real-estate">3. Nieruchomości (Real Estate)</h4>
<ul>
<li><strong>Charakterystyka:</strong> Inwestowanie w nieruchomości może obejmować bezpośrednie posiadanie nieruchomości (mieszkalne, komercyjne), fundusze REITs (Real Estate Investment Trusts) lub fundusze nieruchomościowe.</li>
<li><strong>Główne źródła zysku:</strong>
<ul>
<li><strong>Dochód z Wynajmu:</strong> Regularne wpływy z czynszu (dla nieruchomości generujących dochód).</li>
<li><strong>Wzrost Wartości (Capital Appreciation):</strong> Wzrost wartości nieruchomości w czasie, wynikający z inflacji, wzrostu popytu, rozwoju obszaru, czy poprawy infrastruktury.</li>
</ul></li>
<li><strong>Potencjał Zysku:</strong>
<ul>
<li><strong>Umiarkowany do wysokiego:</strong> Potencjał zysku z nieruchomości może być znaczący w długim terminie, zwłaszcza w okresach wzrostu gospodarczego i inflacji. Nieruchomości często pełnią rolę zabezpieczenia przed inflacją.</li>
<li><strong>Niska płynność i wysokie koszty transakcyjne (dla bezpośrednich inwestycji):</strong> Nieruchomości są aktywami o niskiej płynności. Zakup i sprzedaż są czasochłonne i kosztowne (prowizje, podatki, opłaty notarialne).</li>
<li><strong>Wrażliwość na cykl koniunkturalny i stopy procentowe:</strong> Rynek nieruchomości jest cykliczny i wrażliwy na stopy procentowe (koszt kredytu hipotecznego). Wzrost stóp procentowych może obniżyć dostępność kredytu i schłodzić rynek.</li>
<li><strong>Zróżnicowanie:</strong> Potencjał zysku zależy od lokalizacji, typu nieruchomości i warunków rynkowych. REITs oferują większą płynność i dywersyfikację niż bezpośrednie posiadanie, ale są bardziej skorelowane z rynkiem akcji.</li>
<li><strong>Przykłady:</strong> Wzrost wartości nieruchomości mieszkalnych w dużych miastach o 5-10% rocznie plus dochód z wynajmu, lub stabilne dywidendy z REITs.</li>
</ul></li>
</ul>
<p><strong>Podsumowanie:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 10%">
<col style="width: 26%">
<col style="width: 15%">
<col style="width: 23%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Klasa Aktywów</th>
<th style="text-align: left;">Potencjał Zysku (Długoterminowy)</th>
<th style="text-align: left;">Ryzyko (Zmienność)</th>
<th style="text-align: left;">Główne Źródła Zysku</th>
<th style="text-align: left;">Kluczowe Czynniki Wpływające</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Akcje</strong></td>
<td style="text-align: left;">Najwyższy</td>
<td style="text-align: left;">Najwyższe</td>
<td style="text-align: left;">Wzrost wartości, dywidendy</td>
<td style="text-align: left;">Koniunktura, zyski spółek, stopy proc.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Obligacje</strong></td>
<td style="text-align: left;">Niższy</td>
<td style="text-align: left;">Niskie do średniego</td>
<td style="text-align: left;">Odsetki, wzrost wartości (przy spadku stóp)</td>
<td style="text-align: left;">Stopy procentowe, ryzyko kredytowe, inflacja</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Nieruchomości</strong></td>
<td style="text-align: left;">Umiarkowany do wysokiego</td>
<td style="text-align: left;">Średnie</td>
<td style="text-align: left;">Dochód z wynajmu, wzrost wartości</td>
<td style="text-align: left;">Koniunktura, stopy proc., lokalizacja</td>
</tr>
</tbody>
</table>
<p>W zarządzaniu kapitałem, kluczem jest <strong>dywersyfikacja</strong> między tymi klasami aktywów, aby zoptymalizować stosunek ryzyka do zwrotu, dostosowując portfel do profilu ryzyka i horyzontu inwestycyjnego inwestora.</p>
<hr>
</section>
</section>
<section id="jakie-są-główne-fazy-cyklu-koniunkturalnego-cyklu-gospodarczego-wskaż-jakie-klasy-aktywów-są-preferowane-w-każdej-z-faz-i-dlaczego" class="level3">
<h3 class="anchored" data-anchor-id="jakie-są-główne-fazy-cyklu-koniunkturalnego-cyklu-gospodarczego-wskaż-jakie-klasy-aktywów-są-preferowane-w-każdej-z-faz-i-dlaczego">7. Jakie są główne fazy cyklu koniunkturalnego (cyklu gospodarczego)? Wskaż jakie klasy aktywów są preferowane w każdej z faz i dlaczego?</h3>
<p>Cykl koniunkturalny to naturalny, powtarzający się wzorzec wzrostu i spadku aktywności gospodarczej. Zrozumienie poszczególnych faz jest kluczowe dla alokacji aktywów, ponieważ różne klasy aktywów zachowują się odmiennie w zależności od fazy cyklu. Główne fazy to: <strong>ekspansja (ożywienie), szczyt, recesja (kurczenie się) i dno (dołek).</strong></p>
<section id="faza-ekspansji-recoveryexpansion" class="level4">
<h4 class="anchored" data-anchor-id="faza-ekspansji-recoveryexpansion">1. Faza Ekspansji (Recovery/Expansion)</h4>
<ul>
<li><strong>Charakterystyka:</strong>
<ul>
<li>Gospodarka wychodzi z recesji.</li>
<li>PKB rośnie, bezrobocie spada.</li>
<li>Rośnie produkcja przemysłowa i sprzedaż detaliczna.</li>
<li>Zaufanie konsumentów i przedsiębiorstw rośnie.</li>
<li>Inflacja jest początkowo niska, ale zaczyna rosnąć w późniejszych fazach ekspansji.</li>
<li>Banki centralne utrzymują niskie stopy procentowe, aby wspierać wzrost.</li>
</ul></li>
<li><strong>Preferowane Klasy Aktywów:</strong>
<ul>
<li><strong>Akcje:</strong> Zdecydowanie preferowane. Spółki odnotowują rosnące zyski, co napędza ceny akcji.
<ul>
<li><strong>Akcje cykliczne:</strong> Szczególnie dobrze radzą sobie spółki z sektorów wrażliwych na cykl gospodarczy, takie jak: technologiczne, dóbr konsumpcyjnych wyższego rzędu (np. motoryzacja, turystyka), przemysłowe, materiałowe i finansowe. Ich zyski są silnie skorelowane ze wzrostem PKB.</li>
</ul></li>
<li><strong>Surowce:</strong> Ceny surowców (ropa, metale) zaczynają rosnąć wraz ze wzrostem popytu przemysłowego i konsumpcyjnego.</li>
<li><strong>Nieruchomości:</strong> Rynek nieruchomości zaczyna się ożywiać, wspierany przez niższe stopy procentowe i poprawą zaufania.</li>
</ul></li>
<li><strong>Dlaczego:</strong> Poprawiająca się koniunktura gospodarcza bezpośrednio przekłada się na lepsze wyniki finansowe spółek, co zwiększa ich wycenę. Rosnący popyt napędza ceny surowców.</li>
</ul>
<hr>
</section>
<section id="szczyt-peak" class="level4">
<h4 class="anchored" data-anchor-id="szczyt-peak">2. Szczyt (Peak)</h4>
<ul>
<li><strong>Charakterystyka:</strong>
<ul>
<li>Gospodarka osiąga swój maksymalny punkt wzrostu.</li>
<li>Tempo wzrostu PKB zaczyna zwalniać, ale jest nadal dodatnie.</li>
<li>Bezrobocie jest na bardzo niskim poziomie (bliskim pełnego zatrudnienia).</li>
<li>Inflacja rośnie, stając się często problemem.</li>
<li>Bank centralny zaczyna podnosić stopy procentowe w celu opanowania inflacji i schłodzenia gospodarki.</li>
</ul></li>
<li><strong>Preferowane Klasy Aktywów:</strong>
<ul>
<li><strong>Akcje:</strong> Zaczynają być selektywne. Wzrost na rynku akcji zwalnia, a wyceny mogą być już wysokie.
<ul>
<li><strong>Akcje defensywne:</strong> Spółki z sektorów mniej wrażliwych na cykl gospodarczy, takich jak: opieka zdrowotna, użyteczności publicznej (utilities), podstawowe dobra konsumpcyjne. Ich zyski są bardziej stabilne, nawet w obliczu spowolnienia.</li>
<li><strong>Gotówka/Krótkoterminowe obligacje:</strong> Wzrost stóp procentowych sprawia, że gotówka i krótkoterminowe obligacje stają się atrakcyjniejsze.</li>
</ul></li>
<li><strong>Surowce:</strong> Mogą być nadal silne z powodu inflacji, ale ich wzrost może zwalniać.</li>
</ul></li>
<li><strong>Dlaczego:</strong> Wzrost stóp procentowych i rosnące koszty finansowania zaczynają obciążać zyski spółek. Akcje defensywne oferują większą stabilność.</li>
</ul>
<hr>
</section>
<section id="recesja-contractionrecession" class="level4">
<h4 class="anchored" data-anchor-id="recesja-contractionrecession">3. Recesja (Contraction/Recession)</h4>
<ul>
<li><strong>Charakterystyka:</strong>
<ul>
<li>Spadek PKB przez co najmniej dwa kolejne kwartały.</li>
<li>Bezrobocie szybko rośnie.</li>
<li>Spada produkcja przemysłowa i sprzedaż.</li>
<li>Zaufanie konsumentów i przedsiębiorstw gwałtownie spada.</li>
<li>Inflacja zazwyczaj zaczyna spadać (dezinflacja).</li>
<li>Banki centralne obniżają stopy procentowe, aby pobudzić gospodarkę.</li>
</ul></li>
<li><strong>Preferowane Klasy Aktywów:</strong>
<ul>
<li><strong>Obligacje Skarbowe (zwłaszcza długoterminowe):</strong> Zdecydowanie preferowane jako “bezpieczna przystań”. Spadek stóp procentowych przez bank centralny (w celu pobudzenia gospodarki) powoduje wzrost cen obligacji. Inwestorzy uciekają z ryzykownych aktywów.</li>
<li><strong>Gotówka:</strong> Ważna dla zachowania płynności i wykorzystania okazji inwestycyjnych.</li>
<li><strong>Złoto:</strong> Często zyskuje w okresach niepewności gospodarczej jako magazyn wartości.</li>
<li><strong>Akcje defensywne:</strong> Nadal mogą być lepszym wyborem niż akcje cykliczne, choć ogólnie rynek akcji jest pod presją.</li>
</ul></li>
<li><strong>Dlaczego:</strong> Wzrost ryzyka na rynku akcji i spadające stopy procentowe powodują wzrost popytu na bezpieczne obligacje.</li>
</ul>
</section>
<section id="dno-trough" class="level4">
<h4 class="anchored" data-anchor-id="dno-trough">4. Dno (Trough)</h4>
<ul>
<li><strong>Charakterystyka:</strong>
<ul>
<li>Gospodarka osiąga najniższy punkt recesji.</li>
<li>Tempo spadku PKB zwalnia, lub PKB jest bliskie stabilizacji.</li>
<li>Bezrobocie jest wysokie, ale tempo jego wzrostu może zwalniać.</li>
<li>Zaufanie jest na niskim poziomie, ale stabilizuje się.</li>
<li>Inflacja jest niska lub następuje deflacja.</li>
<li>Bank centralny utrzymuje stopy procentowe na bardzo niskim poziomie lub rozważa dalsze luzowanie ilościowe.</li>
</ul></li>
<li><strong>Preferowane Klasy Aktywów:</strong>
<ul>
<li><strong>Akcje (wczesne spółki cykliczne i te o wysokiej becie):</strong> Inwestorzy zaczynają wyprzedzać poprawę koniunktury. Akcje, które ucierpiały najbardziej w recesji, mają największy potencjał do odbicia. Jest to często dobry moment na budowanie pozycji w akcjach.
<ul>
<li><strong>Małe spółki (Small Cap):</strong> Często odbijają się dynamiczniej na wczesnych etapach ożywienia.</li>
<li><strong>Akcje Wzrostowe (Growth Stocks):</strong> Perspektywy szybszego wzrostu zysków stają się atrakcyjniejsze.</li>
</ul></li>
<li><strong>Surowce:</strong> Zaczynają rosnąć, antycypując przyszły wzrost popytu przemysłowego.</li>
<li><strong>Kredyt wysokiego ryzyka (High-Yield Bonds):</strong> Ich spready kredytowe są wysokie, ale jeśli recesja się kończy, perspektywa obniżenia ryzyka niewypłacalności może przynieść wysokie zwroty.</li>
</ul></li>
<li><strong>Dlaczego:</strong> Rynek zaczyna “wyceniać” przyszłe ożywienie gospodarcze, często zanim dane makroekonomiczne to potwierdzą. Aktywa bardziej ryzykowne oferują największy potencjał wzrostu po spadkach.</li>
</ul>
<p>Zrozumienie tych faz i dynamiki aktywów pozwala na bardziej świadome i strategiczne decyzje inwestycyjne, dopasowane do aktualnej kondycji gospodarczej.</p>
</section>
</section>
<section id="czy-dobra-informacja-dla-gospodarki-np.-wzrost-sprzedaży-o-10-lub-wzrost-zatrudnionych-o-200-tys.-miejsc-pracy-może-na-rynkach-wywołać-spadki-w-jakiej-sytuacji-spodziewałbyś-się-takiej-reakcji-rynków" class="level3">
<h3 class="anchored" data-anchor-id="czy-dobra-informacja-dla-gospodarki-np.-wzrost-sprzedaży-o-10-lub-wzrost-zatrudnionych-o-200-tys.-miejsc-pracy-może-na-rynkach-wywołać-spadki-w-jakiej-sytuacji-spodziewałbyś-się-takiej-reakcji-rynków">8. Czy dobra informacja dla gospodarki (np. wzrost sprzedaży o 10% lub wzrost zatrudnionych o 200 tys. miejsc pracy) może na rynkach wywołać spadki? W jakiej sytuacji spodziewałbyś się takiej reakcji rynków?</h3>
<p>Tak, jak najbardziej <strong>dobra informacja dla gospodarki może wywołać spadki na rynkach finansowych</strong>, w szczególności na rynku obligacji, a pośrednio także na rynku akcji. Taka reakcja rynków jest przykładem <strong>“paradoksu dobrych wieści”</strong> i jest zazwyczaj obserwowana w kontekście:</p>
</section>
<section id="sytuacja-oczekiwania-inflacyjne-i-reakcja-banku-centralnego" class="level3">
<h3 class="anchored" data-anchor-id="sytuacja-oczekiwania-inflacyjne-i-reakcja-banku-centralnego">Sytuacja: Oczekiwania Inflacyjne i Reakcja Banku Centralnego</h3>
<p>Głównym mechanizmem, który prowadzi do spadków po “dobrych” wiadomościach, jest zmiana oczekiwań rynkowych dotyczących <strong>polityki pieniężnej banku centralnego</strong>, zwłaszcza w odniesieniu do <strong>stóp procentowych</strong>.</p>
<ol type="1">
<li><p><strong>Silny Wzrost Gospodarczy (Wzrost Sprzedaży, Zatrudnienia):</strong></p>
<ul>
<li><strong>Implikacja dla Banku Centralnego:</strong> Takie dane wskazują na silną gospodarkę, która rośnie w szybkim tempie. Z perspektywy banku centralnego, silny wzrost gospodarczy (szczególnie w połączeniu z niskim bezrobociem i rosnącymi płacami) zwiększa ryzyko wzrostu inflacji powyżej celu inflacyjnego.</li>
<li><strong>Reakcja Banku Centralnego:</strong> W odpowiedzi na rosnącą presję inflacyjną, bank centralny (np. Fed, EBC, NBP) jest zmuszony do przyjęcia bardziej jastrzębiej postawy (hawkish stance), co oznacza sygnalizowanie lub faktyczne <strong>podwyższanie stóp procentowych</strong>. Celem jest schłodzenie gospodarki i zapobieżenie przegrzaniu oraz niekontrolowanemu wzrostowi cen.</li>
</ul></li>
<li><p><strong>Reakcja Rynków Finansowych:</strong></p>
<ul>
<li><strong>Rynek Obligacji:</strong>
<ul>
<li><strong>Spadek cen obligacji:</strong> Wzrost oczekiwań na podwyżki stóp procentowych jest natychmiast negatywny dla cen obligacji. Istniejące obligacje o niższych kuponach stają się mniej atrakcyjne w porównaniu do nowo emitowanych obligacji z wyższym oprocentowaniem. Inwestorzy wyprzedają obligacje, co prowadzi do wzrostu ich rentowności.</li>
<li><strong>Wzór:</strong> Cena obligacji (P) jest odwrotnie skorelowana z jej rentownością do wykupu (YTM). Jeśli oczekiwane stopy procentowe rosną, YTM rośnie, a P spada.</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BCena%20Obligacji%7D%20%5Capprox%20%5Cfrac%7B%5Ctext%7BKupon%7D%7D%7B(1%20+%20%5Ctext%7BYTM%7D)%5E1%7D%20+%20%5Cdots%20+%20%5Cfrac%7B%5Ctext%7BKupon%7D%20+%20%5Ctext%7BWarto%C5%9B%C4%87%20Nominalna%7D%7D%7B(1%20+%20%5Ctext%7BYTM%7D)%5EN%7D"></li>
<li>Gdzie YTM jest silnie skorelowane z oczekiwanymi stopami procentowymi.</li>
</ul></li>
<li><strong>Rynek Akcji:</strong>
<ul>
<li><strong>Wyceny spółek pod presją:</strong> Wzrost stóp procentowych oznacza wyższe koszty finansowania dla przedsiębiorstw (droższe kredyty, droższe obligacje). To z kolei obniża ich zyski.</li>
<li><strong>Wyższa stopa dyskontowa:</strong> W modelach wyceny akcji (np. DDM - Dividend Discount Model, DCF - Discounted Cash Flow), przyszłe przepływy pieniężne są dyskontowane wyższą stopą. Wyższa stopa dyskontowa obniża bieżącą wartość akcji.</li>
<li><strong>Odpływ kapitału z akcji:</strong> Wzrost rentowności obligacji sprawia, że stają się one bardziej atrakcyjne jako alternatywa dla akcji (tzw. “risk-free rate” rośnie). Inwestorzy mogą przenosić kapitał z akcji do obligacji.</li>
<li><strong>Sektory wrażliwe:</strong> Szczególnie narażone są sektory silnie zadłużone, spółki wzrostowe (których wyceny opierają się na odległych przyszłych zyskach) oraz sektory wrażliwe na koszt kredytu (np. nieruchomości, budownictwo).</li>
</ul></li>
</ul></li>
</ol>
<p><strong>Kiedy spodziewałbyś się takiej reakcji rynków?</strong></p>
<p>Spodziewałbym się takiej reakcji przede wszystkim w następujących sytuacjach:</p>
<ol type="1">
<li><strong>Faza późnej ekspansji gospodarczej lub przegrzania:</strong> Gdy gospodarka jest bliska lub znajduje się w szczycie cyklu koniunkturalnego, a inflacja staje się realnym problemem. Bank centralny już prowadzi zacieśnianie polityki pieniężnej lub rynek silnie tego oczekuje.</li>
<li><strong>Niespodziewanie mocne dane makroekonomiczne:</strong> Jeśli dane (np. raport o zatrudnieniu, inflacja CPI) są znacznie lepsze od konsensusu rynkowego i sygnalizują większą presję inflacyjną niż wcześniej zakładano. Rynek musi wówczas zrewidować swoje oczekiwania co do przyszłych podwyżek stóp.</li>
<li><strong>Jastrzębi ton banku centralnego:</strong> Jeśli “dobre” dane są publikowane w momencie, gdy bank centralny jest już nastawiony jastrzębio, lub gdy prezes banku centralnego wypowiada się w sposób sugerujący dalsze zacieśnianie polityki pieniężnej.</li>
<li><strong>Oczekiwania rynkowe są kluczowe:</strong> Rynki dyskontują przyszłość. Jeśli “dobra informacja” jest już w dużej mierze uwzględniona w cenach, reakcja może być ograniczona. Jednak, jeśli jest ona zaskoczeniem i zmienia postrzeganie ścieżki stóp procentowych, spadki są bardzo prawdopodobne.</li>
</ol>
<p><strong>Przykład:</strong> Wzrost zatrudnienia o 200 tys. miejsc pracy w USA to ogólnie pozytywna wiadomość. Jednak jeśli rynek oczekiwał 100 tys., a bezrobocie spada do rekordowo niskich poziomów, to taka informacja może być interpretowana jako sygnał dla Rezerwy Federalnej do dalszych lub szybszych podwyżek stóp, co prowadzi do spadków na giełdach i na rynku obligacji. To samo dotyczy silnych danych o sprzedaży detalicznej, które mogą wskazywać na utrzymujący się wysoki popyt i presję inflacyjną.</p>
</section>
<section id="opisz-zależność-pomiędzy-zmianą-stóp-procentowych-przez-bank-centralny-a-zachowaniem-się-rynku-obligacji.-podaj-przykład-takiej-sytuacji-z-prawdziwego-rynku." class="level3">
<h3 class="anchored" data-anchor-id="opisz-zależność-pomiędzy-zmianą-stóp-procentowych-przez-bank-centralny-a-zachowaniem-się-rynku-obligacji.-podaj-przykład-takiej-sytuacji-z-prawdziwego-rynku.">9. Opisz zależność pomiędzy zmianą stóp procentowych przez bank centralny, a zachowaniem się rynku obligacji. Podaj przykład takiej sytuacji z prawdziwego rynku.</h3>
<p>Zależność między zmianą stóp procentowych przez bank centralny a zachowaniem się rynku obligacji jest fundamentalna i <strong>odwrotna</strong>. Oznacza to, że:</p>
<ul>
<li><strong>Wzrost stóp procentowych przez bank centralny prowadzi do spadku cen obligacji (i wzrostu ich rentowności).</strong></li>
<li><strong>Spadek stóp procentowych przez bank centralny prowadzi do wzrostu cen obligacji (i spadku ich rentowności).</strong></li>
</ul>
<section id="mechanizm-zależności" class="level4">
<h4 class="anchored" data-anchor-id="mechanizm-zależności">Mechanizm Zależności</h4>
<ol type="1">
<li><strong>Wzrost Stóp Procentowych (Zacieśnianie Polityki Pieniężnej):</strong>
<ul>
<li><strong>Nowe Emisje:</strong> Kiedy bank centralny podnosi stopy procentowe (np. stopę referencyjną, stopę lombardową), to koszt pieniądza w gospodarce wzrasta. Nowo emitowane obligacje muszą oferować wyższe oprocentowanie (kupony), aby być atrakcyjne dla inwestorów.</li>
<li><strong>Atrakcyjność Starych Obligacji:</strong> Obligacje wyemitowane wcześniej, z niższymi kuponami, stają się mniej atrakcyjne w porównaniu do nowo emitowanych papierów. Aby “stare” obligacje stały się ponownie konkurencyjne, ich cena na rynku wtórnym musi spaść. W ten sposób ich rentowność do wykupu (Yield to Maturity, YTM) dostosowuje się do wyższych rynkowych stóp procentowych.</li>
<li><strong>Koszt Alternatywny:</strong> Inwestorzy mają alternatywę w postaci lokat bankowych lub innych instrumentów krótkoterminowych, które zaczynają oferować wyższe oprocentowanie. Sprawia to, że obligacje o stałym, niższym oprocentowaniu stają się mniej pożądane.</li>
</ul></li>
<li><strong>Spadek Stóp Procentowych (Luzowanie Polityki Pieniężnej):</strong>
<ul>
<li><strong>Nowe Emisje:</strong> Kiedy bank centralny obniża stopy procentowe, koszt pieniądza w gospodarce spada. Nowo emitowane obligacje będą oferować niższe oprocentowanie.</li>
<li><strong>Atrakcyjność Starych Obligacji:</strong> Obligacje wyemitowane wcześniej, z wyższymi kuponami, stają się bardziej atrakcyjne, ponieważ oferują lepsze oprocentowanie niż aktualne rynkowe stopy. Wzrost popytu na te “stare” obligacje prowadzi do wzrostu ich cen na rynku wtórnym, a tym samym do spadku ich rentowności do wykupu.</li>
<li><strong>Poszukiwanie Dochodu:</strong> W środowisku niskich stóp procentowych inwestorzy poszukują wyższych dochodów, co prowadzi ich do obligacji o wyższym oprocentowaniu, nawet jeśli ich ceny wzrosły.</li>
</ul></li>
</ol>
<p><strong>Duration jako Miernik Wrażliwości:</strong></p>
<p>Wrażliwość ceny obligacji na zmianę stopy procentowej jest mierzona wskaźnikiem zwanym <strong>duration (czas trwania)</strong>. Im dłuższy czas trwania obligacji, tym bardziej jej cena reaguje na zmiany stóp procentowych.</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BDuration%20Macaulay'a%7D%20=%20%5Csum_%7Bt=1%7D%5E%7BN%7D%20%5Cfrac%7Bt%20%5Ctimes%20C_t%20/%20(1+YTM)%5Et%7D%7B%5Ctext%7BCena%20Obligacji%7D%7D"></p>
<p>Gdzie <img src="https://latex.codecogs.com/png.latex?C_t"> to przepływ pieniężny w czasie <img src="https://latex.codecogs.com/png.latex?t">, <img src="https://latex.codecogs.com/png.latex?YTM"> to rentowność do wykupu, a <img src="https://latex.codecogs.com/png.latex?N"> to liczba okresów do wykupu. Zmodyfikowana duration (Modified Duration) jest częściej używana w praktyce do szacowania zmian cen:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BZmiana%20Ceny%20Obligacji%20(%5C%25)%7D%20%5Capprox%20-%20%5Ctext%7BModified%20Duration%7D%20%5Ctimes%20%5Ctext%7BZmiana%20YTM%7D"></p>
</section>
<section id="przykład-z-prawdziwego-rynku-cykl-podwyżek-stóp-procentowych-przez-rezerwę-federalną-2022-2023" class="level4">
<h4 class="anchored" data-anchor-id="przykład-z-prawdziwego-rynku-cykl-podwyżek-stóp-procentowych-przez-rezerwę-federalną-2022-2023">Przykład z Prawdziwego Rynku: Cykl Podwyżek Stóp Procentowych przez Rezerwę Federalną (2022-2023)</h4>
<ul>
<li><strong>Sytuacja przed podwyżkami (2020-2021):</strong> W odpowiedzi na pandemię COVID-19, Rezerwa Federalna (Fed) drastycznie obniżyła stopy procentowe do niemal zera (stopa federalnych funduszy w zakresie 0-0.25%) i wdrożyła program luzowania ilościowego (QE), skupując obligacje skarbowe i MBS. Celem było wsparcie gospodarki. W tym okresie ceny obligacji rosły, a rentowności spadały.</li>
<li><strong>Wzrost Inflacji (2021-2022):</strong> Od połowy 2021 roku inflacja w USA zaczęła gwałtownie rosnąć, osiągając w czerwcu 2022 roku 9.1% (CPI), poziomy niewidziane od dekad. Było to spowodowane m.in. zakłóceniami w łańcuchach dostaw, stymulacją fiskalną i monetarną, oraz wzrostem cen energii.</li>
<li><strong>Reakcja Fed (2022-2023):</strong> W odpowiedzi na uporczywą inflację, Fed rozpoczął agresywny cykl podwyżek stóp procentowych. W marcu 2022 roku nastąpiła pierwsza podwyżka, a następnie seria kolejnych, w tym kilka o 75 punktów bazowych. Stopa federalnych funduszy została podniesiona z poziomu bliskiego zera do zakresu 5.25-5.50% do lipca 2023 roku.</li>
<li><strong>Zachowanie Rynku Obligacji:</strong>
<ul>
<li><strong>Spadek cen obligacji:</strong> Agresywne podwyżki stóp procentowych przez Fed wywołały masową wyprzedaż obligacji. Ceny obligacji skarbowych (np. 10-letnich US Treasury bonds) znacząco spadły.</li>
<li><strong>Wzrost rentowności:</strong> Rentowność 10-letnich obligacji skarbowych USA, która pod koniec 2021 roku wynosiła około 1.5%, wzrosła do ponad 4-5% w 2022 i 2023 roku, osiągając najwyższe poziomy od wielu lat. Był to jeden z najgorszych okresów dla posiadaczy obligacji w historii, co pokazało, jak duży wpływ mają decyzje banku centralnego.</li>
<li><strong>Inwersja krzywej dochodowości:</strong> Krótkoterminowe rentowności rosły szybciej niż długoterminowe, prowadząc do inwersji krzywej dochodowości (sygnał recesji).</li>
</ul></li>
</ul>
<p>Ten przykład jasno ilustruje odwrotną zależność: im wyższe stopy procentowe ustanowione przez bank centralny, tym niższe ceny obligacji (i wyższe rentowności) na rynku wtórnym, i odwrotnie.</p>
</section>
</section>
<section id="wymień-największe-różnice-pomiędzy-obligacjami-skarbowymi-i-korporacyjnymi.-w-jakich-sytuacjach-takie-inwestycje-dla-inwestora-mogą-generować-ponadprzeciętne-ryzyko-straty-na-kapitale." class="level3">
<h3 class="anchored" data-anchor-id="wymień-największe-różnice-pomiędzy-obligacjami-skarbowymi-i-korporacyjnymi.-w-jakich-sytuacjach-takie-inwestycje-dla-inwestora-mogą-generować-ponadprzeciętne-ryzyko-straty-na-kapitale.">10. Wymień największe różnice pomiędzy obligacjami skarbowymi i korporacyjnymi. W jakich sytuacjach takie inwestycje dla inwestora mogą generować ponadprzeciętne ryzyko straty na kapitale.</h3>
<p>Obligacje skarbowe i korporacyjne to dwie główne kategorie obligacji, które różnią się emitentem, profilem ryzyka, rentownością i przeznaczeniem.</p>
</section>
<section id="największe-różnice" class="level3">
<h3 class="anchored" data-anchor-id="największe-różnice">Największe Różnice</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 4%">
<col style="width: 32%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Cecha</th>
<th style="text-align: left;">Obligacje Skarbowe (Treasury Bonds)</th>
<th style="text-align: left;">Obligacje Korporacyjne (Corporate Bonds)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Emitent</strong></td>
<td style="text-align: left;">Rząd (Skarb Państwa) kraju.</td>
<td style="text-align: left;">Przedsiębiorstwa (korporacje) w celu pozyskania kapitału na rozwój, inwestycje, spłatę długów itp.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Ryzyko Kredytowe</strong></td>
<td style="text-align: left;"><strong>Najniższe (lub zerowe) ryzyko kredytowe (ryzyko niewypłacalności).</strong> Obligacje emitowane przez stabilne rządy (np. USA, Niemcy) są często uważane za “wolne od ryzyka”. Rząd ma zdolność do opodatkowania i drukowania pieniędzy.</td>
<td style="text-align: left;"><strong>Wyższe ryzyko kredytowe (ryzyko niewypłacalności).</strong> Zależy od kondycji finansowej, ratingu kredytowego i sektora firmy. W przypadku bankructwa, posiadacze obligacji korporacyjnych są niżej w hierarchii spłaty niż posiadacze obligacji zabezpieczonych, ale wyżej niż akcjonariusze.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Rentowność (Yield)</strong></td>
<td style="text-align: left;"><strong>Niższa rentowność.</strong> Ze względu na niskie ryzyko, oferują niższe stopy zwrotu. Stanowią punkt odniesienia dla innych instrumentów dłużnych.</td>
<td style="text-align: left;"><strong>Wyższa rentowność.</strong> Oferują premię za ryzyko (credit spread) w stosunku do obligacji skarbowych o podobnym terminie zapadalności i walucie. Im wyższe ryzyko emitenta, tym wyższa premia.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Płynność</strong></td>
<td style="text-align: left;">Zazwyczaj <strong>wysoka płynność</strong>, zwłaszcza na głównych rynkach (np. US Treasury market), co ułatwia kupno i sprzedaż.</td>
<td style="text-align: left;">Płynność <strong>zmienna</strong>, od wysokiej dla obligacji dużych, renomowanych firm, po bardzo niską dla mniejszych, mniej znanych emitentów lub obligacji o niskich ratingach.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Cel Emisji</strong></td>
<td style="text-align: left;">Finansowanie wydatków budżetowych rządu, refinansowanie długu publicznego.</td>
<td style="text-align: left;">Finansowanie działalności operacyjnej, inwestycji, przejęć, restrukturyzacji, spłata wcześniejszych długów.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Rating Kredytowy</strong></td>
<td style="text-align: left;">Oceniane przez agencje ratingowe (S&amp;P, Moody’s, Fitch) na podstawie stabilności makroekonomicznej kraju i jego finansów publicznych.</td>
<td style="text-align: left;">Oceniane indywidualnie dla każdej korporacji, odzwierciedlając jej zdolność do terminowej spłaty długu. Wpływają na cenę i płynność obligacji.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Zabezpieczenie</strong></td>
<td style="text-align: left;">Niezabezpieczone (oparte na zdolności rządu do opodatkowania/drukowania pieniądza).</td>
<td style="text-align: left;">Mogą być zabezpieczone (secured) konkretnymi aktywami firmy lub niezabezpieczone (unsecured - niższe miejsce w hierarchii spłat).</td>
</tr>
</tbody>
</table>
<section id="sytuacje-generujące-ponadprzeciętne-ryzyko-straty-na-kapitale" class="level4">
<h4 class="anchored" data-anchor-id="sytuacje-generujące-ponadprzeciętne-ryzyko-straty-na-kapitale">Sytuacje Generujące Ponadprzeciętne Ryzyko Straty na Kapitale</h4>
<p>Choć obligacje są często postrzegane jako bezpieczniejsze niż akcje, również niosą ryzyko straty kapitału.</p>
<section id="dla-obligacji-skarbowych" class="level5">
<h5 class="anchored" data-anchor-id="dla-obligacji-skarbowych">Dla Obligacji Skarbowych:</h5>
<ol type="1">
<li><strong>Gwałtowny Wzrost Stóp Procentowych (Ryzyko Stopy Procentowej):</strong>
<ul>
<li><strong>Opis:</strong> Jeśli bank centralny niespodziewanie i agresywnie podnosi stopy procentowe (np. w celu walki z wysoką inflacją), ceny istniejących obligacji skarbowych z niższymi kuponami drastycznie spadną. Inwestorzy, którzy sprzedają obligacje przed terminem wykupu, mogą ponieść znaczące straty.</li>
<li><strong>Sytuacja:</strong> Agresywne zacieśnianie polityki pieniężnej, np. w warunkach stagflacji (wysoka inflacja + niska dynamika wzrostu), gdzie bank centralny jest zmuszony podnosić stopy, mimo słabnącej gospodarki.</li>
<li><strong>Przykład:</strong> Opisana wcześniej sytuacja z amerykańskim rynkiem obligacji skarbowych w latach 2022-2023, kiedy to rentowności 10-letnich obligacji wzrosły z około 1.5% do ponad 4.5%, powodując znaczące straty dla posiadaczy tych papierów.</li>
</ul></li>
<li><strong>Pogorszenie Wiarygodności Kredytowej Kraju (Ryzyko Kraju/Emitenta):</strong>
<ul>
<li><strong>Opis:</strong> W przypadku, gdy państwo emitujące obligacje ma problemy z finansami publicznymi (np. rosnący dług, deficyt budżetowy, polityczny kryzys), jego wiarygodność kredytowa może spaść. To prowadzi do wyprzedaży jego obligacji, wzrostu rentowności i spadku cen.</li>
<li><strong>Sytuacja:</strong> Kryzys zadłużenia, brak zaufania do rządu, wysokie ryzyko niewypłacalności (default).</li>
<li><strong>Przykład:</strong> Europejski kryzys zadłużenia państwowego w latach 2010-2012, gdzie obligacje skarbowe krajów takich jak Grecja, Irlandia, Portugalia, Hiszpania czy Włochy doświadczyły gwałtownego spadku cen i wzrostu rentowności, ponieważ rynki obawiały się ich bankructwa.</li>
</ul></li>
</ol>
</section>
<section id="dla-obligacji-korporacyjnych" class="level5">
<h5 class="anchored" data-anchor-id="dla-obligacji-korporacyjnych">Dla Obligacji Korporacyjnych:</h5>
<ol type="1">
<li><strong>Pogorszenie Kondycji Finansowej Emitenta (Ryzyko Kredytowe/Niewypłacalności):</strong>
<ul>
<li><strong>Opis:</strong> Jeśli emitująca obligacje korporacja doświadcza problemów finansowych (spadek przychodów, brak płynności, rosnące zadłużenie, utrata klientów, złe zarządzanie), jej zdolność do terminowej spłaty długu jest zagrożona. Rynek zaczyna wyceniać wyższe ryzyko bankructwa, co prowadzi do drastycznego spadku ceny obligacji, niezależnie od ogólnego poziomu stóp procentowych.</li>
<li><strong>Sytuacja:</strong> Recesja gospodarcza (szczególnie dotykająca dany sektor), specyficzne problemy branżowe, błędy zarządcze, skandale korporacyjne.</li>
<li><strong>Przykład:</strong> Upadłość Lehman Brothers w 2008 roku spowodowała, że ich obligacje stały się bezwartościowe. Inny przykład to spółki w sektorach silnie cyklicznych (np. motoryzacja, linie lotnicze) w trakcie głębokiej recesji – nawet jeśli nie zbankrutują, ich obligacje mogą znacząco stracić na wartości z powodu spadku ich ratingu kredytowego.</li>
</ul></li>
<li><strong>Wzrost Stóp Procentowych (Ryzyko Stopy Procentowej):</strong>
<ul>
<li><strong>Opis:</strong> Podobnie jak w przypadku obligacji skarbowych, wzrost ogólnych stóp procentowych na rynku negatywnie wpływa na ceny obligacji korporacyjnych, zwłaszcza tych długoterminowych.</li>
<li><strong>Sytuacja:</strong> Cykl podwyżek stóp procentowych przez banki centralne. W tym przypadku obligacje korporacyjne odczują zarówno wzrost ogólnych stóp, jak i potencjalne pogorszenie sentymentu kredytowego (firmy mają droższe finansowanie).</li>
</ul></li>
<li><strong>Wzrost Spreadu Kredytowego (Credit Spread Widening):</strong>
<ul>
<li><strong>Opis:</strong> Spread kredytowy to różnica w rentowności między obligacją korporacyjną a obligacją skarbową o podobnym terminie zapadalności. Wzrost spreadu oznacza, że inwestorzy żądają wyższej premii za podjęcie ryzyka kredytowego danej korporacji. Dzieje się tak, gdy sentyment rynkowy do ryzyka korporacyjnego pogarsza się.</li>
<li><strong>Sytuacja:</strong> Zwiększona awersja do ryzyka na rynku, kryzys finansowy, zbliżająca się recesja, obawy o cały sektor lub gospodarkę. Spready kredytowe gwałtownie rosną w okresach niepewności.</li>
<li><strong>Przykład:</strong> Globalny Kryzys Finansowy w 2008 roku lub początek pandemii COVID-19 w 2020 roku. Obawy o masowe bankructwa spowodowały, że inwestorzy masowo wyprzedawali obligacje korporacyjne, co doprowadziło do gwałtownego wzrostu spreadów kredytowych (różnica rentowności między obligacjami korporacyjnymi a skarbowymi). Obligacje nawet relatywnie zdrowych firm traciły na wartości.</li>
</ul></li>
</ol>
<p>Podsumowując, choć obligacje są często częścią “bezpiecznej” części portfela, nadal są narażone na znaczące straty kapitału, zwłaszcza w obliczu zmian w polityce pieniężnej, pogorszenia wiarygodności emitenta lub ogólnego wzrostu awersji do ryzyka na rynkach.</p>
</section>
</section>
</section>
</section>
<section id="ryzyko-na-rynkach-finansowych" class="level2">
<h2 class="anchored" data-anchor-id="ryzyko-na-rynkach-finansowych">Ryzyko na Rynkach Finansowych</h2>
<section id="klasyfikacja-ryzyka-finansowego-według-definicji-bank-for-international-settlements-bis" class="level3">
<h3 class="anchored" data-anchor-id="klasyfikacja-ryzyka-finansowego-według-definicji-bank-for-international-settlements-bis">1. Klasyfikacja ryzyka finansowego według definicji Bank for International Settlements (BIS)</h3>
<p>Bank Rozrachunków Międzynarodowych (BIS) jest kluczową instytucją w kształtowaniu globalnych standardów bankowych, w tym w zakresie zarządzania ryzykiem. W ramach swoich ram regulacyjnych, zwłaszcza w porozumieniach Bazylejskich (np. Bazylea II, Bazylea III), BIS definiuje i klasyfikuje ryzyka finansowe, na które narażone są instytucje finansowe. Zrozumienie tej klasyfikacji jest fundamentalne dla efektywnego zarządzania ryzykiem w sektorze finansowym, ponieważ pozwala na systematyczne identyfikowanie, mierzenie, monitorowanie i kontrolowanie różnorodnych zagrożeń. Główne kategorie ryzyka finansowego to:</p>
<ol type="1">
<li><strong>Ryzyko kredytowe (Credit Risk):</strong> Ryzyko, że kontrahent (np. kredytobiorca, emitent obligacji) nie wywiąże się ze swoich zobowiązań umownych, co spowoduje stratę dla banku lub innej instytucji finansowej. Jest to jedno z najstarszych i najbardziej znaczących ryzyk w bankowości.
<ul>
<li>Obejmuje to ryzyko niewypłacalności (default risk), czyli całkowitą niemożność spłaty długu.</li>
<li>Ryzyko pogorszenia jakości kredytowej (downgrade risk), gdzie rating kredytowy dłużnika zostaje obniżony, co zwiększa koszt finansowania dla dłużnika i obniża wartość rynkową jego długu.</li>
<li>Ryzyko koncentracji kredytowej, wynikające z nadmiernego zaangażowania w jednego kontrahenta, branżę, region geograficzny lub rodzaj produktu, co sprawia, że portfel kredytowy jest szczególnie wrażliwy na negatywne zdarzenia w tej konkretnej kategorii.</li>
<li><strong>Przykład:</strong> Bank udziela kredytu przedsiębiorstwu, które w wyniku pogorszenia koniunktury gospodarczej nie jest w stanie spłacać rat, co prowadzi do straty dla banku.</li>
</ul></li>
<li><strong>Ryzyko rynkowe (Market Risk):</strong> Ryzyko strat w pozycjach bilansowych i pozabilansowych (np. instrumenty pochodne) wynikające ze zmian cen rynkowych. Jest to ryzyko związane z wahaniami wartości aktywów i pasywów w wyniku ruchów na rynkach finansowych.
<ul>
<li><strong>Ryzyko stopy procentowej (Interest Rate Risk):</strong> Ryzyko strat wynikających ze zmian stóp procentowych, które wpływają na wartość instrumentów dłużnych, kredytów i depozytów.</li>
<li><strong>Ryzyko kursu walutowego (Foreign Exchange Risk):</strong> Ryzyko strat wynikających ze zmian kursów walutowych, wpływające na wartość aktywów i pasywów denominowanych w obcych walutach.</li>
<li><strong>Ryzyko cen akcji (Equity Price Risk):</strong> Ryzyko strat wynikających ze zmian cen akcji, wpływające na portfele inwestycyjne i pozycje handlowe.</li>
<li><strong>Ryzyko cen towarów (Commodity Price Risk):</strong> Ryzyko strat wynikających ze zmian cen towarów (np. ropy naftowej, złota), wpływające na ekspozycje na rynkach surowców.</li>
<li><strong>Przykład:</strong> Bank posiada duży portfel obligacji o stałym oprocentowaniu. Niespodziewany wzrost stóp procentowych na rynku powoduje spadek wartości tych obligacji, generując stratę dla banku.</li>
</ul></li>
<li><strong>Ryzyko operacyjne (Operational Risk):</strong> Ryzyko strat wynikających z nieadekwatnych lub wadliwych procesów wewnętrznych, ludzi i systemów, lub z zewnętrznych zdarzeń. Jest to szeroka kategoria, która może obejmować wiele różnorodnych zdarzeń, często niedocenianych aż do momentu ich wystąpienia.
<ul>
<li>Obejmuje to błędy ludzkie (np. błędne wprowadzenie danych, nieprawidłowa obsługa klienta), awarie systemów (np. awarie IT, cyberataki), oszustwa (wewnętrzne lub zewnętrzne), a także zdarzenia zewnętrzne takie jak klęski żywiołowe (np. pożar, powódź niszcząca infrastrukturę banku) czy ataki terrorystyczne.</li>
<li><strong>Przykład:</strong> Błąd w oprogramowaniu bankowym powoduje podwójne zaksięgowanie transakcji, co skutkuje stratami finansowymi i koniecznością ręcznej korekty wielu rekordów. Inny przykład to cyberatak prowadzący do wycieku danych klientów i związanych z tym kar regulacyjnych oraz utraty reputacji.</li>
</ul></li>
<li><strong>Ryzyko płynności (Liquidity Risk):</strong> Ryzyko, że bank nie będzie w stanie wywiązać się ze swoich krótkoterminowych zobowiązań finansowych w terminie i po rozsądnej cenie. Jest to ryzyko krytyczne, ponieważ jego materializacja może prowadzić do natychmiastowej niewypłacalności, nawet jeśli bank jest solventny długoterminowo. Dzieli się na:
<ul>
<li><strong>Ryzyko płynności finansowania (Funding Liquidity Risk):</strong> Ryzyko niemożności pozyskania środków na spłatę zobowiązań (np. depozytów, krótkoterminowych pożyczek) bez ponoszenia nadmiernych kosztów lub znacznych strat. Może wynikać z utraty zaufania inwestorów lub zakłóceń na rynkach międzybankowych.</li>
<li><strong>Ryzyko płynności rynkowej (Market Liquidity Risk):</strong> Ryzyko niemożności szybkiej likwidacji pozycji po cenie rynkowej z powodu niewystarczającej głębokości lub szerokości rynku. Oznacza to, że sprzedaż aktywów w celu pozyskania gotówki może wiązać się ze znacznym spadkiem ich ceny.</li>
<li><strong>Przykład:</strong> Bank nagle traci dostęp do rynku międzybankowego, z którego pozyskiwał krótkoterminowe finansowanie, i musi sprzedać część swoich aktywów po zaniżonych cenach, aby zaspokoić bieżące zobowiązania.</li>
</ul></li>
<li><strong>Ryzyko reputacji (Reputational Risk):</strong> Ryzyko utraty zaufania klientów, kontrahentów, inwestorów lub opinii publicznej, co może prowadzić do strat finansowych (np. odpływ depozytów, spadek cen akcji, utrata klientów) lub utraty wartości rynkowej firmy. Jest to ryzyko często wynikające z materializacji innych ryzyk (np. operacyjnego, prawnego) lub z nieetycznych zachowań.
<ul>
<li><strong>Przykład:</strong> Bank zostaje uwikłany w skandal związany z praniem pieniędzy, co prowadzi do masowego wycofywania depozytów przez klientów i znaczącego spadku wartości akcji banku.</li>
</ul></li>
<li><strong>Ryzyko strategiczne (Strategic Risk):</strong> Ryzyko strat wynikających z błędnych decyzji biznesowych, nieefektywnej realizacji strategii, braku reakcji na zmiany w otoczeniu biznesowym (np. nowe technologie, zmiany regulacyjne, konkurencja) lub nieodpowiedniego planowania.
<ul>
<li><strong>Przykład:</strong> Bank ignoruje rosnące znaczenie bankowości cyfrowej, inwestując wyłącznie w tradycyjne oddziały, co prowadzi do utraty udziału w rynku na rzecz bardziej innowacyjnych konkurentów.</li>
</ul></li>
<li><strong>Ryzyko systemowe (Systemic Risk):</strong> Ryzyko upadku całego systemu finansowego lub jego znaczącej części, spowodowane upadkiem jednej lub kilku dużych instytucji finansowych (tzw. “too big to fail”), co prowadzi do efektu domina (contagion effect) i może destabilizować całą gospodarkę. Jest to ryzyko makroekonomiczne, które jest monitorowane i zarządzane na poziomie regulatorów i banków centralnych.
<ul>
<li><strong>Przykład:</strong> Upadek dużego banku inwestycyjnego wywołuje panikę na rynkach finansowych, prowadząc do masowego wycofywania środków z innych instytucji i zamrożenia rynku międzybankowego, co destabilizuje cały system finansowy.</li>
</ul></li>
</ol>
<p><em>Źródło: Bank for International Settlements (BIS) - Basel Committee on Banking Supervision (BCBS) Frameworks, np. Basel II, Basel III. Szczegółowe informacje dostępne na stronie BIS: <a href="https://www.bis.org/bcbs/">www.bis.org/bcbs/</a></em></p>
<hr>
</section>
<section id="porównanie-odchylenia-standardowego-i-odchylenia-przeciętnego-jako-miary-ryzyka" class="level3">
<h3 class="anchored" data-anchor-id="porównanie-odchylenia-standardowego-i-odchylenia-przeciętnego-jako-miary-ryzyka">2. Porównanie odchylenia standardowego i odchylenia przeciętnego jako miary ryzyka</h3>
<p>Zarówno odchylenie standardowe, jak i odchylenie przeciętne są miarami rozproszenia, używanymi do kwantyfikacji ryzyka, rozumianego jako zmienność wyników. Mimo że obie miary informują o stopniu rozproszenia danych wokół średniej, ich konstrukcja matematyczna i implikacje praktyczne różnią się znacząco.</p>
<p><strong>Odchylenie standardowe (<img src="https://latex.codecogs.com/png.latex?%5Csigma">)</strong></p>
<p>Odchylenie standardowe jest najczęściej używaną miarą ryzyka w finansach, zwłaszcza w kontekście teorii portfela Markowitza i Modelu Wyceny Aktywów Kapitałowych (CAPM). Mierzy ono średnie odchylenie poszczególnych obserwacji od średniej arytmetycznej, podniesione do kwadratu, a następnie spierwiastkowane. Podnoszenie do kwadratu ma na celu wyeliminowanie problemu sumowania odchyleń dodatnich i ujemnych, które wzajemnie by się znosiły.</p>
<ul>
<li><p><strong>Wzór (dla próby):</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%20%5Csqrt%7B%5Cfrac%7B1%7D%7Bn-1%7D%5Csum_%7Bi=1%7D%5E%7Bn%7D(x_i%20-%20%5Cbar%7Bx%7D)%5E2%7D"></p>
<p>gdzie:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?x_i"> to <img src="https://latex.codecogs.com/png.latex?i">-ta obserwacja (np. stopa zwrotu aktywa)</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D"> to średnia arytmetyczna stóp zwrotu</li>
<li><img src="https://latex.codecogs.com/png.latex?n"> to liczba obserwacji</li>
</ul></li>
<li><p><strong>Charakterystyka:</strong></p>
<ul>
<li><strong>Wrażliwość na wartości odstające:</strong> Ze względu na podnoszenie odchyleń do kwadratu, odchylenie standardowe jest bardzo wrażliwe na duże odchylenia od średniej (wartości odstające, tzw. <em>outliery</em>). Duże odchylenia są wagi podwójnie, co może być zarówno zaletą (podkreśla ekstremalne zdarzenia, które są kluczowe w zarządzaniu ryzykiem), jak i wadą (może zniekształcać obraz ryzyka dla danych z silnymi wartościami odstającymi, które nie są reprezentatywne dla typowej zmienności).</li>
<li><strong>Własności matematyczne:</strong> Jest podstawą wariancji (<img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2">), która jest addytywna dla niezależnych zmiennych losowych. Posiada doskonałe własności matematyczne, co ułatwia jego wykorzystanie w zaawansowanych modelach optymalizacyjnych, takich jak optymalizacja portfela Markowitza (minimalizacja wariancji portfela dla danego poziomu zwrotu) czy w modelach wyceny aktywów (np. CAPM, gdzie ryzyko systematyczne jest mierzone przez beta, które jest pochodną kowariancji i wariancji). Te własności sprawiają, że jest to preferowana miara w teorii finansów.</li>
<li><strong>Założenie o rozkładzie:</strong> W kontekście ryzyka rynkowego, często zakłada się, że stopy zwrotu mają rozkład normalny, dla którego odchylenie standardowe jest kompletną miarą ryzyka (wraz ze średnią). W praktyce jednak stopy zwrotu aktywów finansowych często wykazują grube ogony (większe prawdopodobieństwo wystąpienia ekstremalnych zdarzeń) i skośność (asymetria rozkładu), co sprawia, że samo odchylenie standardowe może nie w pełni oddawać obraz ryzyka.</li>
</ul></li>
</ul>
<p><strong>Odchylenie przeciętne (Mean Absolute Deviation, MAD)</strong></p>
<p>Odchylenie przeciętne mierzy średnią arytmetyczną bezwzględnych wartości odchyleń poszczególnych obserwacji od średniej arytmetycznej. Jest to prostsza miara, która unika problemu znoszenia się odchyleń poprzez zastosowanie wartości bezwzględnej.</p>
<ul>
<li><p><strong>Wzór (dla próby):</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?MAD%20=%20%5Cfrac%7B1%7D%7Bn%7D%5Csum_%7Bi=1%7D%5E%7Bn%7D%7Cx_i%20-%20%5Cbar%7Bx%7D%7C"></p>
<p>gdzie symbole mają takie samo znaczenie jak powyżej.</p></li>
<li><p><strong>Charakterystyka:</strong></p>
<ul>
<li><strong>Mniejsza wrażliwość na wartości odstające:</strong> Ponieważ używa wartości bezwzględnych zamiast kwadratów, jest mniej wrażliwe na ekstremalne wartości odstające niż odchylenie standardowe. Duże odchylenia nie są “karywane” podwójnie. To może być zaletą, jeśli chcemy uzyskać bardziej “typowy” obraz zmienności, mniej zniekształcony przez rzadkie, ekstremalne zdarzenia.</li>
<li><strong>Intuicyjność:</strong> Jest bardziej intuicyjne w interpretacji, ponieważ przedstawia “przeciętne” odchylenie od średniej. Łatwiej jest wyjaśnić, że “średnie odchylenie wynosi X” niż “pierwiastek z średniej kwadratów odchyleń wynosi X”.</li>
<li><strong>Własności matematyczne:</strong> Posiada mniej pożądane własności matematyczne niż odchylenie standardowe. Funkcja wartości bezwzględnej nie jest różniczkowalna w punkcie 0, co znacząco komplikuje jego zastosowanie w zaawansowanych modelach statystycznych i optymalizacyjnych, które często opierają się na metodach gradientowych. Z tego powodu MAD jest rzadziej wykorzystywane w praktyce rynkowej i akademickiej do budowy kompleksowych modeli ryzyka.</li>
</ul></li>
</ul>
<p><strong>Podsumowanie porównania:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 43%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Cecha</th>
<th style="text-align: left;">Odchylenie Standardowe (<img src="https://latex.codecogs.com/png.latex?%5Csigma">)</th>
<th style="text-align: left;">Odchylenie Przeciętne (MAD)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Wrażliwość na Outliery</strong></td>
<td style="text-align: left;">Wysoka (kwadratowe odchylenia)</td>
<td style="text-align: left;">Niższa (bezwzględne odchylenia)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Własności Mat.</strong></td>
<td style="text-align: left;">Dobre, używane w optymalizacji portfela (wariancja addytywna, różniczkowalność)</td>
<td style="text-align: left;">Gorsze (funkcja wartości bezwzględnej nie jest różniczkowalna)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Powszechność użycia</strong></td>
<td style="text-align: left;">Bardzo powszechne w finansach (teoria portfela, CAPM)</td>
<td style="text-align: left;">Rzadziej używane w praktyce rynkowej</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Interpretacja</strong></td>
<td style="text-align: left;">Mniej intuicyjna (jednostki kwadratowe)</td>
<td style="text-align: left;">Bardziej intuicyjna (przeciętne odchylenie)</td>
</tr>
</tbody>
</table>
<p>W praktyce rynkowej i akademickiej, odchylenie standardowe jest zdecydowanie preferowaną miarą ryzyka ze względu na jego lepsze własności matematyczne, które pozwalają na rozwój bardziej złożonych modeli ryzyka i optymalizacji portfela. Mimo to, w niektórych kontekstach, zwłaszcza w analizach, gdzie prostota interpretacji i mniejsza wrażliwość na ekstremalne, rzadkie zdarzenia są pożądane, MAD może znaleźć zastosowanie. <em>Źródło: Podstawy statystyki i ekonometrii, np. podręczniki J. Woś, W. Kufel. Dodatkowe informacje na temat miar ryzyka w finansach można znaleźć w publikacjach CFA Institute: <a href="https://www.cfainstitute.org/">www.cfainstitute.org</a></em></p>
<hr>
</section>
<section id="scharakteryzuj-czas-trwania-duration-jako-miernik-ryzyka-stopy-procentowej.-wyjaśnij-dlaczego-duration-jest-uznawane-za-konserwatywną-miarę-ryzyka." class="level3">
<h3 class="anchored" data-anchor-id="scharakteryzuj-czas-trwania-duration-jako-miernik-ryzyka-stopy-procentowej.-wyjaśnij-dlaczego-duration-jest-uznawane-za-konserwatywną-miarę-ryzyka.">3. Scharakteryzuj czas trwania (duration) jako miernik ryzyka stopy procentowej. Wyjaśnij dlaczego duration jest uznawane za konserwatywną miarę ryzyka.</h3>
<p><strong>Czas trwania (Duration)</strong> jest kluczową miarą wrażliwości ceny instrumentu dłużnego (np. obligacji) na zmiany stóp procentowych. Jest to miara, która łączy w sobie zarówno termin zapadalności obligacji, jak i strukturę jej przepływów pieniężnych (kuponów). Istnieją dwie główne koncepcje duration: Macaulay Duration i Modified Duration.</p>
<p><strong>Macaulay Duration (<img src="https://latex.codecogs.com/png.latex?D_%7BMac%7D">)</strong></p>
<p>Macaulay Duration jest średnią ważoną okresów, w których otrzymywane są przepływy pieniężne z obligacji, gdzie wagami są zdyskontowane wartości tych przepływów w stosunku do bieżącej ceny obligacji. Jest to miara wyrażona w latach i może być interpretowana jako efektywny termin zapadalności obligacji, uwzględniający wszystkie płatności.</p>
<ul>
<li><p><strong>Wzór:</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?D_%7BMac%7D%20=%20%5Cfrac%7B%5Csum_%7Bt=1%7D%5E%7BN%7D%20t%20%5Ccdot%20%5Cfrac%7BCF_t%7D%7B(1+y)%5Et%7D%7D%7BP%7D"></p>
<p>gdzie:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?t"> to okres, w którym następuje przepływ pieniężny (np. rok, półrocze)</li>
<li><img src="https://latex.codecogs.com/png.latex?CF_t"> to przepływ pieniężny (kupon lub wykup) w okresie <img src="https://latex.codecogs.com/png.latex?t"></li>
<li><img src="https://latex.codecogs.com/png.latex?y"> to stopa dochodu do wykupu (yield to maturity, YTM) dla danego okresu</li>
<li><img src="https://latex.codecogs.com/png.latex?P"> to bieżąca cena obligacji</li>
<li><img src="https://latex.codecogs.com/png.latex?N"> to liczba okresów do wykupu</li>
</ul></li>
</ul>
<p><strong>Modified Duration (<img src="https://latex.codecogs.com/png.latex?D_%7BMod%7D">)</strong></p>
<p>Modified Duration jest bardziej praktyczną miarą wrażliwości ceny obligacji na zmianę stopy dochodu do wykupu. Przybliża procentową zmianę ceny obligacji dla danej zmiany stopy dochodu do wykupu. Jest to miara, która bezpośrednio wskazuje, o ile procent zmieni się cena obligacji, jeśli YTM zmieni się o jeden punkt procentowy (100 punktów bazowych).</p>
<ul>
<li><p><strong>Wzór:</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?D_%7BMod%7D%20=%20%5Cfrac%7BD_%7BMac%7D%7D%7B1%20+%20%5Cfrac%7By%7D%7Bk%7D%7D"></p>
<p>gdzie:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?y"> to <strong>annualizowana</strong> stopa dochodu do wykupu (yield to maturity, YTM)</li>
<li><img src="https://latex.codecogs.com/png.latex?k"> to liczba okresów płatności kuponów w roku (np. 2 dla płatności półrocznych, 1 dla płatności rocznych).</li>
<li>W uproszczeniu, dla stopy ciągłej lub rocznej kapitalizacji: <img src="https://latex.codecogs.com/png.latex?D_%7BMod%7D%20=%20%5Cfrac%7BD_%7BMac%7D%7D%7B1+y%7D">.</li>
</ul></li>
<li><p><strong>Interpretacja:</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?%5C%25%20%5CDelta%20P%20%5Capprox%20-D_%7BMod%7D%20%5Ctimes%20%5CDelta%20y"></p>
<p>gdzie:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5C%25%20%5CDelta%20P"> to procentowa zmiana ceny obligacji</li>
<li><img src="https://latex.codecogs.com/png.latex?%5CDelta%20y"> to zmiana stopy dochodu do wykupu (w ułamku dziesiętnym, np. 0.01 dla 1% lub 100 punktów bazowych)</li>
<li>Znak minus wskazuje na odwrotną zależność między ceną obligacji a stopą dochodu do wykupu.</li>
</ul></li>
</ul>
<p><strong>Wyjaśnienie Yield to Maturity (YTM):</strong></p>
<p><strong>Yield to Maturity (YTM)</strong>, czyli stopa dochodu do wykupu, to całkowita stopa zwrotu, jaką inwestor może oczekiwać od obligacji, jeśli utrzyma ją do terminu wykupu, a wszystkie płatności kuponowe zostaną reinwestowane po tej samej stopie. Jest to zdyskontowana stopa, która zrównuje bieżącą cenę obligacji z sumą zdyskontowanych przyszłych przepływów pieniężnych (płatności kuponowych i kapitału w terminie wykupu). YTM jest często traktowana jako miara efektywnej stopy procentowej obligacji i jest kluczowym wskaźnikiem do porównywania różnych obligacji o różnych kuponach i terminach zapadalności. Jest to również stopa, która jest używana do dyskontowania przepływów pieniężnych w celu obliczenia Macaulay Duration.</p>
<p><strong>Dlaczego duration jest uznawane za konserwatywną miarę ryzyka?</strong></p>
<p>Duration jest uznawane za konserwatywną miarę ryzyka z kilku powodów, wynikających głównie z jej charakteru jako <strong>liniowej aproksymacji</strong> nieliniowej zależności między ceną obligacji a stopą procentową. Ta nieliniowość jest kluczowa i jest opisywana przez miarę zwaną <strong>konweksyjnością (convexity)</strong>.</p>
<ol type="1">
<li><p><strong>Liniowa aproksymacja nieliniowej zależności:</strong> Duration zakłada liniową zależność między zmianą stopy procentowej a zmianą ceny obligacji. W rzeczywistości, zależność ta jest nieliniowa i wypukła (konweksyjna), co oznacza, że krzywa ceny w funkcji stopy procentowej jest wygięta, a nie prosta.</p>
<ul>
<li>Dla małych zmian stóp procentowych, duration jest dobrym przybliżeniem. Jednak dla <strong>dużych zmian stóp procentowych</strong>, liniowa aproksymacja staje się mniej dokładna.</li>
<li><strong>W przypadku spadku stóp procentowych:</strong> Rzeczywisty wzrost ceny obligacji jest <strong>większy</strong> niż przewiduje duration. Liniowa aproksymacja niedoszacowuje potencjalnych zysków. Dzieje się tak, ponieważ w miarę spadku stóp, duration obligacji rośnie, co zwiększa jej wrażliwość na dalsze spadki stóp.</li>
<li><strong>W przypadku wzrostu stóp procentowych:</strong> Rzeczywisty spadek ceny obligacji jest <strong>mniejszy</strong> niż przewiduje duration. Liniowa aproksymacja przeszacowuje potencjalne straty. Wzrost stóp procentowych powoduje spadek duration, co zmniejsza wrażliwość obligacji na dalsze wzrosty stóp.</li>
<li>Zatem, duration <strong>niedoszacowuje korzyści</strong> ze spadku stóp i <strong>przecenia straty</strong> ze wzrostu stóp. To sprawia, że jest ona “konserwatywna” w sensie, że nie daje pełnego obrazu potencjalnych zysków ani strat w ekstremalnych scenariuszach, co może prowadzić do nadmiernie ostrożnych decyzji.</li>
</ul></li>
<li><p><strong>Brak uwzględnienia konweksyjności:</strong> Wypukłość (convexity) to miara drugiego rzędu, która koryguje błąd aproksymacji duration. Konweksyjność mierzy, jak szybko zmienia się duration wraz ze zmianą stóp procentowych. Im większa konweksyjność, tym większa jest różnica między rzeczywistą zmianą ceny a zmianą przewidywaną przez duration. Ponieważ duration ignoruje konweksyjność, jest to miara “konserwatywna” w tym sensie, że nie uwzględnia pełnego zakresu potencjalnych zmian cen, szczególnie tych korzystnych, które wynikają z wypukłości. W praktyce, obligacje o wyższej konweksyjności są bardziej pożądane, ponieważ oferują większe zyski przy spadku stóp i mniejsze straty przy wzroście stóp niż obligacje o niższej konweksyjności, co jest dla inwestora korzystnym zjawiskiem.</p></li>
<li><p><strong>Założenie o równoległych przesunięciach krzywej dochodowości:</strong> Duration zakłada, że cała krzywa dochodowości przesuwa się równolegle (wszystkie stopy procentowe dla różnych terminów zapadalności zmieniają się o tę samą wartość). W rzeczywistości, zmiany stóp procentowych rzadko są równoległe; często obserwuje się skręty (twist) lub spłaszczenia (flattening/steepening) krzywej dochodowości, gdzie krótkoterminowe stopy mogą zmieniać się bardziej niż długoterminowe, lub odwrotnie. To uproszczenie wprowadza dodatkowy błąd do estymacji ryzyka, zwłaszcza dla portfeli z rozłożonymi terminami zapadalności, ponieważ różne segmenty krzywej dochodowości mogą reagować odmiennie na czynniki makroekonomiczne.</p></li>
</ol>
<p>W praktyce, aby uzyskać dokładniejszą estymację wrażliwości ceny obligacji na zmiany stóp procentowych, analitycy często używają duration w połączeniu z konweksyjnością:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5C%25%20%5CDelta%20P%20%5Capprox%20-D_%7BMod%7D%20%5Ctimes%20%5CDelta%20y%20+%20%5Cfrac%7B1%7D%7B2%7D%20%5Ctimes%20Convexity%20%5Ctimes%20(%5CDelta%20y)%5E2"></p>
<p>Podsumowując, duration jest konserwatywną miarą, ponieważ jej liniowa natura prowadzi do niedoszacowania potencjalnych zysków i przeszacowania potencjalnych strat w przypadku dużych zmian stóp procentowych, a także ignoruje efekt konweksyjności i złożoność ruchów krzywej dochodowości. Mimo to, jest to niezwykle użyteczne narzędzie do zarządzania ryzykiem stopy procentowej, zwłaszcza dla małych zmian stóp, i stanowi fundament dla bardziej zaawansowanych modeli ryzyka. <em>Źródło: Z. Jędrzejczyk, “Ryzyko finansowe i jego pomiar”, PWE 2008. Dodatkowe informacje: <a href="https://corporatefinanceinstitute.com/resources/fixed-income/duration/">Corporate Finance Institute - Duration</a></em></p>
<hr>
</section>
<section id="scharakteryzuj-expected-shortfall-jako-miarę-ryzyka.-na-czym-polega-jej-przewaga-nad-miarą-var." class="level3">
<h3 class="anchored" data-anchor-id="scharakteryzuj-expected-shortfall-jako-miarę-ryzyka.-na-czym-polega-jej-przewaga-nad-miarą-var.">4. Scharakteryzuj Expected Shortfall jako miarę ryzyka. Na czym polega jej przewaga nad miarą VaR.</h3>
<p><strong>Expected Shortfall (ES)</strong>, znany również jako Conditional Value at Risk (CVaR) lub Average Value at Risk (AVaR), jest miarą ryzyka, która kwantyfikuje średnią oczekiwaną stratę, która wystąpi, jeśli strata przekroczy wartość VaR na danym poziomie ufności. Innymi słowy, ES odpowiada na pytanie: “Jeśli już poniesiemy stratę przekraczającą VaR, to jak duża będzie ta strata średnio?”. Jest to miara, która dostarcza bardziej kompleksowego obrazu ryzyka niż VaR, szczególnie w kontekście ekstremalnych zdarzeń.</p>
<ul>
<li><strong>Definicja:</strong> Dla danego poziomu ufności <img src="https://latex.codecogs.com/png.latex?%5Calpha"> (np. 95% lub 99%), Expected Shortfall to oczekiwana wartość strat, które są większe niż VaR na tym samym poziomie <img src="https://latex.codecogs.com/png.latex?%5Calpha">. <img src="https://latex.codecogs.com/png.latex?ES_%7B%5Calpha%7D%20=%20E%5BL%20%7C%20L%20%3E%20VaR_%7B%5Calpha%7D%5D"> gdzie:
<ul>
<li><img src="https://latex.codecogs.com/png.latex?L"> to zmienna losowa reprezentująca stratę portfela</li>
<li><img src="https://latex.codecogs.com/png.latex?VaR_%7B%5Calpha%7D"> to Value at Risk na poziomie ufności <img src="https://latex.codecogs.com/png.latex?%5Calpha">, czyli kwantyl rozkładu strat.</li>
</ul></li>
<li><strong>Charakterystyka:</strong>
<ul>
<li><strong>Miara ogona rozkładu (Tail Risk):</strong> ES koncentruje się na “ogonie” rozkładu strat, czyli na ekstremalnych, rzadziej występujących, ale potencjalnie bardzo dużych stratach. Jest to kluczowe w zarządzaniu ryzykiem, ponieważ największe straty często pochodzą z tych rzadkich, ale katastrofalnych zdarzeń, które mogą zagrozić stabilności całej instytucji. ES dostarcza informacji o skali tych “najgorszych scenariuszy”.</li>
<li><strong>Koherentna miara ryzyka:</strong> W przeciwieństwie do VaR (którego koherencja jest warunkowa i często nie jest spełniana w praktyce, zwłaszcza dla portfeli zawierających instrumenty pochodne lub dla rozkładów o “grubych ogonach”), ES jest koherentną miarą ryzyka, co oznacza, że spełnia cztery aksjomaty koherencji (zdefiniowane przez Artznera i in.):
<ol type="1">
<li><strong>Monotoniczność:</strong> Jeśli portfel <img src="https://latex.codecogs.com/png.latex?X"> zawsze generuje mniejsze lub równe straty niż portfel <img src="https://latex.codecogs.com/png.latex?Y">, to miara ryzyka dla <img src="https://latex.codecogs.com/png.latex?X"> jest mniejsza lub równa niż dla <img src="https://latex.codecogs.com/png.latex?Y">. Oznacza to, że bardziej ryzykowne portfele są oceniane jako takie.</li>
<li><strong>Translacyjna niezmienniczość:</strong> Dodanie bezryzykowego aktywa o wartości <img src="https://latex.codecogs.com/png.latex?k"> do portfela zmniejsza miarę ryzyka o <img src="https://latex.codecogs.com/png.latex?k">. Oznacza to, że miara ryzyka poprawnie odzwierciedla wolne środki dostępne do pokrycia strat.</li>
<li><strong>Pozytywna jednorodność:</strong> Pomnożenie portfela przez stałą <img src="https://latex.codecogs.com/png.latex?c%20%3E%200"> powoduje, że miara ryzyka również jest pomnożona przez <img src="https://latex.codecogs.com/png.latex?c">. Odzwierciedla skalę inwestycji – większa inwestycja powinna wiązać się z proporcjonalnie większym ryzykiem.</li>
<li><strong>Subaddytywność:</strong> Ryzyko połączonego portfela jest mniejsze lub równe sumie ryzyk poszczególnych portfeli (ryzyko dywersyfikacji). Jest to kluczowa własność, której VaR nie zawsze spełnia. Brak subaddytywności VaR oznacza, że dywersyfikacja może pozornie zwiększać ryzyko, co jest sprzeczne z podstawowymi zasadami zarządzania portfelem i zdrowym rozsądkiem finansowym. Subaddytywność ES promuje dywersyfikację jako narzędzie redukcji ryzyka.</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Przewaga Expected Shortfall nad VaR:</strong></p>
<ol type="1">
<li><p><strong>Koherencja (Subaddytywność):</strong> To najważniejsza przewaga. Jak wspomniano, VaR nie zawsze jest subaddytywny, zwłaszcza w przypadku portfeli z nieliniowymi instrumentami (np. opcjami) lub w warunkach rynkowych o “grubych ogonach”. Oznacza to, że VaR połączonego portfela może być większy niż suma VaR poszczególnych portfeli, co zniechęca do dywersyfikacji. ES zawsze spełnia warunek subaddytywności, co czyni go bardziej odpowiednim do optymalizacji portfela i alokacji kapitału, ponieważ promuje dywersyfikację jako sposób na redukcję ryzyka. Jest to kluczowe w kontekście regulacyjnym, gdzie banki są zachęcane do dywersyfikacji swoich ekspozycji w celu zwiększenia stabilności systemu finansowego.</p></li>
<li><p><strong>Ujęcie ryzyka ogona (Tail Risk):</strong> VaR informuje jedynie o maksymalnej stracie, która nie zostanie przekroczona z danym prawdopodobieństwem (np. 99% VaR = 1 mln USD oznacza, że z 1% prawdopodobieństwem strata przekroczy 1 mln USD), ale nic nie mówi o wielkości strat, które przekroczą tę wartość. Może to być 1,1 mln USD, ale równie dobrze 10 mln USD, a nawet 100 mln USD, co w praktyce czyni VaR niewystarczającym w przypadku naprawdę ekstremalnych zdarzeń. ES idzie o krok dalej, kwantyfikując średnią wielkość tych ekstremalnych strat. W ten sposób ES dostarcza pełniejszego obrazu ryzyka, szczególnie w przypadku zdarzeń o “grubych ogonach” (fat tails), które są charakterystyczne dla rynków finansowych (np. kryzysy finansowe, “czarne łabędzie”, czyli nieprzewidywalne, rzadkie wydarzenia o ogromnym wpływie). Właśnie te rzadkie, ale katastrofalne zdarzenia są najbardziej interesujące dla zarządzających ryzykiem, ponieważ mogą doprowadzić do upadku instytucji.</p></li>
<li><p><strong>Lepsze dla optymalizacji:</strong> Ze względu na swoją koherencję i własność wypukłości (convexity), ES jest łatwiejszy do optymalizacji niż VaR. Minimalizacja ES jest problemem wypukłym, co ułatwia znajdowanie globalnego optimum w problemach alokacji kapitału i zarządzania portfelem, ponieważ funkcja celu jest “dobrze zachowująca się” (nie ma wielu lokalnych minimów). Minimalizacja VaR jest często problemem niewypukłym i nieciągłym, co utrudnia znalezienie optymalnego rozwiązania i może prowadzić jedynie do lokalnych minimów, co jest dużym utrudnieniem w praktycznym zastosowaniu.</p></li>
<li><p><strong>Bardziej stabilny:</strong> ES jest zazwyczaj bardziej stabilny w estymacji niż VaR, ponieważ uśrednia wartości z ogona rozkładu, co zmniejsza wpływ pojedynczych, ekstremalnych obserwacji. Estymacja VaR, jako kwantylu, może być bardziej wrażliwa na pojedyncze, skrajne wartości w danych historycznych, co prowadzi do większej zmienności w czasie i utrudnia porównywanie wyników.</p></li>
</ol>
<p>Mimo że VaR jest nadal szeroko stosowany ze względu na swoją prostotę i długą historię, ES zyskuje na znaczeniu jako preferowana miara ryzyka, zwłaszcza w kontekście regulacyjnym. Bazylejski Komitet Nadzoru Bankowego (BCBS) w ramach <strong>Fundamental Review of the Trading Book (FRTB)</strong> w Bazylei III zaleca stosowanie ES jako podstawowej miary ryzyka rynkowego dla portfeli handlowych, zastępując dotychczasowe wykorzystanie VaR. Podkreśla to uznanie dla ES jako bardziej kompleksowego i odpornego narzędzia do zarządzania ryzykiem ekstremalnym. <em>Źródło: P. Jorion, “Value at Risk: The New Benchmark for Managing Financial Risk”, McGraw-Hill. Dodatkowe informacje o ES i VaR: <a href="https://www.investopedia.com/articles/investing/012915/expected-shortfall-vs-var.asp">Investopedia - Expected Shortfall vs.&nbsp;VaR</a></em></p>
<hr>
</section>
<section id="w-jaki-sposób-można-zbudować-portfel-o-ujemnym-czasie-trwania-duration-i-przed-jakim-rodzajem-ryzyka-taki-portfel-zabezpiecza" class="level3">
<h3 class="anchored" data-anchor-id="w-jaki-sposób-można-zbudować-portfel-o-ujemnym-czasie-trwania-duration-i-przed-jakim-rodzajem-ryzyka-taki-portfel-zabezpiecza">5. W jaki sposób można zbudować portfel o ujemnym czasie trwania (duration) i przed jakim rodzajem ryzyka taki portfel zabezpiecza?</h3>
<p><strong>Portfel o ujemnym czasie trwania (Negative Duration Portfolio)</strong> to portfel aktywów i/lub pasywów, którego wartość rośnie, gdy stopy procentowe rosną, i maleje, gdy stopy procentowe spadają. Jest to odwrotność zachowania typowych instrumentów dłużnych (takich jak obligacje o stałym oprocentowaniu), których ceny spadają wraz ze wzrostem stóp procentowych i rosną wraz ze spadkiem stóp. Budowa takiego portfela jest kluczowa w strategiach zabezpieczających przed ryzykiem stopy procentowej, szczególnie dla instytucji, które posiadają znaczące ekspozycje na stałe stopy procentowe.</p>
<p><strong>Jak zbudować portfel o ujemnym duration:</strong></p>
<p>Budowa portfela o ujemnym duration wymaga zastosowania strategii, które generują zyski w środowisku rosnących stóp procentowych. Główne metody to:</p>
<ol type="1">
<li><strong>Sprzedaż krótka (short selling) długoterminowych obligacji:</strong>
<ul>
<li>Strategia polega na pożyczeniu długoterminowych obligacji (które z natury mają wysokie, dodatnie duration) i natychmiastowej ich sprzedaży na rynku. Inwestor oczekuje, że stopy procentowe wzrosną, co spowoduje spadek cen tych obligacji. Następnie obligacje są odkupywane po niższej cenie i zwracane pożyczkodawcy, generując zysk z różnicy cen. Ponieważ pozycja krótka na obligacjach o dodatnim duration efektywnie tworzy ujemną ekspozycję na zmiany stóp procentowych, cały portfel zyskuje ujemne duration. Jest to prosta, ale niosąca ryzyko płynności strategia, gdyż znalezienie odpowiednich obligacji do pożyczenia i możliwość ich odkupienia w przyszłości po niższej cenie nie zawsze są gwarantowane.</li>
</ul></li>
<li><strong>Wykorzystanie instrumentów pochodnych na stopy procentowe:</strong> Instrumenty pochodne są często najbardziej efektywnym i elastycznym sposobem na uzyskanie ujemnego duration, ponieważ pozwalają na precyzyjne dostosowanie ekspozycji na zmiany stóp procentowych bez konieczności fizycznego posiadania bazowych instrumentów dłużnych. Pozwalają one na znacznie większą dźwignię finansową, co oznacza, że mniejszy kapitał początkowy może zabezpieczyć większą ekspozycję.
<ul>
<li><strong>Interest Rate Swaps (IRS):</strong> W IRS dwie strony wymieniają się przepływami odsetkowymi w oparciu o ustaloną wartość nominalną. Aby uzyskać ujemne duration (czyli zyskać na wzroście stóp), należy zawrzeć swap typu <strong>“płać stałą stopę, otrzymuj zmienną stopę” (Pay Fixed, Receive Floating)</strong>.
<ul>
<li>Gdy rynkowe stopy procentowe (np. LIBOR, EURIBOR, SOFR) rosną, zmienne płatności, które otrzymujesz, zwiększają się, podczas gdy stałe płatności, które ponosisz, pozostają niezmienione. To generuje dodatni przepływ pieniężny dla posiadacza swapu, a tym samym zwiększa wartość swapu. Wzrost wartości swapu w odpowiedzi na wzrost stóp procentowych przekłada się na efektywne ujemne duration dla tej pozycji. Jest to typowa strategia banków, które mają aktywa o stałym oprocentowaniu (np. kredyty hipoteczne) i pasywa o zmiennym oprocentowaniu (np. depozyty).</li>
</ul></li>
<li><strong>Kontrakty Futures/Forward na obligacje:</strong> Sprzedaż kontraktów futures lub forward na długoterminowe obligacje. Wzrost stóp procentowych spowoduje spadek cen bazowych obligacji, co z kolei obniży wartość kontraktów futures/forward. Pozycja krótka na tych kontraktach przyniesie zysk, co efektywnie nadaje portfelowi ujemne duration. Jest to często wykorzystywane przez zarządzających portfelami do szybkiego dostosowania duration.</li>
<li><strong>Opcje na stopy procentowe (Interest Rate Options):</strong> Opcje oferują asymetryczną strukturę zysków i strat, co czyni je elastycznym narzędziem hedgingowym.
<ul>
<li><strong>Opcje put na obligacje:</strong> Zakup opcji put na obligacje. Wzrost stóp procentowych obniża cenę obligacji, zwiększając wewnętrzną wartość opcji put (prawo do sprzedaży po wyższej cenie wykonania), co przynosi zysk.</li>
<li><strong>Opcje call na stopy procentowe:</strong> Zakup opcji call na stopy procentowe lub swaptions. Wzrost stóp procentowych zwiększa wartość opcji call na stopy procentowe (prawo do ustalenia wyższej stopy).</li>
<li><strong>Swaptions (Opcje na swapy):</strong> Są to opcje dające posiadaczowi prawo, ale nie obowiązek, do zawarcia w przyszłości określonego swapu stopy procentowej. Aby uzyskać ujemne duration, można kupić swaption, który daje prawo do zawarcia swapu typu <strong>“płać zmienną, otrzymuj stałą” (Receive Fixed, Pay Floating)</strong>. Wartość tego swaptionu wzrośnie wraz ze wzrostem stóp procentowych, ponieważ możliwość zabezpieczenia się przed dalszymi wzrostami stóp staje się cenniejsza. Alternatywnie, można sprzedać swaption, który daje prawo do zawarcia swapu typu “płać stałą, otrzymuj zmienną” (Pay Fixed, Receive Floating), ponieważ spadek jego wartości (zysk dla sprzedającego opcję) nastąpi wraz ze wzrostem stóp.</li>
<li><strong>Interest Rate Caps (Capy):</strong> Są to serie opcji call na stopy procentowe, które chronią kupującego przed wzrostem stóp procentowych powyżej określonego poziomu (strike rate). Cap działa jak ubezpieczenie od wzrostu stóp procentowych. Kupujący cap otrzymuje płatność, gdy zmienna stopa referencyjna (np. LIBOR) przekroczy uzgodnioną stopę maksymalną. Posiadanie capów generuje zyski, gdy stopy procentowe rosną, co efektywnie nadaje portfelowi ujemne duration w zakresie wzrostu stóp. Capy są szczególnie użyteczne dla podmiotów z zobowiązaniami o zmiennym oprocentowaniu (np. kredyty o zmiennej stopie), które chcą ograniczyć swoje ryzyko wzrostu kosztów.</li>
</ul></li>
</ul></li>
<li><strong>Obligacje o zmiennym oprocentowaniu (Floating Rate Notes, FRN) z ujemnym spreadem lub Inverse Floaters:</strong>
<ul>
<li><strong>Inverse Floaters:</strong> Są to obligacje, których kupon porusza się w odwrotnym kierunku do stóp rynkowych (np. Kupon = <img src="https://latex.codecogs.com/png.latex?X%20-%20Y%20%5Ctimes"> LIBOR). Gdy LIBOR rośnie, kupon maleje, a cena obligacji spada. Ze względu na tę odwrotną zależność, ich duration jest często ujemne. Są to instrumenty bardziej złożone i rzadziej spotykane na rynku.</li>
<li><strong>FRN z ujemnym spreadem:</strong> Rzadziej spotykane, ale teoretycznie możliwe konstrukcje FRN, które reagują negatywnie na wzrost stóp, choć ich duration jest zazwyczaj bliskie zeru.</li>
</ul></li>
</ol>
<p><strong>Przed jakim rodzajem ryzyka taki portfel zabezpiecza?</strong></p>
<p>Portfel o ujemnym czasie trwania zabezpiecza przede wszystkim przed <strong>ryzykiem wzrostu stóp procentowych (Interest Rate Risk - Rising Rates)</strong>.</p>
<ul>
<li>Wzrost stóp procentowych zazwyczaj powoduje spadek wartości tradycyjnych, długoterminowych instrumentów dłużnych (o dodatnim duration), co prowadzi do strat kapitałowych dla ich posiadaczy. Dzieje się tak, ponieważ istniejące obligacje o niższym oprocentowaniu stają się mniej atrakcyjne w porównaniu do nowo emitowanych obligacji z wyższymi kuponami.</li>
<li>Portfel o ujemnym duration jest skonstruowany tak, aby generować zyski na wzroście stóp procentowych. Te zyski mają na celu kompensację strat poniesionych na innych aktywach w portfelu (np. na posiadanych obligacjach o dodatnim duration, kredytach o stałym oprocentowaniu) lub na zobowiązaniach (np. gdy bank ma stałe oprocentowanie na aktywach i zmienne na pasywach, wzrost stóp zwiększa koszt finansowania depozytów).</li>
</ul>
<p>Jest to kluczowa strategia dla instytucji, które są narażone na ryzyko wzrostu stóp procentowych, np.: * <strong>Banki</strong> posiadające duże portfele <strong>kredytów o stałym oprocentowaniu</strong> (ich wartość rynkowa spada, gdy stopy rosną, a bank musi płacić więcej za pozyskanie depozytów o zmiennym oprocentowaniu). * <strong>Fundusze emerytalne i firmy ubezpieczeniowe</strong> z długoterminowymi zobowiązaniami, których zdyskontowana wartość wzrasta wraz ze spadkiem stóp, ale koszty ich obsługi mogą wzrosnąć w miarę wzrostu stóp. * <strong>Firmy</strong> z dużym zadłużeniem o zmiennym oprocentowaniu, które chcą zabezpieczyć się przed wzrostem kosztów obsługi długu.</p>
<p>Poprzez dodanie aktywów lub pozycji pochodnych o ujemnym duration, można zimmunizować portfel przed niekorzystnymi ruchami stóp procentowych, stabilizując jego wartość lub przepływy pieniężne. Jest to forma <strong>hedgingu</strong>, która ma na celu zminimalizowanie niepewności związanej ze zmianami stóp procentowych. <em>Źródło: F. Fabozzi, “Fixed Income Analysis”, CFA Institute Investment Series. Dodatkowe informacje o duration i strategiach zarządzania ryzykiem stopy procentowej: <a href="https://corporatefinanceinstitute.com/resources/fixed-income/duration/">Corporate Finance Institute - Duration</a></em></p>
<hr>
</section>
<section id="scharakteryzuj-strategię-dopasowania-przepływów-pieniężnych-jako-metodę-zarządzania-ryzykiem-stóp-procentowych." class="level3">
<h3 class="anchored" data-anchor-id="scharakteryzuj-strategię-dopasowania-przepływów-pieniężnych-jako-metodę-zarządzania-ryzykiem-stóp-procentowych.">6. Scharakteryzuj strategię dopasowania przepływów pieniężnych jako metodę zarządzania ryzykiem stóp procentowych.</h3>
<p><strong>Strategia dopasowania przepływów pieniężnych (Cash Flow Matching)</strong> jest pasywną, ale niezwykle skuteczną metodą zarządzania ryzykiem stóp procentowych, która ma na celu <strong>immunizację portfela</strong> przed ryzykiem zmian stóp procentowych poprzez precyzyjne dopasowanie przyszłych przepływów pieniężnych z aktywów do przyszłych zobowiązań. W przeciwieństwie do bardziej dynamicznych strategii opartych na duration, cash flow matching dąży do całkowitego wyeliminowania ryzyka reinwestycji i ryzyka cenowego poprzez dokładne synchronizowanie wpływów i wypływów gotówki.</p>
<p><strong>Charakterystyka strategii:</strong></p>
<ol type="1">
<li><p><strong>Cel:</strong> Głównym celem jest zapewnienie, że instytucja będzie miała wystarczające środki finansowe w odpowiednim czasie, aby pokryć wszystkie swoje przyszłe, z góry określone zobowiązania, niezależnie od tego, jak zmienią się stopy procentowe na rynku. Jest to strategia “ustaw i zapomnij” w sensie, że po jej wdrożeniu nie wymaga ciągłych korekt ani rebalansowania, co redukuje koszty i złożoność zarządzania. Jej głównym zadaniem jest eliminacja niepewności co do przyszłych przepływów pieniężnych.</p></li>
<li><p><strong>Mechanizm:</strong> Strategia polega na zakupie instrumentów dłużnych (np. obligacji zerokuponowych, obligacji kuponowych, czy nawet niestandardowych instrumentów dostosowanych do potrzeb), których terminy płatności kuponów i wykupu oraz ich wartości <strong>dokładnie odpowiadają</strong> terminom i wartościom przyszłych zobowiązań instytucji.</p>
<ul>
<li>Dla każdego przyszłego zobowiązania (np. płatności emerytalnej, spłaty długu korporacyjnego, wypłaty odszkodowania ubezpieczeniowego, kosztów operacyjnych w przyszłości) identyfikuje się odpowiedni instrument finansowy (lub kombinację instrumentów), który wygeneruje przepływ pieniężny o tej samej wartości i w tym samym terminie.</li>
<li>Jeśli zobowiązania są rozłożone w czasie (co jest typowe dla funduszy emerytalnych czy firm ubezpieczeniowych), tworzy się portfel obligacji z różnymi terminami zapadalności i strukturami kuponowymi, tak aby suma przepływów pieniężnych z aktywów w każdym okresie była równa lub większa niż zobowiązania w tym okresie. Proces ten często rozpoczyna się od najdalszych zobowiązań i cofa się w czasie, aby zoptymalizować wykorzystanie przepływów kuponowych w taki sposób, by minimalizować nadwyżki gotówki.</li>
</ul></li>
<li><p><strong>Pasywne zarządzanie:</strong> Po skonstruowaniu portfela, zarządzanie jest minimalne. Nie wymaga ciągłego monitorowania i rebalansowania portfela w odpowiedzi na zmiany stóp procentowych, w przeciwieństwie do strategii immunizacji duration, która wymaga regularnego rebalansowania (ponieważ duration portfela zmienia się w czasie i wraz ze zmianami stóp). W cash flow matching, przepływy pieniężne są z góry ustalone i nie zależą od przyszłych stóp, co czyni ją odporną na ich wahania.</p></li>
<li><p><strong>Brak ryzyka reinwestycji i ryzyka cenowego:</strong></p>
<ul>
<li><strong>Ryzyko reinwestycji:</strong> Zostaje praktycznie wyeliminowane, ponieważ otrzymane przepływy pieniężne są bezpośrednio wykorzystywane do pokrycia zobowiązań, a nie reinwestowane po niepewnych przyszłych stopach rynkowych. To jest kluczowa przewaga nad strategiami duration, które zakładają reinwestycję kuponów po rynkowej stopie, która może być niższa niż oczekiwano.</li>
<li><strong>Ryzyko cenowe:</strong> Zostaje wyeliminowane, ponieważ obligacje w portfelu są utrzymywane do terminu wykupu, a ich bieżące ceny rynkowe stają się mniej istotne. Zmiany cen rynkowych obligacji w portfelu nie mają wpływu na zdolność instytucji do pokrycia zobowiązań, o ile obligacje zostaną utrzymane do wykupu i emitent nie zbankrutuje.</li>
</ul></li>
</ol>
<p><strong>Zalety:</strong></p>
<ul>
<li><strong>Prostota i przejrzystość:</strong> Koncepcja jest stosunkowo łatwa do zrozumienia i wdrożenia, zwłaszcza dla prostych struktur zobowiązań. Jej logiczność jest intuicyjna, co ułatwia komunikację z interesariuszami.</li>
<li><strong>Wysoka skuteczność immunizacji:</strong> Jest to jedna z najbardziej skutecznych metod eliminacji ryzyka stopy procentowej, ponieważ nie opiera się na aproksymacjach (jak duration), lecz na bezpośrednim dopasowaniu przepływów pieniężnych. Zapewnia niemal całkowitą pewność pokrycia przyszłych zobowiązań, co jest kluczowe dla instytucji o ściśle określonych płatnościach.</li>
<li><strong>Minimalne zarządzanie po wdrożeniu:</strong> Po początkowej konstrukcji portfela, wymaga niewielkich interwencji, co obniża koszty zarządzania w dłuższej perspektywie w porównaniu do aktywnych strategii hedgingowych.</li>
</ul>
<p><strong>Wady:</strong></p>
<ul>
<li><strong>Wysokie koszty transakcyjne:</strong> Znalezienie i zakup precyzyjnie dopasowanych instrumentów dla każdego zobowiązania może być kosztowne, zwłaszcza jeśli zobowiązania są liczne, rozłożone w czasie i o nieregularnych wartościach. Rynek może nie oferować idealnie dopasowanych obligacji, co zmusza do zakupu instrumentów o zbliżonych terminach i wartościach, co może generować nadwyżki gotówki (i w konsekwencji ryzyko reinwestycji nadwyżek) lub niedobory.</li>
<li><strong>Ograniczona elastyczność:</strong> Strategia jest bardzo sztywna. Wszelkie zmiany w harmonogramie zobowiązań (np. wcześniejsze spłaty kredytów, nowe zobowiązania, zmiany w prognozach wypłat emerytalnych, czy nawet opcje call/put w obligacjach) wymagają całkowitej przebudowy portfela, co jest kosztowne i czasochłonne. Może to być problematyczne dla zobowiązań o niepewnym harmonogramie.</li>
<li><strong>Trudność w znalezieniu idealnych dopasowań:</strong> Na rynku może być trudno znaleźć instrumenty dłużne, które idealnie pasują do wszystkich przyszłych zobowiązań pod względem terminu i wartości. Może to wymagać zakupu większej liczby instrumentów niż jest to ściśle konieczne, co zwiększa koszty i może obniżyć efektywność kapitałową portfela. Obligacje zerokuponowe są idealne do cash flow matching, ale ich dostępność na wszystkie terminy zapadalności jest ograniczona.</li>
<li><strong>Wymaga znacznego kapitału początkowego:</strong> Zazwyczaj wymaga zainwestowania dużej kwoty kapitału na początku, aby pokryć wszystkie przyszłe zobowiązania, co może być wyzwaniem dla instytucji z ograniczonymi środkami. W przeciwieństwie do duration matching, nie można wykorzystać reinwestycji kuponów do zmniejszenia początkowej inwestycji.</li>
</ul>
<p>Strategia dopasowania przepływów pieniężnych jest często stosowana przez instytucje z długoterminowymi i przewidywalnymi zobowiązaniami, takie jak fundusze emerytalne, firmy ubezpieczeniowe (zwłaszcza te oferujące renty dożywotnie i inne długoterminowe polisy) oraz rządy (w zarządzaniu długiem publicznym), gdzie pewność pokrycia przyszłych płatności jest absolutnym priorytetem, a elastyczność ma mniejsze znaczenie w porównaniu do pewności finansowej. <em>Źródło: Z. Jędrzejczyk, “Zarządzanie ryzykiem finansowym”, PWE 2011. Dodatkowe informacje o cash flow matching: <a href="https://corporatefinanceinstitute.com/resources/fixed-income/cash-flow-matching/">Corporate Finance Institute - Cash Flow Matching</a></em></p>
<hr>
</section>
<section id="scharakteryzuj-wskaźnik-altmana.-jaki-rodzaj-ryzyka-mierzy-ten-wskaźnik." class="level3">
<h3 class="anchored" data-anchor-id="scharakteryzuj-wskaźnik-altmana.-jaki-rodzaj-ryzyka-mierzy-ten-wskaźnik.">7. Scharakteryzuj wskaźnik Altmana. Jaki rodzaj ryzyka mierzy ten wskaźnik.</h3>
<p><strong>Wskaźnik Altmana (Altman Z-Score)</strong> to model statystyczny opracowany przez Edwarda I. Altmana w 1968 roku na podstawie analizy danych finansowych amerykańskich przedsiębiorstw przemysłowych. Służy on do prognozowania prawdopodobieństwa bankructwa przedsiębiorstwa w ciągu najbliższych dwóch lat. Jest to wielowymiarowy model dyskryminacyjny, który łączy pięć kluczowych wskaźników finansowych w jedną, zagregowaną wartość, pozwalając na kompleksową ocenę kondycji finansowej firmy. Model ten zdobył dużą popularność ze względu na swoją prostotę i relatywnie wysoką skuteczność.</p>
<p><strong>Wzór (dla spółek publicznych):</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?Z%20=%201.2A%20+%201.4B%20+%203.3C%20+%200.6D%20+%201.0E"></p>
<p>gdzie: * <strong>A = Kapitał obrotowy / Aktywa ogółem</strong> (Working Capital / Total Assets) * <strong>Rationale:</strong> Mierzy płynność operacyjną i wielkość aktywów obrotowych w stosunku do całkowitych aktywów. Wskazuje na zdolność firmy do pokrywania bieżących zobowiązań z aktywów obrotowych, które szybko mogą zostać zamienione na gotówkę. Niski wskaźnik może sygnalizować problemy z płynnością krótkoterminową i wskazywać na potrzebę restrukturyzacji operacyjnej. * <strong>B = Zyski zatrzymane / Aktywa ogółem</strong> (Retained Earnings / Total Assets) * <strong>Rationale:</strong> Mierzy skumulowane zyski (lub straty) w stosunku do całkowitych aktywów. Jest to wskaźnik efektywności firmy w generowaniu zysków w dłuższym okresie i ich reinwestowaniu w rozwój lub spłatę zobowiązań. Ujemne lub bardzo niskie zyski zatrzymane wskazują, że firma ma długą historię nierentowności lub znacznych strat, co osłabia jej bazę kapitałową i zwiększa uzależnienie od zewnętrznego finansowania. * <strong>C = Zysk przed odsetkami i podatkami (EBIT) / Aktywa ogółem</strong> (Earnings Before Interest and Taxes / Total Assets) * <strong>Rationale:</strong> Mierzy efektywność operacyjną firmy w generowaniu zysków z jej aktywów, niezależnie od struktury finansowania (wpływ odsetek) i obciążeń podatkowych. Jest to kluczowy wskaźnik rentowności operacyjnej, wskazujący na zdolność aktywów do generowania dochodu. Wysoki wskaźnik C świadczy o efektywnym wykorzystaniu aktywów i silnej rentowności podstawowej działalności, co jest fundamentalne dla zdolności do obsługi długu. * <strong>D = Wartość rynkowa kapitału własnego / Zobowiązania ogółem</strong> (Market Value of Equity / Total Liabilities) * <strong>Rationale:</strong> Mierzy, ile aktywów firmy jest finansowanych przez kapitał własny (wartość rynkowa odzwierciedlająca oczekiwania inwestorów co do przyszłych zysków i stabilności firmy) w stosunku do długu. Jest to wskaźnik dźwigni finansowej i zdolności firmy do pokrycia swoich zobowiązań. Wysoka wartość rynkowa kapitału własnego w stosunku do długu wskazuje na silną pozycję finansową, niskie zadłużenie i zaufanie rynku, co jest kluczowe dla pozyskiwania dalszego finansowania. Niska wartość sugeruje wysokie zadłużenie i niskie zaufanie inwestorów. * <strong>E = Sprzedaż / Aktywa ogółem</strong> (Sales / Total Assets) * <strong>Rationale:</strong> Mierzy efektywność wykorzystania aktywów do generowania sprzedaży (tzw. wskaźnik rotacji aktywów). Niska wartość może wskazywać na nieefektywne zarządzanie aktywami, przestarzałe aktywa lub problemy ze sprzedażą produktów/usług firmy, co finalnie przekłada się na niższe zyski. Wysoki wskaźnik oznacza efektywne wykorzystanie zasobów do generowania przychodów.</p>
<p><strong>Interpretacja wskaźnika Z-Score (dla spółek publicznych):</strong></p>
<p>Altman zaproponował następujące strefy interpretacji, które są powszechnie stosowane:</p>
<ul>
<li><strong>Z &gt; 2.99:</strong> “<strong>Bezpieczna strefa</strong>” – niskie prawdopodobieństwo bankructwa. Firma jest w dobrej kondycji finansowej i wykazuje stabilność.</li>
<li><strong>1.81 &lt; Z &lt; 2.99:</strong> “<strong>Szara strefa</strong>” – umiarkowane prawdopodobieństwo bankructwa. Firma wykazuje pewne symptomy problemów finansowych i wymaga monitorowania. Decyzje kredytowe wobec takiej firmy powinny być podejmowane z większą ostrożnością, a inwestorzy mogą żądać wyższej premii za ryzyko.</li>
<li><strong>Z &lt; 1.81:</strong> “<strong>Strefa zagrożenia</strong>” – wysokie prawdopodobieństwo bankructwa w ciągu dwóch lat. Firma znajduje się w poważnych tarapatach finansowych, a ryzyko defaultu jest znaczące.</li>
</ul>
<p><strong>Jaki rodzaj ryzyka mierzy ten wskaźnik?</strong></p>
<p>Wskaźnik Altmana mierzy przede wszystkim <strong>ryzyko kredytowe (Credit Risk)</strong>, a dokładniej <strong>ryzyko niewypłacalności (Default Risk)</strong> lub <strong>ryzyko bankructwa (Bankruptcy Risk)</strong> przedsiębiorstwa.</p>
<p>Dostarcza on syntetycznej oceny kondycji finansowej firmy, wskazując na jej zdolność do generowania zysków, zarządzania aktywami i płynnością, oraz na jej strukturę kapitałową. Niski wynik Z-Score sygnalizuje, że firma ma słabą płynność (niski kapitał obrotowy), niską rentowność (niskie zyski zatrzymane i EBIT), wysoką dźwignię finansową (niska wartość rynkowa kapitału własnego w stosunku do długu) i/lub nieefektywnie wykorzystuje swoje aktywa (niska rotacja sprzedaży), co zwiększa ryzyko, że nie będzie w stanie spłacać swoich zobowiązań i w konsekwencji zbankrutuje.</p>
<p>Wskaźnik ten jest szeroko używany przez banki do oceny zdolności kredytowej potencjalnych kredytobiorców, przez analityków kredytowych do monitorowania portfeli kredytowych i oceny kondycji dłużników, przez inwestorów do oceny ryzyka inwestycji w obligacje korporacyjne oraz przez zarządzających do wczesnego wykrywania problemów finansowych w swoich własnych firmach i podejmowania działań korygujących. Należy jednak pamiętać, że model Altmana został opracowany na danych z sektora przemysłowego i może wymagać modyfikacji dla innych sektorów (np. finansowego, usługowego) oraz dla firm prywatnych (gdzie brakuje wartości rynkowej kapitału własnego, stąd powstają modyfikacje takie jak Altman Z’-score). <em>Źródło: E.I. Altman, “Financial Ratios, Discriminant Analysis and the Prediction of Corporate Bankruptcy”, The Journal of Finance, Vol. 23, No.&nbsp;4 (Sep., 1968), pp.&nbsp;589-609. Dodatkowe informacje: <a href="https://www.investopedia.com/terms/a/altmanzscore.asp">Investopedia - Altman Z-Score</a></em></p>
<hr>
</section>
<section id="wskaż-przynajmniej-dwa-wybrane-przejawy-ryzyka-kredytowego-dwa-rodzaje-zdarzeń-kredytowych-inne-niż-bankructwo." class="level3">
<h3 class="anchored" data-anchor-id="wskaż-przynajmniej-dwa-wybrane-przejawy-ryzyka-kredytowego-dwa-rodzaje-zdarzeń-kredytowych-inne-niż-bankructwo.">8. Wskaż przynajmniej dwa wybrane przejawy ryzyka kredytowego (dwa rodzaje zdarzeń kredytowych), inne niż bankructwo.</h3>
<p><strong>Ryzyko kredytowe</strong> to ryzyko, że dłużnik nie wywiąże się ze swoich zobowiązań finansowych, co spowoduje stratę dla wierzyciela. Chociaż bankructwo jest najbardziej radykalnym i ostatecznym przejawem ryzyka kredytowego, istnieje wiele innych zdarzeń kredytowych (credit events), które sygnalizują pogorszenie zdolności kredytowej dłużnika i mogą prowadzić do znaczących strat dla wierzycieli, zanim dojdzie do formalnego bankructwa. Te zdarzenia są często precyzyjnie definiowane w umowach kredytowych, emisjach obligacji oraz w instrumentach pochodnych (np. Credit Default Swaps), ponieważ ich wystąpienie może wywołać klauzule umowne lub aktywować zabezpieczenia.</p>
<p>Poniżej dwa przykłady zdarzeń kredytowych innych niż bankructwo, wraz z ich konsekwencjami:</p>
<ol type="1">
<li><strong>Niewykonanie zobowiązania (Default) / Opóźnienie w płatności (Payment Default):</strong>
<ul>
<li>Jest to sytuacja, w której dłużnik nie dokonuje płatności odsetek lub kapitału w ustalonym terminie, zgodnie z warunkami umowy kredytowej, obligacji lub innego instrumentu dłużnego. Choć nie jest to jeszcze bankructwo (które zazwyczaj wiąże się z oficjalnym postępowaniem sądowym, np. ogłoszeniem upadłości lub likwidacją), jest to wyraźny i poważny sygnał problemów finansowych dłużnika oraz naruszenie umowy. Często umowy precyzują, po jakim czasie opóźnienia płatność jest traktowana jako default (np. po 30 dniach).</li>
<li><strong>Konsekwencje dla wierzyciela:</strong> Opóźnienie w płatności może być krótkotrwałe (np. kilka dni), ale nawet takie może prowadzić do naliczania kar umownych i wzrostu kosztów. W przypadku dłuższego opóźnienia, default może skutkować wszczęciem procedur windykacyjnych, restrukturyzacji długu lub ostatecznie do bankructwa. Dla wierzyciela oznacza to utratę oczekiwanych przepływów pieniężnych, konieczność odpisów aktualizujących wartość należności w księgach oraz potencjalne straty kapitałowe. Ponadto, default jednej płatności może wywołać tzw. <strong>cross-default</strong>, czyli klauzule w innych umowach dłużnika, które automatycznie uznają go za niewypłacalnego również w stosunku do innych wierzycieli, znacząco pogarszając jego sytuację.</li>
<li><strong>Przykład:</strong> Firma “Z” udzieliła bankowi kredytu w formie obligacji. Z powodu nagłych problemów z płynnością firma ta nie jest w stanie zapłacić kuponu od swoich obligacji w dniu jego wymagalności. Mimo że firma nadal prowadzi działalność, to zdarzenie jest uznawane za <em>payment default</em> i aktywuje klauzule w umowach z innymi kredytodawcami, które mogą żądać natychmiastowej spłaty całego długu.</li>
</ul></li>
<li><strong>Restrukturyzacja długu (Debt Restructuring):</strong>
<ul>
<li>To zmiana pierwotnych warunków umowy kredytowej lub obligacji, zazwyczaj inicjowana przez dłużnika w obliczu trudności finansowych, aby uniknąć bankructwa i umożliwić mu kontynuowanie działalności. Restrukturyzacja jest często wynikiem intensywnych negocjacji między dłużnikiem a jego wierzycielami. Może przyjąć różne formy i zazwyczaj wiąże się z ustępstwami ze strony wierzycieli, co oznacza dla nich stratę (częściową lub całkowitą) w stosunku do pierwotnych, korzystniejszych warunków.</li>
<li><strong>Przykłady typowych zmian w restrukturyzacji:</strong>
<ul>
<li><strong>Obniżenie stopy procentowej:</strong> Zmniejszenie obciążeń odsetkowych dla dłużnika, co zmniejsza jego bieżące wydatki.</li>
<li><strong>Wydłużenie terminu spłaty:</strong> Dłużnik ma więcej czasu na spłatę kapitału, co poprawia jego płynność i obniża roczne raty.</li>
<li><strong>Odroczone płatności (deferral):</strong> Przesunięcie terminów płatności odsetek lub kapitału na późniejszy okres, dając dłużnikowi czas na poprawę sytuacji finansowej.</li>
<li><strong>Częściowe umorzenie długu (haircut):</strong> Wierzyciele zgadzają się na umorzenie części kapitału długu. Jest to bezpośrednia, definitywna strata dla wierzyciela, często akceptowana w zamian za większe prawdopodobieństwo odzyskania pozostałej części.</li>
<li><strong>Konwersja długu na kapitał własny (debt-to-equity swap):</strong> Wierzyciele zamieniają swoje roszczenia z tytułu długu na udziały w kapitale własnym dłużnika, stając się jego współwłaścicielami. Ma to na celu zmniejszenie obciążenia dłużnika długiem, ale dla wierzyciela oznacza zmianę formy roszczenia (z długu na kapitał własny, który jest bardziej ryzykowny) i często utratę części wartości.</li>
</ul></li>
<li><strong>Konsekwencje dla wierzyciela:</strong> Dla wierzyciela restrukturyzacja oznacza zazwyczaj zmniejszenie wartości odzyskiwanej z długu (recovery rate) w porównaniu do pierwotnych warunków. Jest to zdarzenie kredytowe, ponieważ wskazuje na istotne pogorszenie zdolności kredytowej dłużnika i konieczność modyfikacji warunków w celu uniknięcia jeszcze większych strat (np. z bankructwa). Jest to często preferowane rozwiązanie dla wierzycieli, jeśli pozwala uniknąć pełnej utraty kapitału w przypadku bankructwa dłużnika.</li>
<li><strong>Przykład:</strong> Kraj Y, mający poważne problemy z obsługą zadłużenia publicznego, negocjuje z międzynarodowymi wierzycielami (bankami komercyjnymi, funduszami inwestycyjnymi, innymi państwami) wydłużenie terminów spłaty swoich obligacji i obniżenie oprocentowania. Wierzyciele zgadzają się na te ustępstwa, aby uniknąć niewykonania zobowiązania przez państwo, co mogłoby mieć jeszcze bardziej destabilizujące konsekwencje.</li>
</ul></li>
</ol>
<p>Inne istotne przejawy ryzyka kredytowego, poza bankructwem, to m.in.: * <strong>Obniżenie ratingu kredytowego (Credit Rating Downgrade):</strong> Agencje ratingowe (np. Moody’s, S&amp;P, Fitch) obniżają ocenę zdolności kredytowej dłużnika. Choć nie jest to bezpośredni default, sygnalizuje to wzrost ryzyka defaultu i zazwyczaj prowadzi do wzrostu kosztów finansowania dla dłużnika oraz spadku wartości rynkowej jego długu, utrudniając pozyskanie nowego kapitału. * <strong>Naruszenie kowenantów (Covenant Breach):</strong> Dłużnik narusza określone warunki finansowe lub operacyjne zawarte w umowie kredytowej (tzw. kowenanty), np. nieutrzymanie określonego wskaźnika zadłużenia do EBITDA, nieosiągnięcie minimalnego poziomu płynności, przekroczenie limitów inwestycyjnych. Naruszenie kowenantów może skutkować natychmiastową wymagalnością całego długu (tzw. <em>acceleration clause</em>), co stawia dłużnika w sytuacji bliskiej defaultu. * <strong>Repudiacja/Moratorium (Repudiation/Moratorium):</strong> Odmowa dłużnika (często państwa) spłaty długu lub ogłoszenie tymczasowego zawieszenia płatności. Jest to jednostronne działanie, które jest równoznaczne z defaultem, nawet jeśli nie ma formalnego postępowania upadłościowego. <em>Źródło: Podręczniki z zakresu zarządzania ryzykiem kredytowym, np. J. C. Hull, “Risk Management and Financial Institutions”. Dodatkowe informacje: <a href="https://www.investopedia.com/terms/c/creditevent.asp">Investopedia - Credit Event</a></em></p>
<hr>
</section>
<section id="zdefiniuj-i-scharakteryzuj-dwie-podstawowe-formy-ryzyka-płynności." class="level3">
<h3 class="anchored" data-anchor-id="zdefiniuj-i-scharakteryzuj-dwie-podstawowe-formy-ryzyka-płynności.">9. Zdefiniuj i scharakteryzuj dwie podstawowe formy ryzyka płynności.</h3>
<p><strong>Ryzyko płynności (Liquidity Risk)</strong> to fundamentalne ryzyko w sektorze finansowym, które odnosi się do zagrożenia, że instytucja finansowa nie będzie w stanie wywiązać się ze swoich krótkoterminowych zobowiązań finansowych w terminie i po rozsądnej cenie. Materializacja tego ryzyka może prowadzić do poważnych problemów finansowych, a nawet do bankructwa, nawet jeśli instytucja jest solventna długoterminowo (tj. jej aktywa przewyższają pasywa). Dzieje się tak, ponieważ brak gotówki do pokrycia bieżących wypłat uniemożliwia kontynuowanie działalności. Wyróżnia się dwie podstawowe, wzajemnie powiązane formy ryzyka płynności:</p>
<ol type="1">
<li><strong>Ryzyko płynności finansowania (Funding Liquidity Risk / Cash Flow Liquidity Risk):</strong>
<ul>
<li><strong>Definicja:</strong> Jest to ryzyko, że instytucja nie będzie w stanie pozyskać wystarczających środków finansowych (gotówki lub aktywów łatwo zamienialnych na gotówkę) w odpowiednim czasie i po rozsądnej cenie, aby pokryć swoje bieżące i przyszłe zobowiązania. Dotyczy to zdolności do generowania gotówki w celu zaspokojenia potrzeb finansowych wynikających z napływów i wypływów środków.</li>
<li><strong>Charakterystyka:</strong>
<ul>
<li><strong>Źródło:</strong> Wynika z niedopasowania terminów zapadalności aktywów i pasywów (tzw. <em>maturity mismatch</em>, np. finansowanie długoterminowych kredytów krótkoterminowymi depozytami, które mogą być wycofane w dowolnym momencie), nagłych i nieoczekiwanych wypłat środków (np. masowe wycofywanie depozytów przez klientów w wyniku paniki lub utraty zaufania, tzw. <em>bank run</em>), niemożności rolowania krótkoterminowego zadłużenia (np. krótkoterminowych pożyczek międzybankowych, emisji krótkoterminowych papierów dłużnych), utraty dostępu do rynków finansowania (np. z powodu pogorszenia ratingu kredytowego banku) lub znacznego wzrostu kosztów pozyskania finansowania.</li>
<li><strong>Skutki:</strong> Może prowadzić do konieczności sprzedaży aktywów po niekorzystnych cenach (tzw. <em>fire sale</em>), aby szybko pozyskać gotówkę, co generuje straty i może prowadzić do spadku wartości aktywów bilansowych. Długoterminowo może skutkować utratą reputacji, odpływem klientów i w skrajnych przypadkach do upadłości instytucji. W kontekście systemowym, problem jednego banku z płynnością finansowania może rozprzestrzenić się na cały system.</li>
<li><strong>Zarządzanie:</strong> Wymaga utrzymywania odpowiednich buforów płynności (np. gotówki, wysokiej jakości płynnych aktywów, takich jak obligacje rządowe, które są łatwo zbywalne), dywersyfikacji źródeł finansowania (np. depozyty detaliczne, depozyty hurtowe, emisje długu, linie kredytowe od innych banków) oraz aktywnego monitorowania i prognozowania przepływów pieniężnych (tzw. <em>cash flow forecasting</em>). Banki często tworzą plany awaryjne (Contingency Funding Plans) na wypadek kryzysu płynności.</li>
<li><strong>Przykład:</strong> Bank A jest silnie uzależniony od krótkoterminowych pożyczek na rynku międzybankowym. W wyniku nagłego kryzysu zaufania na rynku, inne banki odmawiają mu udzielenia pożyczek, co sprawia, że Bank A nie jest w stanie pokryć bieżących wypłat depozytów i musi sprzedawać swoje aktywa po znacznie zaniżonych cenach.</li>
</ul></li>
</ul></li>
<li><strong>Ryzyko płynności rynkowej (Market Liquidity Risk / Asset Liquidity Risk):</strong>
<ul>
<li><strong>Definicja:</strong> Jest to ryzyko, że instytucja nie będzie w stanie szybko i efektywnie zrealizować transakcji na rynku (kupić lub sprzedać aktywa) po cenie zbliżonej do ostatniej ceny rynkowej, z powodu niewystarczającej głębokości lub szerokości rynku. Dotyczy to zdolności do szybkiej konwersji aktywów na gotówkę bez znaczącego wpływu na ich cenę.</li>
<li><strong>Charakterystyka:</strong>
<ul>
<li><strong>Źródło:</strong> Wynika z niskiej płynności danego aktywa (np. instrumenty niestandardowe, duże pakiety akcji małych spółek, niestandardowe instrumenty pochodne, obligacje o niskim wolumenie obrotu), braku wystarczającej liczby kupujących lub sprzedających na rynku, wysokich spreadów bid-ask (różnicy między ceną kupna a ceną sprzedaży, która stanowi koszt transakcyjny), lub ogólnego załamania płynności na rynku (tzw. <em>flight to quality</em> w czasie kryzysu, gdy inwestorzy wycofują się z ryzykownych aktywów i koncentrują się na bezpiecznych, płynnych instrumentach).</li>
<li><strong>Skutki:</strong> Może prowadzić do konieczności akceptowania znacznie niższych cen sprzedaży (lub wyższych cen zakupu) niż oczekiwano, co generuje straty transakcyjne i kapitałowe. Może również uniemożliwić instytucji zrealizowanie zaplanowanych strategii handlowych, zabezpieczających lub restrukturyzacyjnych, ponieważ niemożność wyjścia z pozycji lub wejścia w nią po rozsądnej cenie staje się barierą.</li>
<li><strong>Zarządzanie:</strong> Wymaga regularnej oceny płynności posiadanych aktywów (np. poprzez analizę wolumenu obrotu, spreadów bid-ask, głębokości rynku), unikania nadmiernej koncentracji w aktywach o niskiej płynności oraz posiadania planów awaryjnych na wypadek spadku płynności rynkowej, w tym możliwości sekurytyzacji aktywów lub wykorzystania repo.</li>
<li><strong>Przykład:</strong> Fundusz inwestycyjny musi szybko sprzedać duży pakiet akcji spółki notowanej na mniej płynnym rynku, aby sprostać żądaniom wykupu jednostek przez inwestorów. Ze względu na brak zainteresowania kupujących, fundusz jest zmuszony sprzedać akcje po cenie znacznie niższej niż ich ostatnia wycena, co generuje straty dla funduszu i jego klientów.</li>
</ul></li>
</ul></li>
</ol>
<p>Obie formy ryzyka płynności są ze sobą ściśle powiązane i często wzajemnie się wzmacniają, tworząc tzw. <strong>spiralę płynnościową</strong>. Problemy z płynnością finansowania (np. nagły odpływ depozytów) mogą zmusić instytucję do sprzedaży aktywów. Jeśli te aktywa są mało płynne lub rynek jest w stresie, bank ujawni ryzyko płynności rynkowej, co doprowadzi do sprzedaży po zaniżonych cenach, generując straty i obniżając współczynniki kapitałowe. To z kolei może jeszcze bardziej podważyć zaufanie i pogłębić problemy z płynnością finansowania. Skuteczne zarządzanie płynnością wymaga holistycznego podejścia do obu tych aspektów i uwzględnienia ich interakcji. <em>Źródło: Basel Committee on Banking Supervision (BCBS) - “Principles for Sound Liquidity Risk Management and Supervision”. Dodatkowe informacje: <a href="https://www.investopedia.com/terms/l/liquidityrisk.asp">Investopedia - Liquidity Risk</a></em></p>
<hr>
</section>
<section id="co-mierzy-i-jak-należy-intepretować-wskaźnik-nsfr-net-stable-funding-ratio." class="level3">
<h3 class="anchored" data-anchor-id="co-mierzy-i-jak-należy-intepretować-wskaźnik-nsfr-net-stable-funding-ratio.">10. Co mierzy i jak należy intepretować wskaźnik NSFR (Net Stable Funding Ratio).</h3>
<p><strong>Wskaźnik NSFR (Net Stable Funding Ratio)</strong>, czyli Wskaźnik Stabilnego Finansowania Netto, jest kluczowym wskaźnikiem płynności wprowadzonym w ramach regulacji <strong>Bazylea III</strong> przez Bazylejski Komitet Nadzoru Bankowego (BCBS). Jego głównym celem jest zapewnienie, że banki utrzymują wystarczającą ilość stabilnego finansowania, aby pokryć swoje długoterminowe aktywa i działalność pozabilansową. Ma to na celu zmniejszenie ryzyka płynności finansowania w horyzoncie długoterminowym (ponad jeden rok) i strukturalne wzmocnienie bilansów banków, aby były mniej podatne na przyszłe kryzysy finansowe.</p>
<p><strong>Co mierzy NSFR:</strong></p>
<p>NSFR mierzy stosunek <strong>dostępnego stabilnego finansowania (Available Stable Funding, ASF)</strong> do <strong>wymaganego stabilnego finansowania (Required Stable Funding, RSF)</strong> w horyzoncie jednego roku. Wskaźnik ten ma na celu promowanie strukturalnej stabilności finansowania banków poprzez zapewnienie, że banki finansują swoje długoterminowe aktywa i zobowiązania pozabilansowe stabilnymi źródłami, które są mniej podatne na nagłe wycofanie w warunkach rynkowych napięć.</p>
<ul>
<li><strong>Dostępne Stabilne Finansowanie (ASF):</strong> Obejmuje te komponenty bilansu i pozycji pozabilansowych, które są uznawane za stabilne źródła finansowania na horyzoncie jednego roku lub dłużej. Wartości poszczególnych pozycji są ważone współczynnikami stabilności (stable funding factors), odzwierciedlającymi ich trwałość i odporność na wycofanie w warunkach stresowych. Im dłuższy termin zapadalności i bardziej stabilne źródło finansowania, tym wyższa waga przypisana do ASF.
<ul>
<li><strong>Przykłady i ich wagi (przykładowe):</strong>
<ul>
<li><strong>Kapitał własny banku:</strong> (np. kapitał zakładowy, zyski zatrzymane, rezerwy) - waga 100% (najbardziej stabilne źródło).</li>
<li><strong>Zobowiązania długoterminowe:</strong> (np. wyemitowane obligacje z terminem zapadalności powyżej 1 roku, długoterminowe kredyty bankowe) - waga 100% (jeśli termin zapadalności jest bardzo długi, np. &gt;5 lat) lub niższe wagi (np. 50% dla terminów 6 miesięcy - 1 rok).</li>
<li><strong>Depozyty klientów:</strong> Ich stabilność zależy od typu depozytu i relacji z klientem.
<ul>
<li><strong>Depozyty detaliczne (np. oszczędnościowe, bieżące):</strong> często stabilne, szczególnie te ubezpieczone i te, które nie są operacyjnie powiązane z dużymi firmami (waga 90-95%).</li>
<li><strong>Depozyty operacyjne (firm, które muszą utrzymywać środki w banku do rozliczeń):</strong> również wysoka waga (np. 85-90%).</li>
<li><strong>Depozyty hurtowe (od dużych firm, innych banków):</strong> niższa waga (np. 50% lub 0% dla bardzo krótkoterminowych), ponieważ są mniej stabilne i bardziej podatne na szybkie wycofanie.</li>
</ul></li>
<li><strong>Inne zobowiązania:</strong> (np. pożyczki od innych instytucji finansowych z terminem zapadalności powyżej 1 roku) - wagi zależne od terminu i kontrahenta.</li>
</ul></li>
</ul></li>
<li><strong>Wymagane Stabilne Finansowanie (RSF):</strong> Odzwierciedla zapotrzebowanie na stabilne finansowanie, wynikające z posiadanych aktywów oraz pozycji pozabilansowych. Wartości aktywów i pozycji pozabilansowych są ważone współczynnikami (required stable funding factors), które odzwierciedlają ich płynność, długość terminu utrzymywania w bilansie banku oraz ryzyko. Aktywa o dłuższym terminie zapadalności, niższej płynności lub wyższym ryzyku wymagają większego stabilnego finansowania.
<ul>
<li><strong>Przykłady i ich wagi (przykładowe):</strong>
<ul>
<li><strong>Gotówka i rezerwy w banku centralnym:</strong> 0% RSF (są to najbardziej płynne aktywa, nie wymagają dodatkowego stabilnego finansowania).</li>
<li><strong>Wysokiej jakości płynne aktywa (HQLA):</strong> (np. obligacje rządowe o wysokim ratingu) - niskie RSF, np. 5-10%, ponieważ są łatwo zbywalne.</li>
<li><strong>Kredyty dla klientów:</strong> (np. kredyty hipoteczne, kredyty korporacyjne) - wymagają wysokiego RSF, np. 65-85%, ponieważ są długoterminowe i mniej płynne.</li>
<li><strong>Aktywa o bardzo niskiej płynności:</strong> (np. nieruchomości, udziały w spółkach zależnych, inwestycje w infrastrukturę) - 100% RSF.</li>
<li><strong>Instrumenty pochodne i pozycje pozabilansowe:</strong> (np. niewykorzystane linie kredytowe, gwarancje, zobowiązania wynikające z transakcji finansowania papierów wartościowych) - również generują zapotrzebowanie na RSF, w zależności od ich charakteru i prawdopodobieństwa aktywacji w warunkach stresu.</li>
</ul></li>
</ul></li>
</ul>
<p><strong>Wzór NSFR:</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?NSFR%20=%20%5Cfrac%7B%5Ctext%7BDost%C4%99pne%20Stabilne%20Finansowanie%20(ASF)%7D%7D%7B%5Ctext%7BWymagane%20Stabilne%20Finansowanie%20(RSF)%7D%7D%20%5Cge%20100%5C%25"></p>
<p><strong>Jak należy interpretować wskaźnik NSFR:</strong></p>
<ul>
<li><strong>NSFR <img src="https://latex.codecogs.com/png.latex?%5Cge%20100%5C%25">:</strong> Oznacza, że bank posiada wystarczającą ilość dostępnego stabilnego finansowania, aby pokryć swoje wymagane stabilne finansowanie. Jest to minimalny wymóg regulacyjny, który wszedł w życie 1 stycznia 2018 r. dla większości jurysdykcji. Banki dążą do utrzymywania NSFR powyżej 100%, co świadczy o ich stabilności finansowej, odporności na szoki płynnościowe i zdolności do finansowania długoterminowych aktywów za pomocą stabilnych źródeł. Wyższy wskaźnik oznacza większą odporność na potencjalne kryzysy płynnościowe. Organy nadzoru monitorują ten wskaźnik, aby upewnić się, że banki są odpowiednio przygotowane na długoterminowe wyzwania.</li>
<li><strong>NSFR <img src="https://latex.codecogs.com/png.latex?%3C%20100%5C%25">:</strong> Oznacza, że bank nie posiada wystarczającej ilości stabilnego finansowania w stosunku do swoich aktywów i działalności pozabilansowej. Taka sytuacja sygnalizuje podwyższone ryzyko płynności finansowania, ponieważ bank jest nadmiernie uzależniony od krótkoterminowego, niestabilnego finansowania. W przypadku trudności na rynkach finansowania, bank może mieć problem z rolowaniem długu lub pozyskaniem nowych środków, co może prowadzić do problemów z płynnością, konieczności sprzedaży aktywów po zaniżonych cenach i utraty zaufania. Niski NSFR może prowadzić do interwencji regulacyjnych i narzucenia dodatkowych wymogów kapitałowych lub płynnościowych.</li>
</ul>
<p><strong>Cel i znaczenie NSFR:</strong></p>
<p>Głównym celem wprowadzenia NSFR jest:</p>
<ul>
<li><strong>Zwiększenie długoterminowej stabilności finansowania banków:</strong> Poprzez promowanie finansowania aktywów długoterminowych stabilnymi źródłami, NSFR zmniejsza ryzyko niedopasowania terminów zapadalności między aktywami a pasywami, które było jednym z kluczowych czynników kryzysu finansowego w 2008 roku.</li>
<li><strong>Zmniejszenie zależności od krótkoterminowego finansowania hurtowego:</strong> Wskaźnik ten zniechęca banki do nadmiernego polegania na niestabilnych, wrażliwych na wahania rynkowe źródłach finansowania (np. krótkoterminowych pożyczkach międzybankowych), które mogą szybko zniknąć w czasie kryzysu finansowego.</li>
<li><strong>Poprawa odporności na szoki finansowania:</strong> Wzmacnia zdolność banków do przetrwania okresów stresu rynkowego, gdy dostęp do finansowania jest ograniczony lub jego koszt gwałtownie wzrasta, bez konieczności interwencji publicznych.</li>
<li><strong>Wspieranie zdrowych praktyk zarządzania płynnością:</strong> Zachęca banki do bardziej ostrożnego i konserwatywnego zarządzania strukturą bilansu i źródłami finansowania, promując długoterminowe i stabilne źródła kapitału oraz minimalizując ryzykowne strategie finansowania.</li>
</ul>
<p>NSFR jest uzupełnieniem innego kluczowego wskaźnika płynności z Bazylei III – Wskaźnika Pokrycia Płynności (Liquidity Coverage Ratio, LCR), który koncentruje się na krótkoterminowej (30-dniowej) odporności na szoki płynnościowe. Podczas gdy LCR zapewnia, że bank ma wystarczające płynne aktywa, aby przetrwać krótkotrwały kryzys, NSFR ma szerszy horyzont (1 rok) i koncentruje się na strukturalnej stabilności finansowania banku, zapewniając, że jego długoterminowa działalność jest odpowiednio finansowana. Razem, te dwa wskaźniki tworzą kompleksowy zestaw narzędzi regulacyjnych do zarządzania ryzykiem płynności. <em>Źródło: Basel Committee on Banking Supervision (BCBS) - “Basel III: The Net Stable Funding Ratio”. Pełna dokumentacja: <a href="https://www.bis.org/bcbs/publ/d295.pdf">www.bis.org/bcbs/publ/d295.pdf</a></em></p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Financial Markets</category>
  <guid>https://bwrob.github.io/posts/sgh-investment-banking/</guid>
  <pubDate>Sat, 21 Jun 2025 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/sgh-investment-banking/financial_markets.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Mathematician in the financial markets (PL)</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/mathematician-in-finance/</link>
  <description><![CDATA[ 






<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/mathematician-in-finance/financial_whirlpool.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></p>
</figure>
</div>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This post accompanies a lecture I delivered at the University of Wroclaw on career planning for mathematicians. It explores the skills, roles, and opportunities in the financial industry, highlighting how mathematical expertise can be applied to areas like risk management, quantitative analysis, and algorithmic trading.</p>
</section>
<section id="rynki-finansowe" class="level2">
<h2 class="anchored" data-anchor-id="rynki-finansowe">Rynki Finansowe</h2>
<p>Rynki finansowe to złożone ekosystemy, w których handluje się aktywami, takimi jak akcje, obligacje i instrumenty pochodne. Rynki te ułatwiają przepływ kapitału między inwestorami a przedsiębiorstwami, napędzając wzrost gospodarczy. Pozwalają takze na transfer już istniejącego ryzyka finansowego.</p>
<p>Charakteryzują się:</p>
<ul>
<li>Ciągłymi zmianami i zmiennością.</li>
<li>Ogromnymi wolumenami danych.</li>
<li>Wzajemnymi powiązaniami globalnych gospodarek.</li>
<li>Potrzebą precyzyjnej wyceny i oceny ryzyka.</li>
</ul>
<p>Główne postaci na parkietach rynkiowych:</p>
<ul>
<li><strong>Spekulant:</strong>
<ul>
<li>Cel: Zysk z przewidywania zmian cen.</li>
<li>Działanie: Kupno/sprzedaż z ryzykiem.</li>
<li>Znaczenie: Płynność, zmienność.</li>
</ul></li>
<li><strong>Arbitrażysta:</strong>
<ul>
<li>Cel: Zysk bez ryzyka z różnic cen.</li>
<li>Działanie: Szybkie transakcje wykorzystujące niespójności.</li>
<li>Znaczenie: Efektywność rynków.</li>
</ul></li>
<li><strong>Hedger:</strong>
<ul>
<li>Cel: Zmniejszenie ryzyka.</li>
<li>Działanie: Zabezpieczanie się instrumentami finansowymi.</li>
<li>Znaczenie: Stabilność rynków.</li>
</ul></li>
<li><strong>Pośrednik:</strong>
<ul>
<li>Cel: Ułatwienie transakcji.</li>
<li>Działanie: Łączenie kupujących i sprzedających.</li>
<li>Znaczenie: Płynność, dostęp do rynków.</li>
</ul></li>
</ul>
</section>
<section id="rola-matematyków" class="level2">
<h2 class="anchored" data-anchor-id="rola-matematyków">Rola Matematyków</h2>
<ul>
<li><strong>Modelowanie niepewności:</strong>
<ul>
<li>Rynki finansowe charakteryzują się inherentną niepewnością.</li>
<li>Matematycy wykorzystują zaawansowane narzędzia rachunku prawdopodobieństwa i statystyki do modelowania oraz kwantyfikacji tej niepewności, co umożliwia efektywne zarządzanie ryzykiem.</li>
</ul></li>
<li><strong>Precyzyjna wycena instrumentów finansowych:</strong>
<ul>
<li>Wycena instrumentów finansowych, w szczególności instrumentów pochodnych, wymaga stosowania złożonych modeli matematycznych.</li>
<li>Rachunek stochastyczny, równania różniczkowe cząstkowe oraz metody numeryczne stanowią fundamentalne narzędzia w tym procesie.</li>
</ul></li>
<li><strong>Zarządzanie ryzykiem finansowym:</strong>
<ul>
<li>Matematycy opracowują zaawansowane modele służące do pomiaru i zarządzania różnorodnymi rodzajami ryzyka finansowego, w tym ryzykiem rynkowym, kredytowym oraz operacyjnym.</li>
<li>Zapewnia to stabilność i odporność instytucji finansowych na potencjalne wstrząsy.</li>
</ul></li>
<li><strong>Handel algorytmiczny:</strong>
<ul>
<li>Handel wysokiej częstotliwości oraz inne strategie algorytmiczne opierają się na optymalizacji matematycznej i analizie statystycznej w celu identyfikacji i wykorzystania możliwości rynkowych.</li>
</ul></li>
<li><strong>Analiza danych finansowych:</strong>
<ul>
<li>Analiza i interpretacja ogromnych zbiorów danych finansowych wymaga zastosowania zaawansowanych technik matematycznych i statystycznych.</li>
<li>Matematycy posiadają kompetencje w zakresie ekstrakcji istotnych informacji ze złożonych zbiorów danych.</li>
</ul></li>
<li><strong>Optymalizacja portfela inwestycyjnego:</strong>
<ul>
<li>Optymalizacja portfela inwestycyjnego oraz inne problemy finansowe wymagają znalezienia optymalnych rozwiązań przy uwzględnieniu określonych ograniczeń.</li>
<li>Techniki optymalizacji matematycznej mają kluczowe znaczenie w osiąganiu pożądanych wyników.</li>
</ul></li>
<li><strong>Zgodność z regulacjami prawnymi:</strong>
<ul>
<li>Przepisy regulujące sektor finansowy wymagają rygorystycznej analizy ilościowej oraz walidacji modeli.</li>
<li>Matematycy odgrywają istotną rolę w zapewnieniu zgodności instytucji finansowych z obowiązującymi regulacjami. zgodności z tymi przepisami.</li>
</ul></li>
</ul>
</section>
<section id="rodzaje-analityków-ilościowych" class="level2">
<h2 class="anchored" data-anchor-id="rodzaje-analityków-ilościowych">Rodzaje analityków ilościowych</h2>
<div id="b3403909" class="cell" data-collapse="true" data-execution_count="1">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true">Front Office Quant</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false">Market Risk Quant</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" aria-controls="tabset-1-3" aria-selected="false">Credit Risk Quant</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" aria-controls="tabset-1-4" aria-selected="false">Validation Quant</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" aria-controls="tabset-1-5" aria-selected="false">Quant Researcher</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" aria-controls="tabset-1-6" aria-selected="false">Algorithmic Trader</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" aria-controls="tabset-1-7" aria-selected="false">Quant Developer</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<p>Opracowuje i stosuje modele ilościowe do wyceny, zarządzania ryzykiem i strategii handlowych w dziale transakcyjnym instytucji finansowej.</p>
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.0.1.min"</script>
        
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="768b0c6e-0d85-4cc2-af73-18f7342e877c" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("768b0c6e-0d85-4cc2-af73-18f7342e877c")) {                    Plotly.newPlot(                        "768b0c6e-0d85-4cc2-af73-18f7342e877c",                        [{"orientation":"h","x":[0,1,3,0,0,0,3,0,0,3,1,0,1],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Front Office Quant"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('768b0c6e-0d85-4cc2-af73-18f7342e877c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<p>Opracowuje i waliduje modele do pomiaru i zarządzania ryzykiem rynkowym, zapewniając zgodność z wymogami regulacyjnymi.</p>
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="bdb4e286-3891-44e1-9dcb-d320f8441d4d" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("bdb4e286-3891-44e1-9dcb-d320f8441d4d")) {                    Plotly.newPlot(                        "bdb4e286-3891-44e1-9dcb-d320f8441d4d",                        [{"orientation":"h","x":[0,2,2,0,0,0,2,3,0,2,0,0,1],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Market Risk Quant"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('bdb4e286-3891-44e1-9dcb-d320f8441d4d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div id="tabset-1-3" class="tab-pane" aria-labelledby="tabset-1-3-tab">
<p>Opracowuje i waliduje modele do pomiaru i zarządzania ryzykiem kredytowym, oceniając prawdopodobieństwo niewypłacalności pożyczkobiorcy.</p>
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="ed080532-0994-4e60-88c0-5d59f35ac20c" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("ed080532-0994-4e60-88c0-5d59f35ac20c")) {                    Plotly.newPlot(                        "ed080532-0994-4e60-88c0-5d59f35ac20c",                        [{"orientation":"h","x":[0,0,2,0,0,0,2,3,0,3,1,0,2],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Credit Risk Quant"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ed080532-0994-4e60-88c0-5d59f35ac20c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div id="tabset-1-4" class="tab-pane" aria-labelledby="tabset-1-4-tab">
<p>Niezależnie ocenia i waliduje modele finansowe opracowane przez innych kwantów, zapewniając ich dokładność i solidność.</p>
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="00afec92-445c-4fa9-b3d8-248ee0c01762" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("00afec92-445c-4fa9-b3d8-248ee0c01762")) {                    Plotly.newPlot(                        "00afec92-445c-4fa9-b3d8-248ee0c01762",                        [{"orientation":"h","x":[0,3,0,3,0,0,2,0,0,3,0,0,1],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Validation Quant"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('00afec92-445c-4fa9-b3d8-248ee0c01762');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div id="tabset-1-5" class="tab-pane" aria-labelledby="tabset-1-5-tab">
<p>Prowadzi nowatorskie badania w dziedzinie finansów ilościowych, opracowując nowe modele i techniki handlu, zarządzania ryzykiem i wyceny aktywów.</p>
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="24417efc-61ec-43ab-90be-1593bceab17b" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("24417efc-61ec-43ab-90be-1593bceab17b")) {                    Plotly.newPlot(                        "24417efc-61ec-43ab-90be-1593bceab17b",                        [{"orientation":"h","x":[0,0,3,0,3,0,2,0,0,3,0,2,0],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Quant Researcher"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('24417efc-61ec-43ab-90be-1593bceab17b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div id="tabset-1-6" class="tab-pane" aria-labelledby="tabset-1-6-tab">
<p>Opracowuje i wdraża zautomatyzowane strategie handlowe przy użyciu modeli ilościowych i algorytmów, często koncentrując się na handlu wysokiej częstotliwości.</p>
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="f17d141d-f495-497a-9aac-f9cc03bd9adb" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("f17d141d-f495-497a-9aac-f9cc03bd9adb")) {                    Plotly.newPlot(                        "f17d141d-f495-497a-9aac-f9cc03bd9adb",                        [{"orientation":"h","x":[2,0,3,0,3,0,3,0,3,0,2,2,0],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Algorithmic Trader"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f17d141d-f495-497a-9aac-f9cc03bd9adb');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div id="tabset-1-7" class="tab-pane" aria-labelledby="tabset-1-7-tab">
<p>Projektuje i wdraża rozwiązania programowe dla systemów handlu ilościowego, platform zarządzania ryzykiem i narzędzi modelowania finansowego.</p>
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="ae10abe0-3278-4cbb-a4f1-6b7aa23fbc5c" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("ae10abe0-3278-4cbb-a4f1-6b7aa23fbc5c")) {                    Plotly.newPlot(                        "ae10abe0-3278-4cbb-a4f1-6b7aa23fbc5c",                        [{"orientation":"h","x":[2,1,2,0,0,3,3,0,0,1,3,0,0],"y":["Zarz\u0105dzanie Danymi","Wiedza Regulacyjna","Wiedza Finansowa","Walidacja Modeli","Uczenie Statystyczne","Projektowanie Algorytm\u00f3w","Programowanie","Modelowanie Ryzyka","Mikrostruktura Rynku","Matematyka Finansowa","In\u017cynieria Oprogramowania","Eksploracja Danych","Analiza Danych"],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"showgrid":false,"tickmode":"linear","tick0":0,"dtick":1},"title":{"text":"Skill Levels - Quant Developer"},"width":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ae10abe0-3278-4cbb-a4f1-6b7aa23fbc5c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</div>
</div>
</section>
<section id="codzienne-doświadczenia-quanta" class="level2">
<h2 class="anchored" data-anchor-id="codzienne-doświadczenia-quanta">Codzienne Doświadczenia Quanta</h2>
<p>Życie analityka ilościowego wykracza daleko poza samo przetwarzanie liczb. To różnorodne połączenie wiedzy technicznej i umiejętności interpersonalnych.</p>
<ul>
<li><strong>Rozwój i Testowanie Modeli:</strong>
<ul>
<li>Znaczną część dnia poświęca się na rozwój, udoskonalanie lub testowanie modeli ilościowych.</li>
<li>Obejmuje to kodowanie, analizę statystyczną i rygorystyczne testowanie, co wymaga silnych umiejętności <strong>rozwiązywania problemów</strong> i <strong>myślenia analitycznego</strong>.</li>
</ul></li>
<li><strong>Współpraca i Komunikacja:</strong>
<ul>
<li>Quanci ściśle współpracują z traderami, menedżerami ryzyka i programistami.</li>
<li>Wyjaśnianie złożonych modeli i wyników nietechnicznym współpracownikom jest kluczowe, co podkreśla znaczenie <strong>jasnej komunikacji</strong>.</li>
<li>Praca w zespołach wymaga doskonałych umiejętności <strong>współpracy</strong>.</li>
</ul></li>
<li><strong>Rozwiązywanie Problemów pod Presją:</strong>
<ul>
<li>Rynki finansowe mogą być niestabilne, co wymaga od kwantów szybkiego dostosowywania się do zmieniających się warunków.</li>
<li>Wymaga to <strong>zdolności adaptacji</strong> i umiejętności zachowania spokoju pod presją.</li>
<li>Poziom presji znacznie różni się w zależności od stanowiska.</li>
</ul></li>
<li><strong>Ciągłe Uczenie się:</strong>
<ul>
<li>Dziedzina finansów ilościowych stale się rozwija, co wymaga od kwantów bycia na bieżąco z nowymi technikami i technologiami.</li>
<li>Zaangażowanie w <strong>całożyciowe uczenie się</strong> jest niezbędne, co może sprawić, że praca jest ciekawa.</li>
</ul></li>
<li><strong>Bycie na bieżąco</strong>
<ul>
<li>Niektóre profesje wymagają stałej znajomości przeglądu danych rynkowych, wiadomości i raportów, aby być na bieżąco z globalnymi trendami finansowymi.</li>
<li>Wymaga to <strong>dbałości o szczegóły</strong> i umiejętności szybkiego przyswajania złożonych informacji.</li>
</ul></li>
<li><strong>Zgodność z Regulacjami:</strong>
<ul>
<li>Wielu quantów spędza czas na upewnianiu się, że modele i procesy są zgodne z obowiązującymi przepisami. Wymaga to dużej <strong>dbałości o szczegóły</strong> i umiejętności rozumienia złożonych dokumentów.</li>
</ul></li>
</ul>
</section>
<section id="potencjali-pracodawcy" class="level2">
<h2 class="anchored" data-anchor-id="potencjali-pracodawcy">Potencjali pracodawcy</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" aria-controls="tabset-2-1" aria-selected="true">Wrocław</a></li><li class="nav-item"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" aria-controls="tabset-2-2" aria-selected="false">Polska</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" aria-labelledby="tabset-2-1-tab">
<ul>
<li>Allianz Deutchland (ubezpieczenia)</li>
<li>BNY Mellon</li>
<li>EY (konsulting)</li>
<li>Qube RT</li>
<li>Santander</li>
<li>UBS</li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" aria-labelledby="tabset-2-2-tab">
<ul>
<li>Citi</li>
<li>Commerzbank</li>
<li>Goldman Sachs</li>
<li>HSBC</li>
<li>mBank</li>
<li>Natwest</li>
<li>Point 72</li>
<li>Revolut</li>
<li>Standard Chartered</li>
</ul>
</div>
</div>
</div>
</section>
<section id="przegląd-mojej-edukacji-i-kariery" class="level2">
<h2 class="anchored" data-anchor-id="przegląd-mojej-edukacji-i-kariery">Przegląd mojej edukacji i kariery</h2>
<p><a href="../../pages/resume.html">Resume</a></p>
</section>
<section id="materiały" class="level2">
<h2 class="anchored" data-anchor-id="materiały">Materiały</h2>
<section id="książki-popularne" class="level3">
<h3 class="anchored" data-anchor-id="książki-popularne">Książki popularne</h3>
<ul>
<li><a href="https://www.amazon.pl/Quants-Whizzes-Conquered-Street-Destroyed/dp/0307453383">The Quants: How a New Breed of Math Whizzes Conquered Wall Street and Nearly Destroyed It – Scott Patterson</a></li>
<li><a href="https://www.amazon.pl/Random-Walk-Down-Wall-Street/dp/0393358380/ref=sr_1_2?crid=1W4HZGGMCPXAH&amp;dib=eyJ2IjoiMSJ9.Q_in3kdh8y-uXHbz63xwv4icS1gkci0B1-6hYgi3E3SOvzab9rkMMDRfV-2R-w8nEoh5r51cbapjszbhoXftUqKflaXkDNNtOuoTnR-JjeFuXyxihtN9ZjMtkYxwegDOgH-ckqhdtv4lBqQEWVR6tbxler_okYcmpxMQQHGmVVVSI5KUWyTiYN1PlMGF7YgskPvLe7NAS92R_GpzphX4JmCxBj_XT0JOJPJKZpDviId65oCbF1wnGsuL-MtZwah_KAPYMU2gfZxuLciI_J_PRWs-OydFtvtIXnnwyBcz5w_HNBjZ4dVL-bYJmMwQJ72A.7FRbzQVSiOKe43_JVVkvE0uatJCvGY6SeP-LB7qXJk4&amp;dib_tag=se&amp;keywords=random+walk+down+wall+street&amp;qid=1743147892&amp;sprefix=random+walk+%2Caps%2C113&amp;sr=8-2">A Random Walk Down Wall Street: The Time-Tested Strategy for Successful Investing – Burton G. Malkiel</a></li>
<li><a href="https://www.amazon.pl/Money-Formula-Finance-Science-Mathematicians/dp/1119358612/ref=sr_1_1?crid=3MKWYCUO6PI73&amp;dib=eyJ2IjoiMSJ9.qjPzdto7o1HkZ5Bln3iLZaIeAPGJV2jl79qCQlTCb5x8ri5_REY4VYJm4CS5osmQNBrOvBsCpOmOvtKFhzP7JzY3OTz_Rejw_Oixb-9Ut1VrSAjkZUBuxbpxod9ZOfoTu0b7LO7XQyFFesE5BtTXGD3S6uob3JpeK84HSGDCPFbcdOxIzGvtCvJt2pGQJIa3y5MYl_GkfHRGCifiVyberYGGo5LJwzlIaZXrW4Olcww1Pp5SlOphC6ybYEUQtq5hX5Y_QptTwVX3s7BuIYOhCnIQbqaJivK3lMeL4sZEQM1iXRSIrRTvdCH_jyIgxbzMGPOjDU4LNMLdBLYnSJ1xVus6zJfKS9mjexVpG7szdCUnznaXM9z-BOwqMfI0FjS7454Zn3WBNEMa9vcqgJsZGjD9eQ8tROwa6WuBF_Srmbu0R6DO5IQ7ymCsun8EM1J-.70m2CEdtCnSpHNGwtwtajzvCG3TMC1YPtyT3iJBbphQ&amp;dib_tag=se&amp;keywords=the+money+formula&amp;qid=1743147962&amp;sprefix=the+money+form%2Caps%2C103&amp;sr=8-1">The Money Formula: Dodgy Finance, Pseudo Science, and How Mathematicians Took Over the Markets – Paul Wilmott, David Orrell</a></li>
</ul>
</section>
<section id="biografie" class="level3">
<h3 class="anchored" data-anchor-id="biografie">Biografie</h3>
<ul>
<li><a href="https://www.amazon.pl/Man-All-Markets-Street-Dealer/dp/0812979907/ref=sr_1_1?crid=2K13FHXQS2SZN&amp;dib=eyJ2IjoiMSJ9.RJZpnl206t7XXNtlhqkOR7oYmQe_dcivmw6ztqaFHmDB3FUtCRFSX6bov4hx0fPJKrsjsoCJ5a7gEiSkLTNZQuC2JaeZsXRFXAsca0_imJ5UXzgx48pM1JYK0eFZo0P4idrfDzFkQohzYfeMGhI3XUxB5IEEoOlpR6o4HTk1aqTleNQComnOdCdnQUVUmrH9LrNJ4yBwuo1jI3W_uW7poRZD2mnwqYPp8kA5ptJDJhEDPjWbn4Kt4w03l13qx5iiUB5q3DjOhHIOBn8-rttcPk48xoTnzflkLr5kMkKz2VMMGVsKjH5gp8NwTeh4zjf7OkacuKLw7yzQk69AnkTJbg.RR899uP7uBEyeF_Yxz_-HxGbCZ2fwFOENTWm4fnf50w&amp;dib_tag=se&amp;keywords=the+man+for+all+markets&amp;qid=1743147099&amp;sprefix=the+man+for+all+ma%2Caps%2C99&amp;sr=8-1">A Man for All Markets: From Las Vegas to Wall Street, How I Beat the Dealer and the Market – Edward O. Thorp</a></li>
<li><a href="https://www.amazon.pl/Man-Who-Solved-Market-Revolution/dp/0593086317/ref=pd_lpo_d_sccl_2/257-5762872-5624662?pd_rd_w=Y63Cm&amp;content-id=amzn1.sym.4f0010e1-e663-418f-b0d7-f571eacea3de&amp;pf_rd_p=4f0010e1-e663-418f-b0d7-f571eacea3de&amp;pf_rd_r=1VGNB9V9VHCTNAKXWAJP&amp;pd_rd_wg=S9CVu&amp;pd_rd_r=8f8c7731-255c-4798-8390-7560d8fe41d6&amp;pd_rd_i=0593086317&amp;psc=1">The Man Who Solved the Market: How Jim Simons Launched the Quant Revolution – Gregory Zuckerman</a></li>
<li><a href="https://www.amazon.pl/My-Life-Quant-Reflections-Physics/dp/0470192739/ref=sr_1_1?crid=1C3YC85CCMHY6&amp;dib=eyJ2IjoiMSJ9.ZXtaJIGHfwUq_nbtUvAUHkQ6jl-E0cJI6P2r9i9Q2qs.6FPkV19seKV8ur934_q5y-wuvaIE-ILZ5qJfFP69Kzs&amp;dib_tag=se&amp;keywords=my+life+as+a+quant+derman&amp;qid=1743147195&amp;sprefix=my+life+as+a+qu%2Caps%2C111&amp;sr=8-1">My Life as a Quant: Reflections on Physics and Finance – Emanuel Derman</a></li>
</ul>
</section>
<section id="podstawy-matematyki-finansowejfinansów-ilościowych" class="level3">
<h3 class="anchored" data-anchor-id="podstawy-matematyki-finansowejfinansów-ilościowych">Podstawy matematyki finansowej/finansów ilościowych</h3>
<ul>
<li><a href="https://www.amazon.pl/Financial-Calculus-Introduction-Derivative-Pricing/dp/0521552893/ref=sr_1_1?crid=224BTTLDF1R7B&amp;dib=eyJ2IjoiMSJ9.jIE1xIxSaiHw9MVO00XmcAUUDvhnxydbZrfIa0P5t00O1F8FIVjbqJ6CEp3YVftz95x4SaOBBi8l_sGjcx6CIDBPeM0YHne4wfgCwt9UQSlv7zguJSzmsLmbcsnsklFNkwnfWleLJ4KFH2HSmv3X9F7dEJNFhkYQpXmmqL0yhopSfPOITANH9g-a3aBaUXqHqRmZx3bFVJUSEKsLmLFsw3BhSmsh7RS4sEU0IAZ0INZfGqMAPTEPFCyWSHix50YVPmzcywnxKHVb4xz3el8MPH9duDchlHq-42he0JyBP2p4wtfqrvsTKhsm9tXqRCCjlIsl_pRwEuiL2qJZ_hhJ-llwgm4S3l9cD5dDgOMrPlqwvGsq5PwYm-6vRItGgvGSsaYsZfS51AoSSPS_bnuEFvKNvq1xiSH1EkaK9s48vaTjtvMnZrMSYdz7JwGtUeF-.S8r875u8Sk0zcE70rkbfxfppwpYRCyJtQh1dW6YP9VY&amp;dib_tag=se&amp;keywords=financial+calculus&amp;qid=1743147318&amp;sprefix=financial+cal%2Caps%2C108&amp;sr=8-1">Financial Calculus: An Introduction to Derivative Pricing – Martin Baxter, Andrew Rennie</a></li>
<li><a href="https://www.amazon.pl/Paul-Wilmott-Introduces-Quantitative-Finance/dp/0470319585/ref=sr_1_2?__mk_pl_PL=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;crid=13DORP0UI7GI3&amp;dib=eyJ2IjoiMSJ9.Acf2r9uXUoVi3cGPQstWJa4XEtmkGvQRRTRIOT6axWW1zYvdQcSoTj_O_nhlbK879FDoIm_ZGA87QO9dAtKdUBq4RxIH14hCimpYru9lbgqB3rMRIO5q6e_4honTko0fauRHDGPo16XowWXuH3EFb5LUQDgib0E3WGSpyUUn8q9Depa0-RwTsF6OewlKPA3Lv9DJxo-tYmq9nK3ruVORodg8nPaumh3m62BmzJQIUBzHr-AMkcYPNBnrGSvGHg_OHupk5xfh_xk5XkD1_wAbja3icsEJM5iQDc9kKZGNja1d_rD8xXhRUOeCWtfkrFqXh9L-NDPdHaF6eJ8NELXCiJ3wLP277zlNA5VEKjwr6QRScAX_qoW2WhCCuONlGAWp1p-SHr_ioG7MZ6mCFCrS70LYG3d23BLy5ZWkFXR5PtBxxY3ucqKNPgTmsSHjrMq4.jTolMLk4qD4sek3V6PObfyw-wAaA3HpSAkZzLxqWv8c&amp;dib_tag=se&amp;keywords=wilmott&amp;qid=1743147433&amp;sprefix=wilmott%2Caps%2C94&amp;sr=8-2">Paul Wilmott Introduces Quantitative Finance – Paul Wilmott</a></li>
<li><a href="https://www.amazon.pl/Stochastic-Calculus-Finance-Binomial-Pricing/dp/0387401008?ref_=Oct_d_omg_d_27253366031_1&amp;pd_rd_w=PFqQp&amp;content-id=amzn1.sym.fa91fe24-39af-42d2-adb5-f7d474a12b45&amp;pf_rd_p=fa91fe24-39af-42d2-adb5-f7d474a12b45&amp;pf_rd_r=WDAMCMG4VJTQZJQNAPWX&amp;pd_rd_wg=uu0O5&amp;pd_rd_r=c83aceba-36da-42c0-8846-670960c51584&amp;pd_rd_i=0387401008">Stochastic Calculus for Finance I: The Binomial Asset Pricing Model – Steven Shreve</a></li>
<li><a href="https://www.amazon.pl/Mathematical-Modeling-Computation-Finance-Exercises/dp/1786348055/ref=sr_1_1?__mk_pl_PL=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;crid=1PTX9LNPV5O00&amp;dib=eyJ2IjoiMSJ9.Ztp8T_RoHtuzFvO5a0WxEAMMcdsWt1NvyGx4JNngYSMj3cNWbJoEx9WmlX2PzLBUeF45Gcg8hV-UwsPSzmK4s0EJh4_9cdrhTWfx9_LDowwhxgjT8uIhOfyjFQNSp9x0a4gPsaeEkrQOwf6we6MWN4H5AgN4EJstkbkXVADPn-pealGuBWL1jXSgNDsg-sGugyVg01-wD-d90HAcqrKXyKMB59xuIRTZSTu_C9HLXGxZcjeEi60YJU2MLpOum_5w.JFJAEc7DCJutuoPLDYd9fN5Td3jynrV2IW3tvdJtmqQ&amp;dib_tag=se&amp;keywords=MATHEMATICAL+MODELING+AND+COMPUTATION+IN+FINANCE%3A&amp;qid=1743148195&amp;sprefix=mathematical+modeling+and+computation+in+finance+%2Caps%2C89&amp;sr=8-1">Mathematical Modeling and Computation in Finance: With Exercises and Python and MATLAB Computer Codes – Cornelis W Oosterlee &amp; Lech A Grzelak</a></li>
</ul>
</section>
<section id="przygotowanie-do-rozmów-rekrutacyjnych" class="level3">
<h3 class="anchored" data-anchor-id="przygotowanie-do-rozmów-rekrutacyjnych">Przygotowanie do rozmów rekrutacyjnych</h3>
<ul>
<li><a href="https://www.amazon.pl/Frequently-Asked-Questions-Quantitative-Finance/dp/0470748753/ref=pd_bxgy_thbs_d_sccl_2/257-5762872-5624662?pd_rd_w=cyi9H&amp;content-id=amzn1.sym.71e0abca-6e8f-42cb-bc1c-dd3fdec92313&amp;pf_rd_p=71e0abca-6e8f-42cb-bc1c-dd3fdec92313&amp;pf_rd_r=APBPBHZMP6JGQFQCNZJX&amp;pd_rd_wg=LoCKZ&amp;pd_rd_r=bd792de7-eb07-4973-83f0-0cb0ae243d42&amp;pd_rd_i=0470748753&amp;psc=1">Frequently Asked Questions in Quantitative Finance – Paul Wilmott</a></li>
<li><a href="https://www.amazon.pl/Joshi-Interview-Questions-Answers-Second/dp/B00NBE74RY/ref=sr_1_7?crid=2KGGBEAVKS8G6&amp;dib=eyJ2IjoiMSJ9.Chh1WFBhlI0VzVgAbdKEmyTN6FeqL9XBp7Bl_1ok_GFQLH6uBOxEWl7XXXJkeuq_8Q5eq9BllpWVyUuMXhhcB6SG1Oo8tQrJfrfesCUokeXT_SjzdPYNz2WawlM-N4GrBw2JYtxwsaS6--QNBXA7Kg.9DoNdVdXVudg9bnAESsMu4dDN7ndSOYmW0iilLuB5d8&amp;dib_tag=se&amp;keywords=quant+interview&amp;qid=1743147626&amp;sprefix=quant+intervie%2Caps%2C86&amp;sr=8-7">Quant Job Interview Questions and Answers - Mark Joshi</a></li>
<li><a href="https://www.amazon.pl/Frequently-Asked-Questions-Quant-Interviews/dp/173453124X/ref=sr_1_1?crid=3MR4U7D96C8CW&amp;dib=eyJ2IjoiMSJ9.6qZR5OZxCC2LBuR-pWVGx_09deO6i_fiyOBHpYMQ_2PTfiWgKzMGiyz8qe4r-auu.Pka1MfBkGj_U5J-jwvKo_Zbw2CYrlnI0-rpmmBBx978&amp;dib_tag=se&amp;keywords=quant+interviews&amp;qid=1743147775&amp;sprefix=Quant+inter%2Caps%2C99&amp;sr=8-1">150 Most Frequently Asked Questions on Quant Interviews – Dan Stefanica, Radoš Radoičić, Tai-Ho Wang</a></li>
</ul>
</section>
<section id="youtube" class="level3">
<h3 class="anchored" data-anchor-id="youtube">YouTube</h3>
<ul>
<li><a href="https://www.youtube.com/computationsinfinance">Computations in Finance</a></li>
<li><a href="https://www.youtube.com/@DimitriBianco">Dimitri Bianco</a></li>
</ul>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Career</category>
  <category>Financial Markets</category>
  <guid>https://bwrob.github.io/posts/mathematician-in-finance/</guid>
  <pubDate>Fri, 21 Mar 2025 23:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/mathematician-in-finance/financial_whirlpool.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Prettify Dev Terminal Setup</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/linux_shell_setup/</link>
  <description><![CDATA[ 






<section id="oh-my-posh" class="level2">
<h2 class="anchored" data-anchor-id="oh-my-posh">Oh my posh</h2>
<p>Oh My Posh is a prompt theme engine for any shell, including Zsh. It allows you to customize your terminal prompt with themes and segments.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1">brew install jandedobbeleer/oh-my-posh/oh-my-posh</span>
<span id="cb1-2">echo 'eval "$(oh-my-posh init zsh)"' &gt;&gt; .zshrc</span>
<span id="cb1-3">echo 'OH_MY_POSH_THEME="kali"' &gt;&gt; .zshrc</span></code></pre></div>
</section>
<section id="autosuggestions" class="level2">
<h2 class="anchored" data-anchor-id="autosuggestions">autosuggestions</h2>
<p>Zsh autosuggestions provide command suggestions based on your history and current input, enhancing your command line experience.</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1">brew install zsh-autosuggestions</span>
<span id="cb2-2"># To activate the autosuggestions, add the following at the end of your .zshrc:</span>
<span id="cb2-3">source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh</span></code></pre></div>
</section>
<section id="aliases" class="level2">
<h2 class="anchored" data-anchor-id="aliases">Aliases</h2>
<p>Create a file <code>~/.bash_aliases</code> and add your aliases there, or directly in <code>.zshrc</code>.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1"># Alias definitions.</span>
<span id="cb3-2"># You may want to put all your additions into a separate file like</span>
<span id="cb3-3"># ~/.bash_aliases, instead of adding them here directly.</span>
<span id="cb3-4"># See /usr/share/doc/bash-doc/examples in the bash-doc package.</span>
<span id="cb3-5"></span>
<span id="cb3-6">if [ -f ~/.bash_aliases ]; then</span>
<span id="cb3-7">    . ~/.bash_aliases</span>
<span id="cb3-8">fi</span>
<span id="cb3-9"></span>
<span id="cb3-10">alias zshconfig='nano ~/.zshrc'</span>
<span id="cb3-11">alias ls='eza -la --group-directories-first --icons'</span></code></pre></div>
</section>
<section id="minor-packages" class="level2">
<h2 class="anchored" data-anchor-id="minor-packages">Minor packages</h2>
<section id="fzf" class="level3">
<h3 class="anchored" data-anchor-id="fzf">fzf</h3>
<p>Fuzzy finder for command line, useful for searching files, history, etc.</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1">brew install fzf</span>
<span id="cb4-2"># Set up fzf key bindings and fuzzy completion</span>
<span id="cb4-3">echo 'source &lt;(fzf --zsh)' &gt;&gt; .zshrc</span></code></pre></div>
</section>
<section id="eza" class="level3">
<h3 class="anchored" data-anchor-id="eza">eza</h3>
<p>Better alternative to <code>ls</code> with icons and better defaults.</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1">brew install eza</span>
<span id="cb5-2">echo 'alias ls='eza -la --group-directories-first --icons'' &gt;&gt; .zshrc</span></code></pre></div>
</section>
<section id="thefuck" class="level3">
<h3 class="anchored" data-anchor-id="thefuck">thefuck</h3>
<p>A tool to correct mistyped commands in the terminal.</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1">brew install thefuck</span>
<span id="cb6-2">echo 'eval $(thefuck --alias)' &gt;&gt; .zshrc</span></code></pre></div>
</section>
<section id="tmux" class="level3">
<h3 class="anchored" data-anchor-id="tmux">tmux</h3>
<p>A terminal multiplexer that allows you to manage multiple terminal sessions from a single window.</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1">brew install tmux</span>
<span id="cb7-2">echo 'alias tmux="tmux -2"' &gt;&gt; .zshrc</span></code></pre></div>
</section>
<section id="fastfetch" class="level3">
<h3 class="anchored" data-anchor-id="fastfetch">fastfetch</h3>
<p>A tool to display system information in the terminal, similar to neofetch but faster.</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1">brew install fastfetch</span>
<span id="cb8-2">echo 'alias ff="fastfetch"' &gt;&gt; .zshrc</span>
<span id="cb8-3">echo 'ff' &gt;&gt; .zshrc</span></code></pre></div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Dev Env</category>
  <guid>https://bwrob.github.io/posts/linux_shell_setup/</guid>
  <pubDate>Sat, 17 Aug 2024 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/linux_shell_setup/terminal.png" medium="image" type="image/png" height="127" width="144"/>
</item>
<item>
  <title>Linux in Windows via WSL</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/linux-in-windows/</link>
  <description><![CDATA[ 






<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/linux-in-windows/image.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:95.0%"></p>
</figure>
</div>
<section id="windows-linux-and-you-ménage-à-trois" class="level2">
<h2 class="anchored" data-anchor-id="windows-linux-and-you-ménage-à-trois">Windows, Linux, and You: Ménage à trois</h2>
<p>Tired of the same old Windows vs.&nbsp;Linux beef among PC superusers? Well, get ready to become a mediator in this feud. I’ll show you how to get the best of both worlds.</p>
<section id="pros-and-cons" class="level3">
<h3 class="anchored" data-anchor-id="pros-and-cons">Pros and cons</h3>
<p>Windows OS has long been the dominant platform for mainstream consumers and businesses. It offers good hardware compatibility, de facto <em>the</em> PC gaming experience and is friendly to the casual user. However, Windows has significant limitations in terms of system control and software development tools.</p>
<p>Linux, on the other hand, is an operating system created by developers and for developers (and system administrators). It provides infinite flexibility and a deep pool of open-source tools. But the learning curve is steep, the open-source projects often get abandoned and with great power (<code>sudo</code>) comes great responsibility (and sometimes system reinstall).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Actually, to publish this post in the most convenient and elegant <a href="https://quarto.org/docs/publishing/github-pages.html#publish-command">way</a>, I needed to switch to Linux. The Windows <code>quarto</code> CLI fails with some certification errors, coming from <code>deno</code>, that I can’t be bothered to clean up. Discovered this while writing these words as <a href="https://quarto.org/docs/publishing/github-pages.html#render-to-docs">my previous approach</a> was much messier. Irony is the ambrosia of life (for me at least).</p>
</div>
</div>
</section>
<section id="bridging-the-gap" class="level3">
<h3 class="anchored" data-anchor-id="bridging-the-gap">Bridging the gap</h3>
<p>At this point even Microsoft — a strong contrarian to Linux in the past — embraced the usefulness of Linux shell at your fingertips. Imagine having the familiar interface of Windows for your everyday tasks. Combine it with a the raw power and controllability of Linux for when you need to dive deep into development or system administration. And limited stakes once you (inevitably) remove half of your file system with a bash script. Enter Windows Subsystem for Linux (WSL): a ticket to 10x-ing your software development on Windows.</p>
</section>
<section id="wsl-vs.-virtual-machines-whats-the-difference" class="level3">
<h3 class="anchored" data-anchor-id="wsl-vs.-virtual-machines-whats-the-difference">WSL vs.&nbsp;Virtual Machines: What’s the Difference?</h3>
<p>You might be wondering how WSL differs from a traditional virtual machine (VM). While both provide a way to run Linux on Windows, they operate in different ways. A VM emulates a virtual computer within your computer, complete with its own operating system and make-belive hardware resources. This makes VMs resource-intensive and can impact overall system performance. They are also hard to set up and maintain.</p>
<p>WSL, on the other hand, is a more lightweight approach. It integrates Linux directly into the Windows kernel, allowing for faster boot times, better performance, and seamless file sharing between Windows and Linux environments.</p>
</section>
</section>
<section id="installing-and-setting-up-wsl" class="level2">
<h2 class="anchored" data-anchor-id="installing-and-setting-up-wsl">Installing and setting up WSL</h2>
<p>First, we need to set up the WSL and install a chosen Linux distribution. Fortunately, this is “super easy, barely an inconvenience”. You can choose from a list of distros pre-packaged by Microsoft or download and build an image from scratch. You can even build Arch and be legally allowed to say <code>BTW, I use Arch (on Windows)</code>. For this guide, we’ll take a more conventional approach and opt for the long-term support (LTS) version of Ubuntu. Now, open the Powershell with administrative privileges and run:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource {shell} number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1">wsl --update</span>
<span id="cb1-2">wsl --version</span></code></pre></div>
<p>These commands ensure that WSL is up-to-date and displays the installed WSL version.</p>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/1.png" class="img-fluid"></p>
<p>Our next command will be:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource {shell} number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1">wsl -l -o</span></code></pre></div>
<p>This yields a curated list of pre-packaged Linux distributions that Microsoft provides, making the process almost effortless.</p>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/2.png" class="img-fluid"></p>
<p>For the installation itself:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource {shell} number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1">wsl --install -d 'Ubuntu-24.04'</span></code></pre></div>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/3.png" class="img-fluid"></p>
<p>Reboot the Windows system and you’ll see `Ubuntu’ among your applications. <img src="https://bwrob.github.io/posts/linux-in-windows/4.png" class="img-fluid"> <img src="https://bwrob.github.io/posts/linux-in-windows/5.png" class="img-fluid"></p>
</section>
<section id="base-setup-new-shell-and-package-manager" class="level2">
<h2 class="anchored" data-anchor-id="base-setup-new-shell-and-package-manager">Base setup — new shell and package manager</h2>
<p>There is an additional benefit we can reap with just a bit of more work — a fully system-agnostic setup. By having Linux kernel run on Windows, we unified 2 out of 3 giants. The only pillar that is missing is the Mac OS. But wait, it’s based on Unix as well! It just uses different default shell and lacks a package manager, as Apple doesn’t trust its clients. <code>zsh</code> offers a more interactive and customizable shell experience compared to the default bash. Homebrew, often referred to as the “missing package manager for macOS”, provides a convenient way to install additional software on Linux systems. Let’s change the terminal shell to <code>zsh</code> in our Ubuntu installation and compile a secondary (to <code>apt-get</code>) package manager – <code>brew</code>.</p>
<section id="brewing-starts" class="level3">
<h3 class="anchored" data-anchor-id="brewing-starts">Brewing starts</h3>
<p>Before we dive into installing Homebrew, we need to equip our system with the essential tools. The build-essential package provides a collection of compilers and libraries necessary for building software from the source code. Git is a version control system used for managing code projects.</p>
<p>Let’s install these prerequisites using the following command:</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1">sudo apt-get upgrade -y</span>
<span id="cb4-2">sudo apt-get install build-essential git -y</span></code></pre></div>
<p>Execute the installation script for Homebrew:</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1">INSTALL_PATH="https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh"</span>
<span id="cb5-2">/bin/bash -c "$(curl -fsSL $INSTALL_PATH)"</span></code></pre></div>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/6.png" class="img-fluid"></p>
<p>To make Homebrew accessible from your shell, you need to load its environment variables. The following command achieves this and subsequently runs a diagnostic check:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1">eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"</span>
<span id="cb6-2">brew doctor</span></code></pre></div>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/7.png" class="img-fluid"></p>
<p>Doctor’s orders to append brew to some set of paths! Let’s do this then:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1">echo 'export XDG_DATA_DIRS="/home/linuxbrew/.linuxbrew/share:$XDG_DATA_DIRS"' &gt;&gt; ~/.profile</span></code></pre></div>
</section>
</section>
<section id="z-shell-sea-shell" class="level2">
<h2 class="anchored" data-anchor-id="z-shell-sea-shell">Z-shell — sea-shell</h2>
<p>Homebrew makes package management a breeze. Let’s install <code>zsh</code>, a powerful and customizable shell.</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1">brew install zsh</span>
<span id="cb8-2">zsh --version</span>
<span id="cb8-3">zsh</span></code></pre></div>
<p>This will take you to interactive <code>.zshrc</code> file setup. The file contains commands that are run each time a shell is spawned. You can either generate empty file with <code>0</code> or go through the interactive setup with <code>1</code>. <img src="https://bwrob.github.io/posts/linux-in-windows/8.png" class="img-fluid"></p>
<p>Add the brew initialization to <code>.zshrc</code> file as well. This way <code>brew</code> will always be by your side!</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb9-1">(echo; echo 'eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"') &gt;&gt; /home/bwrob/.zshrc</span></code></pre></div>
<p>Check the default shell and set it to <code>zsh</code>:</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1">echo $SHELL</span>
<span id="cb10-2">sudo chsh -s $(which zsh)</span>
<span id="cb10-3">echo $SHELL</span></code></pre></div>
</section>
<section id="github-command-line-tool" class="level2">
<h2 class="anchored" data-anchor-id="github-command-line-tool">GitHub command line tool</h2>
<p>Remember <code>git != GitHub</code>, we need a way to authenticate and use Github from CLI. There’s a tool for that!</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1">brew install gh</span>
<span id="cb11-2">gh auth login</span></code></pre></div>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/9.png" class="img-fluid"></p>
<p>Now create a convenient directory and copy your favourite <code>GitHub</code> repo:</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb12-1">mkdir repos &amp;&amp; cd repos</span>
<span id="cb12-2">gh repo clone python_playground</span></code></pre></div>
</section>
<section id="connect-to-visual-studio-code" class="level2">
<h2 class="anchored" data-anchor-id="connect-to-visual-studio-code">Connect to Visual Studio Code</h2>
<p>While WSL grants us the power of Linux, let’s not forget the user-friendly interface of Windows. When it comes to software development, we can achieve the perfect blend by integrating Visual Studio Code (VSC) with our WSL environment.</p>
<p>Here’s how:</p>
<ul>
<li><p><strong>Install the WSL Extension in VSC</strong>: Fire up VSC on your Windows machine and head over to the Extensions tab. Search for “WSL” and install the official extension by Microsoft: <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl">WSL extension</a>.</p></li>
<li><p><strong>Launching VSC from WSL</strong>: Within your WSL terminal, you can directly invoke VSC as if it were running natively on Windows. Use the following command:</p></li>
</ul>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1">code ~\repos\python_playground</span></code></pre></div>
<p><img src="https://bwrob.github.io/posts/linux-in-windows/10.png" class="img-fluid"></p>
<p>In the <a href="">next post</a> I will show you how to set up Python environment in Linux. Stay tuned :) .</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the Ubuntu shell script <a href="../../scripts/wsl_setup.sh">here</a>.</p>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Dev Env</category>
  <guid>https://bwrob.github.io/posts/linux-in-windows/</guid>
  <pubDate>Sat, 10 Aug 2024 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/linux-in-windows/image.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Linux Python Dev Env</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/linux-python-dev-env/</link>
  <description><![CDATA[ 






<p>Installing Python dev tools on Linux is a bit of a pain, but it doesn’t have to be. This post will show you how to set up a great Python dev environment on Linux using <code>brew</code>, <code>pipx</code>, and <code>poetry</code>.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1">brew install python@3.12 python@3.13</span></code></pre></div>
<p>Dev tools should be accessable globally, but should’t be in the defualt global python env. Solution - <code>pipx</code></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1">brew install pipx</span>
<span id="cb2-2">pipx ensurepath</span>
<span id="cb2-3">pipx install argcomplete --force</span></code></pre></div>
<p>Add pipix completions to config</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1">nano  .zshrc</span>
<span id="cb3-2"></span>
<span id="cb3-3">autoload -U compinit &amp;&amp; compinit</span>
<span id="cb3-4">eval "$(register-python-argcomplete pipx)"</span></code></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/linux-python-dev-env/1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<p>Install dev tools</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1">pipx install --force ruff hapless poethepoet poetry pre-commit uv pytest basedpyright</span></code></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/linux-python-dev-env/2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1">nano $(which poetry)</span></code></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/linux-python-dev-env/3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<p>Shebang Line (#!): #!/home/bwrob/.local/share/pipx/venvs/poetry/bin/python: This line specifies the interpreter used to run the script. In this case, it’s a Python interpreter located in a specific virtual environment (poetry).</p>
<p>This script acts as a launcher for the poetry command. It sets up the environment and handles potential script extensions before delegating the actual command execution to the poetry library.</p>
<p>We can see that each of the toolos install with pipx is installed in its own venv, but is available globally</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1">ls /home/bwrob/.local/share/pipx/venvs/ -la</span></code></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/linux-python-dev-env/4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<p>Copy your</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"># Instal dependencies</span>
<span id="cb7-2">poetry install</span>
<span id="cb7-3"># Install pre-commit</span>
<span id="cb7-4">pre-commit install --install-hooks --overwrite --allow-missing-config</span>
<span id="cb7-5"># Update pre-commit</span>
<span id="cb7-6">pre-commit autoupdate</span>
<span id="cb7-7"># Run pre-commit to test setup</span>
<span id="cb7-8">pre-commit run --all-files</span></code></pre></div>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Dev Env</category>
  <guid>https://bwrob.github.io/posts/linux-python-dev-env/</guid>
  <pubDate>Sat, 10 Aug 2024 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/linux-python-dev-env/1.png" medium="image" type="image/png" height="87" width="144"/>
</item>
<item>
  <title>Python Startup Script</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/startup-script/</link>
  <description><![CDATA[ 






<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bwrob.github.io/posts/startup-script/win_98.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%"></p>
</figure>
</div>
<section id="why-a-startup-script" class="level2">
<h2 class="anchored" data-anchor-id="why-a-startup-script">Why a startup script?</h2>
<p>Confession time. Pre-COVID I worked for a Swiss bank — it was the whole corporate package. Working from a crowded office, open space, dedicated desks, dedicated desktop PCs, hundreds of people. And we never turned the PCs off, some of them were running constantly for months. Not very eco-friendly behaviour, either from the company side or from the employees. But there were legit reasons for this and the company had much <a href="https://www.wikiwand.com/en/Credit_Suisse#Controversies">bigger sins</a> on their books.</p>
<p>As for the reasons for constantly turned on machines — the proprietary frameworks and tooling we used were awfully heavy and slow. If you were occasionally forced to kill all the processes — due to an update or system crash — getting them all up again took an hour or more. Developer tools, pricing systems, connections to Monte Carlo farms, downloading trade data, analysis definitions — you name it, we used it.</p>
<p>One tidbit to get this point across — in 2019 we still used 32-bit Win7, which had a cap on single-process memory consumption to 4GB. We had a universally used hack to extend this to 8GB for Excel, since the default wasn’t enough for many of our pricing sheets.</p>
<p>When I parted ways with the company post-COVID, I got a corporate laptop from the new employer. The office was much sparser, quieter and with ‘hot seats’ approach. I worked mostly remotely either way. This meant switching off the company machine each day, as the VPN connections and certificates wouldn’t last overnight. I was extremely annoyed with opening all of the daily tools again and again, after getting used to having it all waiting for me to jump right in.</p>
<p>Hence the need for a startup script to open all of the apps, tools and files programatically. It won’t cover everything, like authorizations or connections but still a little helper to start the day.</p>
<p>To spice things up, we will overengineer the hell out of it and use generic typing, generators and decorators :D.</p>
</section>
<section id="the-startup-script" class="level2">
<h2 class="anchored" data-anchor-id="the-startup-script">The startup script</h2>
<section id="public-interface" class="level3">
<h3 class="anchored" data-anchor-id="public-interface">Public interface</h3>
<p>Let’s first think about the design and what we want to achieve. Imagine the code being split into two parts:</p>
<ul>
<li>the hidden logic layer, <strong>the worker</strong> that does stuff and</li>
<li>the public interface that integrates with the rest of the codebase or is called at the top level, <strong>the manager</strong>.</li>
</ul>
<p>We can start by creating the public interface, see what we want to achieve and later deal with filling in a working implementation. You can either define the logic functions as mocks, or just live with linting issues. This is what my desired usage is:</p>
<div id="80df3d09" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_startup_script() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb1-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Run the startup script."""</span></span>
<span id="cb1-3">    logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f" Welcome </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>os<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>getlogin()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">! "</span>.center(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*"</span>))</span>
<span id="cb1-4">    start_programs(</span>
<span id="cb1-5">        [</span>
<span id="cb1-6">            Program.POWERSHELL,</span>
<span id="cb1-7">            Program.NOTEPAD,</span>
<span id="cb1-8">            (Program.FIREFOX, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>),</span>
<span id="cb1-9">        ],</span>
<span id="cb1-10">    )</span>
<span id="cb1-11">    start_work_files([Path.home() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".temp"</span>])</span>
<span id="cb1-12">    run_commands([<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Write-Output "test"'</span>])</span></code></pre></div>
</div>
<p>We specify programs to be launched, open all files in a chosen temp folder and run a list of shell commands. After each step there should be some delay to avoid spamming system with process calls. Certain steps might be more time consuming, like cloud services authorization. Those need longer delay. On the other hand, specifying delay for each task would be cumbersome, most cases would be fine with some default value. We end up with a design that our soon-to-be workers <code>start_programs</code>, <code>start_work_files</code>, and <code>run_commands</code> expect lists of either <code>task</code> or <code>(task, delay_seconds)</code>. We can now start the implementation by figuring out how the delay time should be defaulted if not specified.</p>
</section>
<section id="decorator-defaulting-the-time-delays" class="level3">
<h3 class="anchored" data-anchor-id="decorator-defaulting-the-time-delays">Decorator defaulting the time delays</h3>
<p>Now we can start the implementation. We want the workers to be called with a list of tasks, but a task can be either a command or a tuple including the delay. Let’s not include some complicated conditionals in each of the workers — that would be annoying and potentially get out of sync at some point.</p>
<p>Other way to do this is to add a default delay to all non-tuple items. We can implement that as a separate defaulting function, which we would call in each worker. But — being more clever! — we could also use a decorator that changes the workers’s signature.</p>
<div id="9955543d" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> functools <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> wraps</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections.abc <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Callable</span>
<span id="cb2-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> TypeVar</span>
<span id="cb2-4"></span>
<span id="cb2-5">T <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> TypeVar(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"T"</span>)</span>
<span id="cb2-6">Task <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">tuple</span>[T, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>]</span>
<span id="cb2-7">TaskList <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>[Task[T]]</span>
<span id="cb2-8">TaskListOptionalDelay <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>[Task[T] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> T]</span>
<span id="cb2-9"></span>
<span id="cb2-10"></span>
<span id="cb2-11">DEFAULT_DELAY_SECONDS <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span>
<span id="cb2-12"></span>
<span id="cb2-13"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> with_optional_delay(</span>
<span id="cb2-14">    task_worker: Callable[[TaskList[T]], <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>],</span>
<span id="cb2-15">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Callable[[TaskListOptionalDelay[T]], <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]:</span>
<span id="cb2-16">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Add default delay to all non-tuple items.</span></span>
<span id="cb2-17"></span>
<span id="cb2-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        task_worker: A function that takes a list of tasks.</span></span>
<span id="cb2-21"></span>
<span id="cb2-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb2-23"></span>
<span id="cb2-24">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@wraps</span>(task_worker)</span>
<span id="cb2-25">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> task_defaulted_worker(task_list: TaskListOptionalDelay[T]) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb2-26">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Add a default delay to tasks in a task list if no delay is specified.</span></span>
<span id="cb2-27"></span>
<span id="cb2-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Args:</span></span>
<span id="cb2-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        ----</span></span>
<span id="cb2-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            task_list: A list of tasks with optional delays.</span></span>
<span id="cb2-31"></span>
<span id="cb2-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        """</span></span>
<span id="cb2-33">        tasks_with_defaulted_delays: TaskList[T] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb2-34">            item <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">isinstance</span>(item, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">tuple</span>) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> (item, DEFAULT_DELAY_SECONDS)</span>
<span id="cb2-35">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> item <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> task_list</span>
<span id="cb2-36">        ]</span>
<span id="cb2-37">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> task_worker(tasks_with_defaulted_delays)</span>
<span id="cb2-38"></span>
<span id="cb2-39">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> task_defaulted_worker</span></code></pre></div>
</div>
<p>First, for convenience, let’s define a template type annotation:</p>
<ul>
<li>The generic variable type is conventionally denoted by <code>T</code>.</li>
<li>A <code>Task</code> is a tuple of a generic task <code>T</code> and an <code>int</code> delay.</li>
<li>A <code>TaskList</code> is a list of <code>Task</code>s. Simple.</li>
<li>A <code>TaskListOptionalDelay</code> is a list of <code>Task</code>s or <code>T</code>s. Those are the guys we are going to turn into <code>TaskLists</code>.</li>
</ul>
<p>The decorator <code>with_optional_delay</code> adds a default delay of 4 seconds to all non-tuple items. Its input is a worker function that already expects a <code>TaskList</code>. It fills in the missing delay with the default value and passes it to the decorated function.</p>
</section>
<section id="main-workers" class="level3">
<h3 class="anchored" data-anchor-id="main-workers">Main workers</h3>
<p>With the preparation done, we can start with the workers. For the programs we will be launching, we need to look up the exact paths of the executables. Let’s define a <code>Program</code> enum that would wrap those up in readable nice names. For working with system paths we will use <code>pathlib.Path</code> that provides high-level interface.</p>
<div id="c87cac89" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> enum <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Enum</span>
<span id="cb3-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pathlib <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Path</span>
<span id="cb3-3"></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">class</span> Program(Enum):</span>
<span id="cb3-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Types of programs."""</span></span>
<span id="cb3-7"></span>
<span id="cb3-8">    POWERSHELL <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Path(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">r"C:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\w</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">indows</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\s</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">ystem32</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\w</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">indowspowershell</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\v</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">1</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">powershell</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">exe"</span>)</span>
<span id="cb3-9">    NOTEPAD <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Path(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">r"C:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">Program Files</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">Notepad</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">++</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">otepad</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">++</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">exe"</span>)</span>
<span id="cb3-10">    FIREFOX <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Path(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">r"C:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">ProgramData</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\M</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">icrosoft</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\W</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">indows</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">\S</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">tart Menu</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">Programs</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">Firefox</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">lnk"</span>)</span></code></pre></div>
</div>
<p>Other than that, the main workers <code>start_programs</code>, <code>start_work_files</code>, and <code>run_commands</code> are simple. They just iterate over the provided <code>TaskList</code> and do the respective action for a given <code>Task</code>.</p>
<div id="88709035" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@with_optional_delay</span></span>
<span id="cb4-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> start_programs(</span>
<span id="cb4-3">    programs: TaskList[Program],</span>
<span id="cb4-4">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb4-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Start listed programs.</span></span>
<span id="cb4-6"></span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb4-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        programs: List of programs to start.</span></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            Can be a string or a tuple. If a tuple is given, the first</span></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            element is the name, the second is the delay.</span></span>
<span id="cb4-12"></span>
<span id="cb4-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb4-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> program, delay <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> programs:</span>
<span id="cb4-15">        start_process(</span>
<span id="cb4-16">            name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>program.name,</span>
<span id="cb4-17">            path<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>program.value,</span>
<span id="cb4-18">            delay<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>delay,</span>
<span id="cb4-19">        )</span>
<span id="cb4-20"></span>
<span id="cb4-21"></span>
<span id="cb4-22"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@with_optional_delay</span></span>
<span id="cb4-23"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> start_work_files(</span>
<span id="cb4-24">    directory_tasks: TaskList[Path],</span>
<span id="cb4-25">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb4-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Start all  files in the work folders.</span></span>
<span id="cb4-27"></span>
<span id="cb4-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb4-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb4-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        directory_tasks: List of tasks with paths to work folders.</span></span>
<span id="cb4-31"></span>
<span id="cb4-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb4-33">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> path, delay <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> path_files(directory_tasks):</span>
<span id="cb4-34">        start_process(</span>
<span id="cb4-35">            name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>path.name,</span>
<span id="cb4-36">            path<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>path,</span>
<span id="cb4-37">            delay<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>delay,</span>
<span id="cb4-38">        )</span>
<span id="cb4-39"></span>
<span id="cb4-40"></span>
<span id="cb4-41"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@with_optional_delay</span></span>
<span id="cb4-42"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_commands(</span>
<span id="cb4-43">    commands: TaskList[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>],</span>
<span id="cb4-44">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb4-45">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Run all commands in the command list.</span></span>
<span id="cb4-46"></span>
<span id="cb4-47"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb4-48"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb4-49"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        commands: List of commands to run.</span></span>
<span id="cb4-50"></span>
<span id="cb4-51"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb4-52">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> command, delay <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> commands:</span>
<span id="cb4-53">        run_command(command, delay)</span></code></pre></div>
</div>
</section>
<section id="list-all-files-in-list-of-directories" class="level3">
<h3 class="anchored" data-anchor-id="list-all-files-in-list-of-directories">List all files in list of directories</h3>
<p>Notice the use of <code>path_files</code> generator above. When working with complex iterations, it’s a good practice to create a generator that wraps the iteration details. It is beneficial for readability and maintainability, especially in cases where you need to:</p>
<ul>
<li>yield multiple values at once (ex. <em>yield path, delay for path in directory</em>),</li>
<li>have nested iterators (ex. <em>for directory in list for path in directory</em>),</li>
<li>filter the iteration (ex. <em>for path in directory if filter(path)</em>).</li>
</ul>
<p>Here we’ll have all three of them combined!</p>
<div id="eb1fbe23" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1">NAME_EXCLUDES <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"$"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tmp"</span>)</span>
<span id="cb5-2">EXT_EXCLUDES <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"exe"</span>,)</span>
<span id="cb5-3"></span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> filter_excluded(</span>
<span id="cb5-6">    path: Path,</span>
<span id="cb5-7">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>:</span>
<span id="cb5-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Filter path based on name and extension exclude lists.</span></span>
<span id="cb5-9"></span>
<span id="cb5-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb5-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb5-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        path: Path to filter.</span></span>
<span id="cb5-13"></span>
<span id="cb5-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb5-15">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> (path.stem <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> NAME_EXCLUDES) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">and</span> (path.suffix <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> EXT_EXCLUDES)</span>
<span id="cb5-16"></span>
<span id="cb5-17"></span>
<span id="cb5-18"></span>
<span id="cb5-19"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> path_files(</span>
<span id="cb5-20">    directory_tasks: TaskList[Path],</span>
<span id="cb5-21">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Generator[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">tuple</span>[Path, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>], <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]:</span>
<span id="cb5-22">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Generate all files in the work folder that are not excluded.</span></span>
<span id="cb5-23"></span>
<span id="cb5-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Yields the folder path at beginning of the generator.</span></span>
<span id="cb5-25"></span>
<span id="cb5-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb5-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb5-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        directory_tasks: List of tasks with paths to work folders.</span></span>
<span id="cb5-29"></span>
<span id="cb5-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb5-31">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> folder, delay <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> directory_tasks:</span>
<span id="cb5-32">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">yield</span> folder, delay</span>
<span id="cb5-33"></span>
<span id="cb5-34">        all_files <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> folder.glob(FILES_IN_TREE_PATTERN)</span>
<span id="cb5-35">        filtered <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">filter</span>(filter_excluded, all_files)</span>
<span id="cb5-36"></span>
<span id="cb5-37">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">file</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> filtered:</span>
<span id="cb5-38">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">yield</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">file</span>, delay</span></code></pre></div>
</div>
<p>The <code>filter_excluded</code> function filters out files based on exclusions in name and extension lists. <code>Path.stem</code> and <code>Path.suffix</code> are used to check if the file name or extension is in the lists respectively.</p>
</section>
<section id="interacting-with-the-os" class="level3">
<h3 class="anchored" data-anchor-id="interacting-with-the-os">Interacting with the OS</h3>
<p>With all of the framework prepared, the next step is to interact with the OS. To open a file, folder or run an app, we can use the <code>os.startfile</code> function. All the rest of the <code>start_process</code> function is just utility logging. For running a shell command we can use the <code>subprocess</code> module, calling powershell with the <code>powershell.exe</code> and adding the command to run.</p>
<div id="08525f35" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb6-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> subprocess</span>
<span id="cb6-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> time</span>
<span id="cb6-4"></span>
<span id="cb6-5"></span>
<span id="cb6-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> start_process(</span>
<span id="cb6-7">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb6-8">    name: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb6-9">    path: Path,</span>
<span id="cb6-10">    delay: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> DEFAULT_DELAY_SECONDS,</span>
<span id="cb6-11">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb6-12">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Given a path, starts the target.</span></span>
<span id="cb6-13"></span>
<span id="cb6-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Behavior:</span></span>
<span id="cb6-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        * Minimizes all windows.</span></span>
<span id="cb6-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        * Depending on the path target:</span></span>
<span id="cb6-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            * executable files are run,</span></span>
<span id="cb6-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            * content files are opened with system default program,</span></span>
<span id="cb6-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            * folders are opened with system explorer.</span></span>
<span id="cb6-20"></span>
<span id="cb6-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb6-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb6-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        name: Name of the process to start.</span></span>
<span id="cb6-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        path: Path to the target.</span></span>
<span id="cb6-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        delay: Time to wait after starting the process.</span></span>
<span id="cb6-26"></span>
<span id="cb6-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb6-28">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> path.is_dir():</span>
<span id="cb6-29">        logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Opening folder </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>, name)</span>
<span id="cb6-30"></span>
<span id="cb6-31">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> path.suffix <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".exe"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".lnk"</span>):</span>
<span id="cb6-32">        logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Running app </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>, name)</span>
<span id="cb6-33">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb6-34">        logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Opening file </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>, name)</span>
<span id="cb6-35"></span>
<span id="cb6-36">    os.startfile(path)</span>
<span id="cb6-37">    time.sleep(delay)</span>
<span id="cb6-38"></span>
<span id="cb6-39"></span>
<span id="cb6-40"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_command(</span>
<span id="cb6-41">    command: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb6-42">    delay: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>,</span>
<span id="cb6-43">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb6-44">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Run a powershell command.</span></span>
<span id="cb6-45"></span>
<span id="cb6-46"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb6-47"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----</span></span>
<span id="cb6-48"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        command: Command to run.</span></span>
<span id="cb6-49"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        delay: Time to wait after starting the process.</span></span>
<span id="cb6-50"></span>
<span id="cb6-51"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb6-52">    _ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> subprocess.call(</span>
<span id="cb6-53">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"powershell.exe </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>command<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb6-54">        shell<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb6-55">    )</span>
<span id="cb6-56">    time.sleep(delay)</span></code></pre></div>
</div>
</section>
</section>
<section id="the-last-bit-of-convenience" class="level2">
<h2 class="anchored" data-anchor-id="the-last-bit-of-convenience">The last bit of convenience</h2>
<p>We got it, friends, the script works and the job is done. But… do you recall the last time you googled a shortcut for a semi-frequently used functionality? Do you still remember the shortcut, or use it each time you need the functionality? Convenience needs to be convenient (obviously). So let’s make the usage of our script as seamless as possible.</p>
<p>In Windows OS the best way for me would be to have a shortcut that would run it with one click. We could pin it to the taskbar and start menu. To create one:</p>
<ul>
<li>Go to any folder, right-click and select <code>New &gt; Shortcut</code>.</li>
<li>In the guide that pops up paste in <code>%systemroot%\System32\cmd.exe /c "python.exe $1"</code> where <code>$1</code> should be replaced by the path to your script. You can also replace <code>python.exe</code> with interpreter path of any venv you wish.</li>
<li>Optionally, you can later change the icon for the shortcut (needs to be <code>.ico</code> file). I like to roll with Win-98 style ‘My Computer’ icon.</li>
<li>Copy the shortcut to start menu directory. For Win11 it’s <code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs</code>. You should be able to see it in start menu already. Now you can pin it to the taskbar.</li>
</ul>
<p><img src="https://bwrob.github.io/posts/startup-script/startup_shortcut.png" class="img-fluid" style="width:100.0%"></p>
<p>That’s a good enough reminder and convenience tool for me. You might need some different setup, especially for another OS. For Linux, you might try to leverage <code>activate</code> or <code>bashrc</code> scripts in your working setup.</p>
</section>
<section id="further-extensions" class="level2">
<h2 class="anchored" data-anchor-id="further-extensions">Further extensions</h2>
<p>There are a couple more things I wish this guy could do for me still:</p>
<ul>
<li><strong>Changing Teams status to green</strong> - there’s a MS Graph API that could do this but we would need to manage Azure authorizations through the script. I am not up to that, especially on a work account. Might experiment on personal one in the future.</li>
<li><strong>Display placement of opened processes</strong> — I have 2 displays (which you could count as 4, due to the size format) and I am very particular about where each app should go. I would love the apps to open where they should. This is however OS specific, for Win it require to mingle with win32api. Yet another project for the future.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the startup <a href="../../scripts/startup_script.py">script</a> and example Windows <a href="Startup!.lnk">shortcut</a>.</p>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Pythonic Distractions</category>
  <guid>https://bwrob.github.io/posts/startup-script/</guid>
  <pubDate>Mon, 20 May 2024 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/startup-script/win_98.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Exit stack to the rescue</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/exit-stack/</link>
  <description><![CDATA[ 






<section id="working-with-risk-managment-systems" class="level2">
<h2 class="anchored" data-anchor-id="working-with-risk-managment-systems">Working with risk managment systems</h2>
<p>As a quantitative finance professional you’ll often find yourself with risk management systems (RMS). RMS’s are extensive frameworks that let you properly define a book (portfolio) of your financial transactions and run varia of pricing and risk analysis on it. For big financial players, like investment banks, the RMS will be internal proprietary codbase that is run in-house. For smaller enterprises or second-line reporting it’s not feasable to tackle creating such vast infrastructure. Hence, where there’s a need, someone will try to make money on it. This leads us to third-party (or vendor) RMS, of which there are plenty (ex. Murex, Acadia).</p>
<p>Working with vendor RMS, especially one that covers computations for you, entails juggling multiple resources to obtain your risk metrics. Defining OTC products, benchmarks, portfolios, and running risk analysis can involve numerous API calls, each requiring proper setup and cleanup. This can lead to messy code and potential errors or performance bottlenecks if resources aren’t handled correctly.</p>
<p>Thankfully, Python provides a powerful concept called context managers (<strong>CM</strong>) that streamline resource managment. True to the language’s ‘batteries included’ philosophy, there’s also a <code>contextlib</code> library that contains variety of tools for easing up your work with CMs. Today we’ll look at a (mock-up) usage of <code>ExitStack</code> class in real-life scenario of running risk analysis on RMS. If you need a refresher on CMs, check out this <a href="https://realpython.com/python-with-statement/">tutorial</a> by RealPython.</p>
</section>
<section id="setting-the-stage" class="level2">
<h2 class="anchored" data-anchor-id="setting-the-stage">Setting the stage</h2>
<p>To run an analysis, the RMS first needs to know what our positions are. In case of tradable assets it’s simple — we provide a market identifier and how much of the instrument we are holding. What do we do if we have some bespoke agreement with specific counterparty (an over-the-counter transaction)? We will need to define it from scratch in the RMS using data from the term sheet (assuming this kind of agreement is covered).</p>
<p>Next, we need to specify the risk metrics we want to calculate — define the analysis scope. Let’s say we hold some equity options and we are intertested in their deltas and beta exposures. The betas are defined with respect to some benchmark — ex. portfolio holding 1 stock in US500 ETF. So we define the benchmark and link it to our analysis.</p>
<p>Finally — once portfolio and analysis are defined in RMS — we call the API to start the calculation and respond with results. This is the control flow we execute to get to this point:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  A[OTC Products] --&gt; B[Portfolio]
  B --&gt; C{Analysis Run}
  D[Benchmarks] --&gt; E[Analysis Definition]
  E --&gt; C
  C --&gt; F(Results)
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>If we know we’re never going to use all of the resources, we should clean up the server artifacts after receving the results. So for each resource we should have a CM.</p>
<section id="mock-functions" class="level3">
<h3 class="anchored" data-anchor-id="mock-functions">Mock functions</h3>
<p>The setup described above comes from a real-life situation I worked through. I can’t show you the actual API usage or data (or even the name of RMS itself), so we need to define some mocker functions. Mocks like this are actually not an uncommon thing — such approach is prevalent in testing API client code. In our case it would look like this:</p>
<div id="9bd74952" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> enum <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> StrEnum</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> uuid <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> uuid4</span>
<span id="cb1-3"></span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">class</span> MockObject(StrEnum):</span>
<span id="cb1-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Types of mock objects."""</span></span>
<span id="cb1-7"></span>
<span id="cb1-8">    ANALYSIS <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analysis"</span></span>
<span id="cb1-9">    BENCHMARK <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"benchmark"</span></span>
<span id="cb1-10">    OTC_PRODUCTS <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"otc_products"</span></span>
<span id="cb1-11">    PORTFOLIO <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"portfolio"</span></span>
<span id="cb1-12"></span>
<span id="cb1-13"></span>
<span id="cb1-14"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> mock_object(object_type: MockObject) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb1-15">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock a UUID for a given object type.</span></span>
<span id="cb1-16"></span>
<span id="cb1-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb1-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        object_type: Type of object.</span></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-20">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>object_type<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">_</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>uuid4()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-21"></span>
<span id="cb1-22"></span>
<span id="cb1-23"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> mock_preparation(object_type: MockObject, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>kwargs) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb1-24">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock preparation of an object.</span></span>
<span id="cb1-25"></span>
<span id="cb1-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        object_type: Type of object.</span></span>
<span id="cb1-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-29">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Preparing </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>object_type<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f" using </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>kwargs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> kwargs <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"."</span>))</span>
<span id="cb1-30"></span>
<span id="cb1-31"></span>
<span id="cb1-32"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> mock_clean_up(object_uuid: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb1-33">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock clean up of an object.</span></span>
<span id="cb1-34"></span>
<span id="cb1-35"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb1-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        object_uuid: Uuid of the object.</span></span>
<span id="cb1-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-38">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Cleaning up after </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>object_uuid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">."</span>)</span></code></pre></div>
</div>
<p>For each of the four types of resources we mock the preparation, object (ex. API response, some id of definition on server) and the clean up process.</p>
</section>
<section id="context-managers" class="level3">
<h3 class="anchored" data-anchor-id="context-managers">Context managers</h3>
<p>Easiest way to define a CM is through <code>contextlib.contextmanager</code> decorator. To use it, you need a function that returns a generator. Code executed on enter should come before <code>yield</code> statement and the one for the exit afterwards. The generator yields the result of the CM (ex. handle to an opened file), the <code>y</code> in <code>with x(*args) as y:</code>.</p>
<div id="d83ed76c" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> contextlib <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> contextmanager</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Generator</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@contextmanager</span></span>
<span id="cb2-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> analysis(</span>
<span id="cb2-6">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb2-7">    benchmark_uuid: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb2-8">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Generator[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]:</span>
<span id="cb2-9">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock definition of an analysis.</span></span>
<span id="cb2-10"></span>
<span id="cb2-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Example: equity delta and correlation with benchmark.</span></span>
<span id="cb2-12"></span>
<span id="cb2-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        benchmark_uuid: Uuid of the benchmark.</span></span>
<span id="cb2-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb2-16">    mock_preparation(</span>
<span id="cb2-17">        MockObject.ANALYSIS,</span>
<span id="cb2-18">        benchmark_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>benchmark_uuid,</span>
<span id="cb2-19">    )</span>
<span id="cb2-20">    analysis_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> mock_object(MockObject.ANALYSIS)</span>
<span id="cb2-21">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">yield</span> analysis_uuid</span>
<span id="cb2-22">    mock_clean_up(analysis_uuid)</span></code></pre></div>
</div>
<p>Modern approach to Python development leans heavily towards type annotations. Dynamical typing is powerful but can lead to unwieldy code. To properly annotate the <code>analysis</code> function we need to import <code>Generator</code> from <code>typing</code> module. Remember, the <code>@contextmanager</code> decorator takes the function and turns it into CM — a class with <code>__enter__</code> and <code>__exit__</code> methods. The <code>Generator</code> needs three inputs but in our case only the first one is important — <code>YieldType</code>, here <code>str</code> (<a href="https://docs.python.org/3/library/typing.html#typing.Generator">see</a> for more).</p>
<p>With this done implementing the 3 remaining CMs is easy, just remember our flow chart.</p>
<div id="2672ae99" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@contextmanager</span></span>
<span id="cb3-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> benchmark() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Generator[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]:</span>
<span id="cb3-3">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock definition of a benchmark.</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        otc_products_uuid: Uuid of the otc products.</span></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb3-8">    mock_preparation(</span>
<span id="cb3-9">        MockObject.BENCHMARK,</span>
<span id="cb3-10">    )</span>
<span id="cb3-11">    benchmark_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> mock_object(MockObject.BENCHMARK)</span>
<span id="cb3-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">yield</span> benchmark_uuid</span>
<span id="cb3-13">    mock_clean_up(benchmark_uuid)</span>
<span id="cb3-14"></span>
<span id="cb3-15"></span>
<span id="cb3-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@contextmanager</span></span>
<span id="cb3-17"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> otc_products() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Generator[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]:</span>
<span id="cb3-18">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock definition of an otc products.</span></span>
<span id="cb3-19"></span>
<span id="cb3-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb3-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        otc_products_uuid: Uuid of the otc products.</span></span>
<span id="cb3-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb3-23">    mock_preparation(MockObject.OTC_PRODUCTS)</span>
<span id="cb3-24">    otcs_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> mock_object(MockObject.OTC_PRODUCTS)</span>
<span id="cb3-25">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">yield</span> otcs_uuid</span>
<span id="cb3-26">    mock_clean_up(otcs_uuid)</span>
<span id="cb3-27"></span>
<span id="cb3-28"></span>
<span id="cb3-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@contextmanager</span></span>
<span id="cb3-30"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> portfolio(</span>
<span id="cb3-31">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb3-32">    portfolio_name: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb3-33">    otc_products_uuid: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb3-34">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Generator[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]:</span>
<span id="cb3-35">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock definition of a portfolio.</span></span>
<span id="cb3-36"></span>
<span id="cb3-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb3-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        otc_products_uuid: Uuid of the otc products.</span></span>
<span id="cb3-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb3-40">    mock_preparation(</span>
<span id="cb3-41">        MockObject.PORTFOLIO,</span>
<span id="cb3-42">        portfolio_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>portfolio_name,</span>
<span id="cb3-43">        otc_products_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>otc_products_uuid,</span>
<span id="cb3-44">    )</span>
<span id="cb3-45">    portfolio_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> mock_object(MockObject.PORTFOLIO)</span>
<span id="cb3-46">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">yield</span> portfolio_uuid</span>
<span id="cb3-47">    mock_clean_up(portfolio_uuid)</span></code></pre></div>
</div>
</section>
<section id="analysis-results" class="level3">
<h3 class="anchored" data-anchor-id="analysis-results">Analysis results</h3>
<p>No stress or complexity here, to run the analysis we need to specify which analysis to run on which portfolio.</p>
<div id="c222dd3d" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb4-2"></span>
<span id="cb4-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> analysis_results(</span>
<span id="cb4-4">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb4-5">    analysis_uuid: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb4-6">    portfolio_uuid: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb4-7">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> pd.DataFrame:</span>
<span id="cb4-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock running the analysis on a given portfolio.</span></span>
<span id="cb4-9"></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Returns empty dataframe.</span></span>
<span id="cb4-11"></span>
<span id="cb4-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb4-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        analysis_uuid: Uuid of the analysis.</span></span>
<span id="cb4-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        portfolio_uuid: Uuid of the portfolio.</span></span>
<span id="cb4-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb4-16">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Running analysis </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>analysis_uuid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> on portfolio </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>portfolio_uuid<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">."</span>)</span>
<span id="cb4-17">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> pd.DataFrame()</span></code></pre></div>
</div>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>Finally, we can run some (mock) risk analysis!</p>
<section id="using-contexts-directly" class="level3">
<h3 class="anchored" data-anchor-id="using-contexts-directly">Using contexts directly</h3>
<p>First, we use the managers directly through <code>with</code> clause, remembering the dependencies from our flow chart.</p>
<div id="bdb7ec05" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1">PORTFOLIO <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"portfolio_1"</span></span>
<span id="cb5-2"></span>
<span id="cb5-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_analysis() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> pd.DataFrame:</span>
<span id="cb5-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock running the analysis using with clauses."""</span></span>
<span id="cb5-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> otc_products() <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> otc_uuid:</span>
<span id="cb5-6">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> benchmark() <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> benchmark_uuid:</span>
<span id="cb5-7">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> portfolio(</span>
<span id="cb5-8">                portfolio_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>PORTFOLIO,</span>
<span id="cb5-9">                otc_products_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>otc_uuid,</span>
<span id="cb5-10">            ) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> portfolio_uuid:</span>
<span id="cb5-11">                <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> analysis(</span>
<span id="cb5-12">                    benchmark_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>benchmark_uuid,</span>
<span id="cb5-13">                ) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> analysis_uuid:</span>
<span id="cb5-14">                    results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> analysis_results(</span>
<span id="cb5-15">                        analysis_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>analysis_uuid,</span>
<span id="cb5-16">                        portfolio_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>portfolio_uuid,</span>
<span id="cb5-17">                    )</span>
<span id="cb5-18">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> results</span></code></pre></div>
</div>
<p>This is terrible! I am already getting lost, needed few tries to get it right. We ended up with <strong>6</strong> levels of indentation, the code is confusing, the flow is obtuse. Let’s run it either way, to see if at least works.</p>
<div id="9c75ede4" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> print_title(title: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb6-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Print a title padded, surrounded by dashes and empty lines."""</span></span>
<span id="cb6-3">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> title.center(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb6-4"></span>
<span id="cb6-5">print_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Running analysis."</span>)</span>
<span id="cb6-6">run_analysis()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
---------------------Running analysis.----------------------

Preparing otc_products.
Preparing benchmark.
Preparing portfolio using {'portfolio_name': 'portfolio_1', 'otc_products_uuid': 'otc_products_d92080bf-a618-45ca-b745-5f210c271e01'}
Preparing analysis using {'benchmark_name': 'benchmark_b84b80ba-f955-484e-baa0-245dd2e37971'}
Running analysis analysis_08cea7f1-86fc-4c06-9497-0206ee22a48f on portfolio portfolio_28c398e6-0bed-400b-8058-ec1084897178.
Cleaning up after analysis_08cea7f1-86fc-4c06-9497-0206ee22a48f.
Cleaning up after portfolio_28c398e6-0bed-400b-8058-ec1084897178.
Cleaning up after benchmark_b84b80ba-f955-484e-baa0-245dd2e37971.
Cleaning up after otc_products_d92080bf-a618-45ca-b745-5f210c271e01.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<p>Great, the behaviour is as expected, everything is cleaned after nicely. We achieved the goal but the code is unmaintainable. Looks like a subject of the joke <em>“good code makes your job safe for a day, but terrible code in production makes it safe for a lifetime”</em>. Being reckless and with no regard to job security as we are, we’ll fix it.</p>
<p><em>I can clearly recall the most unamanagable and unreadable code I’ve seen in my career and the culprit was fired in the end. Different reasons, long time later, but still. So the joke is just a joke, don’t rely on a bad code as your job insurance.</em></p>
</section>
</section>
<section id="the-exitstack" class="level2">
<h2 class="anchored" data-anchor-id="the-exitstack">The ExitStack</h2>
<p>Here comes in the MVP — <code>ExitStack</code> from <code>contextlib</code>, made for streamlining complex context managment situationships. Conceptually it’s just a First-In-Last-Out (FILO) stack. You put CMs on top, one by one. When CM is pushed to stack, its <code>__enter__</code> method is called and you can intercept the result. ExitStack is a CM itself, it’s <code>__exit__</code> method is just calling the exits of CMs in reverse order.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
    A(Enter CM A) ---&gt; B(Enter CM B)
    B ---&gt; C(Enter CM C)
    C ---&gt; D[Do stuff]
    D ---&gt; E(Exit CM C)
    E ---&gt; F(Exit CM B)
    F ---&gt; G(Exit CM A)
    A -.- G
    B -.- F
    C -.- E

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>So the flow is exactly the same as in our first attempt. Let’s try it!</p>
<div id="59eaeb0c" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> contextlib <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ExitStack</span>
<span id="cb8-2"></span>
<span id="cb8-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_analysis_with_exit_stack() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb8-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock running the analysis using exit stack."""</span></span>
<span id="cb8-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> ExitStack() <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> stack:</span>
<span id="cb8-6">        otc_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(otc_products())</span>
<span id="cb8-7">        benchmark_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(benchmark())</span>
<span id="cb8-8">        portfolio_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(</span>
<span id="cb8-9">            portfolio(</span>
<span id="cb8-10">                portfolio_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>PORTFOLIO,</span>
<span id="cb8-11">                otc_products_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>otc_uuid,</span>
<span id="cb8-12">            )</span>
<span id="cb8-13">        )</span>
<span id="cb8-14">        analysis_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(</span>
<span id="cb8-15">            analysis(</span>
<span id="cb8-16">                benchmark_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>benchmark_uuid,</span>
<span id="cb8-17">            )</span>
<span id="cb8-18">        )</span>
<span id="cb8-19">        results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> analysis_results(</span>
<span id="cb8-20">            analysis_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>analysis_uuid,</span>
<span id="cb8-21">            portfolio_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>portfolio_uuid,</span>
<span id="cb8-22">        )</span></code></pre></div>
</div>
<p>That’s amazing (if the approach works)! In our code we end up with only single <code>with</code> clause and the outputs of CMs are defined just like the regular variables. We just need to wrap the CM calls in <code>stack.enter_context</code> method that pushes each CM to the stack.</p>
<div id="bf9dd9a0" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1">print_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Running analysis with exit stack."</span>)</span>
<span id="cb9-2">run_analysis_with_exit_stack()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
-------------Running analysis with exit stack.--------------

Preparing otc_products.
Preparing benchmark.
Preparing portfolio using {'portfolio_name': 'portfolio_1', 'otc_products_uuid': 'otc_products_5335b37e-da8b-4e0f-93b8-d22182c20f84'}
Preparing analysis using {'benchmark_name': 'benchmark_a5f91a53-e401-4e49-9a3a-d2e494f6a79d'}
Running analysis analysis_3492a174-58a4-40fd-b45d-6dc429f4578c on portfolio portfolio_534cfbff-0ab6-404d-9c9b-dca42b04e1c0.
Cleaning up after analysis_3492a174-58a4-40fd-b45d-6dc429f4578c.
Cleaning up after portfolio_534cfbff-0ab6-404d-9c9b-dca42b04e1c0.
Cleaning up after benchmark_a5f91a53-e401-4e49-9a3a-d2e494f6a79d.
Cleaning up after otc_products_5335b37e-da8b-4e0f-93b8-d22182c20f84.</code></pre>
</div>
</div>
<p>It works as well! We also get a package of benefits for free.</p>
<section id="disabling-the-clean-up" class="level3">
<h3 class="anchored" data-anchor-id="disabling-the-clean-up">Disabling the clean up</h3>
<p>Working with API is tricky and debugging could be a painful experience. If we notice something iffy with the results we are reciving, it could be due to a bug at any of the stages. In such case disabling the artifact clean up and examining them is a good way to investigate. How do we do that? Comment out the exit code in our resource CMs? Nope, now we know better. With exit stack approach we just need to clean up the stack before exiting its context.</p>
<div id="ffe271a9" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_analysis_with_exit_stack(</span>
<span id="cb11-2">    clean_up: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb11-3">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb11-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock running the analysis using exit stack.</span></span>
<span id="cb11-5"></span>
<span id="cb11-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb11-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        clean_up: Whether to clean up after the objects.</span></span>
<span id="cb11-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb11-9"></span>
<span id="cb11-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> ExitStack() <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> stack:</span>
<span id="cb11-11">        otc_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(otc_products())</span>
<span id="cb11-12">        benchmark_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(benchmark())</span>
<span id="cb11-13">        portfolio_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(</span>
<span id="cb11-14">            portfolio(</span>
<span id="cb11-15">                portfolio_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>PORTFOLIO,</span>
<span id="cb11-16">                otc_products_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>otc_uuid,</span>
<span id="cb11-17">            )</span>
<span id="cb11-18">        )</span>
<span id="cb11-19">        analysis_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(</span>
<span id="cb11-20">            analysis(</span>
<span id="cb11-21">                benchmark_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>benchmark_uuid,</span>
<span id="cb11-22">            )</span>
<span id="cb11-23">        )</span>
<span id="cb11-24">        results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> analysis_results(</span>
<span id="cb11-25">            analysis_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>analysis_uuid,</span>
<span id="cb11-26">            portfolio_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>portfolio_uuid,</span>
<span id="cb11-27">        )</span>
<span id="cb11-28"></span>
<span id="cb11-29">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> clean_up:</span>
<span id="cb11-30">            _ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.pop_all()</span>
<span id="cb11-31">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> results</span></code></pre></div>
</div>
<p>The <code>_ = some_function()</code> is a Pythonic way of disregarding outputs of <code>some_function</code>. Method <code>pop_all</code> actually moves the stack contents to a new stack, but we don’t care about that. We just want to get rid of them from our current one.</p>
<div id="6847ce3d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1">print_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Running analysis with exit stack and no clean up."</span>)</span>
<span id="cb12-2">run_analysis_with_exit_stack(clean_up<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
-----Running analysis with exit stack and no clean up.------

Preparing otc_products.
Preparing benchmark.
Preparing portfolio using {'portfolio_name': 'portfolio_1', 'otc_products_uuid': 'otc_products_0b8ce854-0956-46cd-9477-f2db6c075630'}
Preparing analysis using {'benchmark_name': 'benchmark_117998ba-9372-41df-8390-5f475e87ef15'}
Running analysis analysis_bdee8015-85f9-49ea-842a-6d19e2264c8e on portfolio portfolio_eff325dd-e5e2-48e9-a754-8fc061babe3d.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="multiple-portfolios" class="level3">
<h3 class="anchored" data-anchor-id="multiple-portfolios">Multiple portfolios</h3>
<p>Benefit #2 — what do we do if we have multiple managers and many portfolios to re-run for? Or — outside of the example scope — we want to held multiple files open at the same time? Easy, we just push to the stack in a loop or a list comprehension.</p>
<div id="a4d157e7" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1">PORTFOLIOS <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"portfolio_1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"portfolio_2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"portfolio_3"</span>]</span>
<span id="cb14-2"></span>
<span id="cb14-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> run_analysis_with_exit_stack(clean_up: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>):</span>
<span id="cb14-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Mock running the analysis for multiple portfolios using exit stack.</span></span>
<span id="cb14-5"></span>
<span id="cb14-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Args:</span></span>
<span id="cb14-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        clean_up: Whether to clean up after the objects.</span></span>
<span id="cb14-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb14-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> ExitStack() <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> stack:</span>
<span id="cb14-10">        otc_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(otc_products())</span>
<span id="cb14-11">        benchmark_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(benchmark())</span>
<span id="cb14-12">        portfolio_uuids <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb14-13">            stack.enter_context(</span>
<span id="cb14-14">                portfolio(</span>
<span id="cb14-15">                    portfolio_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>portfolio_name,</span>
<span id="cb14-16">                    otc_products_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>otc_uuid,</span>
<span id="cb14-17">                )</span>
<span id="cb14-18">            )</span>
<span id="cb14-19">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> portfolio_name <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> PORTFOLIOS</span>
<span id="cb14-20">        ]</span>
<span id="cb14-21">        analysis_uuid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.enter_context(</span>
<span id="cb14-22">            analysis(</span>
<span id="cb14-23">                benchmark_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>benchmark_uuid,</span>
<span id="cb14-24">            )</span>
<span id="cb14-25">        )</span>
<span id="cb14-26">        result_parts <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb14-27">            analysis_results(</span>
<span id="cb14-28">                analysis_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>analysis_uuid,</span>
<span id="cb14-29">                portfolio_uuid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>portfolio_uuid,</span>
<span id="cb14-30">            )</span>
<span id="cb14-31">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> portfolio_uuid <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> portfolio_uuids</span>
<span id="cb14-32">        ]</span>
<span id="cb14-33">        results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.concat(result_parts)</span>
<span id="cb14-34"></span>
<span id="cb14-35">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> clean_up:</span>
<span id="cb14-36">            _ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> stack.pop_all()</span>
<span id="cb14-37">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> results</span>
<span id="cb14-38"></span>
<span id="cb14-39">print_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Running analysis with exit stack on multiple portfolios."</span>)</span>
<span id="cb14-40">run_analysis_with_exit_stack(clean_up<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--Running analysis with exit stack on multiple portfolios.--

Preparing otc_products.
Preparing benchmark.
Preparing portfolio using {'portfolio_name': 'portfolio_1', 'otc_products_uuid': 'otc_products_56f2a75e-89cf-4239-9d8d-7fb6a13c6ba9'}
Preparing portfolio using {'portfolio_name': 'portfolio_2', 'otc_products_uuid': 'otc_products_56f2a75e-89cf-4239-9d8d-7fb6a13c6ba9'}
Preparing portfolio using {'portfolio_name': 'portfolio_3', 'otc_products_uuid': 'otc_products_56f2a75e-89cf-4239-9d8d-7fb6a13c6ba9'}
Preparing analysis using {'benchmark_name': 'benchmark_cd693212-f28d-4321-83ad-7ea03f379a70'}
Running analysis analysis_cf52685a-a719-4208-b997-4229473d1981 on portfolio portfolio_47d63955-2d58-4919-ad10-f10eab83e790.
Running analysis analysis_cf52685a-a719-4208-b997-4229473d1981 on portfolio portfolio_2c28da60-7756-4741-95e1-e834e5f7994f.
Running analysis analysis_cf52685a-a719-4208-b997-4229473d1981 on portfolio portfolio_fdba5faf-5b18-4e9e-9ad7-a090e0f68606.
Cleaning up after analysis_cf52685a-a719-4208-b997-4229473d1981.
Cleaning up after portfolio_fdba5faf-5b18-4e9e-9ad7-a090e0f68606.
Cleaning up after portfolio_2c28da60-7756-4741-95e1-e834e5f7994f.
Cleaning up after portfolio_47d63955-2d58-4919-ad10-f10eab83e790.
Cleaning up after benchmark_cd693212-f28d-4321-83ad-7ea03f379a70.
Cleaning up after otc_products_56f2a75e-89cf-4239-9d8d-7fb6a13c6ba9.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Today we’ve learnt a new Python tool and seen an example of how quantitative developer might set up risk reporting job on vendor RMS. Sound like a very niche and unlikely situation for you? Maybe. But the moral here is to go and explore the Python standard library. Without using any additional packages we improved readability and flexibility of our initial attempt. Python really has <em>‘batteries included’</em>, <a href="https://docs.python.org/3/library/index.html">see</a> for yourself!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the whole code <a href="../../scripts/exit_stack.py">here</a>.</p>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Pythonic Distractions</category>
  <guid>https://bwrob.github.io/posts/exit-stack/</guid>
  <pubDate>Sat, 11 May 2024 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/posts/exit-stack/flowchart.png" medium="image" type="image/png" height="41" width="144"/>
</item>
<item>
  <title>Strategies for Numerical Integration</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/strategy-pattern-integration/</link>
  <description><![CDATA[ 






<section id="numerical-integration" class="level2">
<h2 class="anchored" data-anchor-id="numerical-integration">Numerical integration</h2>
<p>Calculation of many financial methods or metrics relies on a mathematical tool called numerical integration. In simple terms, numerical integration takes a function that represents a continuous process (like the changing value of an investment over time) and approximates the area under its curve. This area can then be used to calculate important quantities, like the total return of the investment or price of a derivative instrument.</p>
<p>So we are tasked with a problem, and one that has many different ways of solving, or rather approximating the solution. You most likely (taking into account you’re still reading this) encountered rectangle rule, or Riemann summation in your Calculus 101 course/self-learning. But there are many other techniques, which we call schemes.</p>
<p>For quantitative analysts, the choice of the integration method matters. Different integration schemes offer varying levels of accuracy and efficiency. Unfortunately there’s no <em>best technique</em>. Same algorithm can be a perfect fit for problems with certain characteristics, but unusable for others. And then there is the old as time performance vs.&nbsp;accuracy trade-off.</p>
<p>As programmers working in finance, we need to be adaptable and leverage solutions that allow us to switch between these methods seamlessly.</p>
</section>
<section id="design-patterns" class="level2">
<h2 class="anchored" data-anchor-id="design-patterns">Design patterns</h2>
<p>This is where design patterns come in. Design patterns are reusable solutions to common programming problems. Their widespread adoption in software development is largely attributed to the publication of <a href="https://www.oreilly.com/library/view/design-patterns-elements/0201633612/">Design Patterns: Elements of Reusable Object-Oriented Software</a> in 1994. Authored by E. Gamma, R. Helm, R. Johnson, and J. Vlissides (often referred to as the “Gang of Four” or GoF), this book cataloged 23 essential software design patterns. These patterns provided solutions to common design problems in object-oriented programming, promoting code reusability, maintainability, and flexibility.</p>
<p>Some design patterns can feel clunky or inelegant when implemented in Python. The language itself often has built-in features or idioms that achieve the same result in a more Pythonic way (meaning it follows Python’s style and conventions). Sometimes, design patterns can be seen as overcomplicating simple problems. On the other hand, usage of well-known and understood patterns may enhance your engineering skills and improve code readability.</p>
<p>Ultimately, the decision of whether or not to use design patterns in Python depends on the specific context of your project and your coding style. There’s no right or wrong answer. But first, you need to know the classics to diss the classics. We’ll hold on with the dissing for now, cause in the example below chosen design pattern makes for a very clean implementation. You’ll see for yourself.</p>
</section>
<section id="strategy-pattern" class="level2">
<h2 class="anchored" data-anchor-id="strategy-pattern">Strategy pattern</h2>
<p>We know the stage now — one problem statement, multiple strategies to tackle. Important observation here is that we don’t actually care which one is used. When you substitute the integral value to client code — a formula or further algorithm — it’s irrelevant how it was computed, as long its correct to required level of accuracy. This means that the problem should be decoupled from algorithms to solve it. We should target a implementation where you can state a problem <em>Calculate the integral of</em> <img src="https://latex.codecogs.com/png.latex?%5Csin(x)"> <em>from</em> <img src="https://latex.codecogs.com/png.latex?0"> <em>to</em> <img src="https://latex.codecogs.com/png.latex?%5Cpi"> and then just throw different algorithms at it to obtain a solution. So let’s get coding!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I will show you this pattern through an example. If you prefer more generic setup see Refactoring Guru’s <a href="https://refactoring.guru/design-patterns/strategy/python/example">implementation</a>. The customary ‘software engineering’ example used to present the SDP is sorting a list of integers using different sorting algorithms.</p>
</div>
</div>
</section>
<section id="abstract-schema" class="level2">
<h2 class="anchored" data-anchor-id="abstract-schema">Abstract schema</h2>
<p>Each scheme that we’d come up with, even the most complex ones, would have the same main purpose — ‘integrate’. To make the implementation for it, we create a template class that all concrete schemes will inherit from.</p>
<div id="77dd73c3" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> abc <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ABC, abstractmethod</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Callable</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">class</span> IntegrationScheme(ABC):</span>
<span id="cb1-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Abstract base class for integration schemas."""</span></span>
<span id="cb1-6"></span>
<span id="cb1-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@abstractmethod</span></span>
<span id="cb1-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> integrate(</span>
<span id="cb1-9">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb1-10">        integrand: Callable[[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>], <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>],</span>
<span id="cb1-11">        <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb1-12">        start: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb1-13">        end: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb1-14">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>:</span>
<span id="cb1-15">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Abstract method for integrating a function."""</span></span></code></pre></div>
</div>
<p>Unpacking this, we already used some nifty Pythonic tricks in those few lines:</p>
<ul>
<li><code>ABC</code> is a way of defining abstract classes. If you try to create an object of a class inheriting from <code>ABC</code> you’d get an error. It is used as a base class for concrete subclasses and serves as a template. Think of an example of <em>animal</em> and <em>cat</em> from the real world. You’ve never seen an abstract animal being in your life (that would be a truly transcendental experience). But you’ve hopefully seen many cats.</li>
<li>Decorator <code>@abstractmethod</code> signifies that the method is just a mock-up. It needs to be present and overridden in all concrete classes that inherit from <code>IntegrationScheme</code></li>
<li>Type annotations like <code>start: float</code> don’t affect the script behavior in any way. Those are only for us to not get lost in Python’s dynamic typing magic. They can also be leveraged by static type checkers like <a href="https://mypy.readthedocs.io/en/stable/#">mypy</a> to flag problems with your code before you run it — just like in compiled languages.</li>
<li><code>Callable</code> annotation signifies a function-like object something you can <em>call</em> through <code>()</code>, like <code>some_func(one, second=two)</code>’ — here <code>some_func</code> is a callable. Calls to an object can be implemented by writing the <code>__call__</code> method for the class.</li>
</ul>
</section>
<section id="concrete-schema-implementations" class="level2">
<h2 class="anchored" data-anchor-id="concrete-schema-implementations">Concrete schema implementations</h2>
<section id="rectangle-rule" class="level3">
<h3 class="anchored" data-anchor-id="rectangle-rule">Rectangle Rule</h3>
<p>It’s the simplest way of estimating the area under a curve you can think of — cover it with smaller and smaller rectangles with the value of a function at the leftmost point as height constant width.</p>
<p><a href="https://en.wikipedia.org/wiki/File:Rectangle_rule.gif"><img src="https://bwrob.github.io/posts/strategy-pattern-integration/Rectangle_rule.gif" class="img-fluid" style="width:100.0%"></a></p>
<p>Implementing this idea is trivial when using <a href="https://numpy.org/">numpy</a>, but let’s add some syntactic sugar so the class is sweeter to work with.</p>
<div id="2beadd54" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">class</span> RectangleScheme(IntegrationScheme):</span>
<span id="cb2-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Schema for rectangle integration."""</span></span>
<span id="cb2-5"></span>
<span id="cb2-6">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>(</span>
<span id="cb2-7">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb2-8">        steps: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>,</span>
<span id="cb2-9">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb2-10">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Initializes the rectangle integration config."""</span></span>
<span id="cb2-11">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> steps <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>:</span>
<span id="cb2-12">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Steps must be greater than 0."</span>)</span>
<span id="cb2-13">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>._steps <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> steps</span>
<span id="cb2-14"></span>
<span id="cb2-15">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__str__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb2-16">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Returns the string representation of the schema."""</span></span>
<span id="cb2-17">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Rectangle schema with </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>_steps<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> steps"</span></span>
<span id="cb2-18"></span>
<span id="cb2-19">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> integrate(</span>
<span id="cb2-20">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb2-21">        integrand: Callable[[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>], <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>],</span>
<span id="cb2-22">        <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb2-23">        start: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb2-24">        end: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb2-25">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>:</span>
<span id="cb2-26">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Integrates a function using rectangle integration."""</span></span>
<span id="cb2-27">        x_points <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.linspace(start, end, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>._steps)</span>
<span id="cb2-28">        values <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> integrand(x_points)</span>
<span id="cb2-29">        dx <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> np.float64(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>._steps)</span>
<span id="cb2-30">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> np.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>(values) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> dx</span></code></pre></div>
</div>
<ul>
<li><code>RectangleScheme</code> subclasses <code>IntegrationScheme</code> so we need to implement the <code>integrate</code> method.</li>
<li><code>__init__</code> method is run each time object of this class is requested. It sets the stage — in this case all we need is the number of rectangles we are to use. To be cautious, we check if the <code>steps</code> number is positive.</li>
<li><code>__str__</code> is called when we try to represent the object as string — ex. in f-strings or directly calling <code>str()</code>. We just taught our class objects to introduce themselves nicely.</li>
<li><code>integrate</code> is as simple as the idea behind it:
<ul>
<li>get the equaly spaced x values,</li>
<li>calculate <code>integrand</code> values at the points,</li>
<li>sum it up,</li>
<li>multiply the sum by the distance between two consecutive points.</li>
</ul></li>
</ul>
</section>
<section id="simple-monte-carlo" class="level3">
<h3 class="anchored" data-anchor-id="simple-monte-carlo">Simple Monte Carlo</h3>
<p>This guy sounds fancy with its luxurious Monaco vibes, but it’s just a peasant in a nice suit. Instead of looking at equaly-spaced points, we shuffle them from uniform distribution on the interval of integration. We calculate the integrand function values at those points and sum them up. Then multiply the sum by the average distance between points and through the magic of probability theory (and not opening actual probability textbook in 10 years) you get a good probabilistic estimator of the integral value. The implementation is analogous to the <code>RectangleScheme</code>.</p>
<div id="63218c15" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Optional</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">class</span> MonteCarloScheme(IntegrationScheme):</span>
<span id="cb3-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Schema for Monte Carlo integration."""</span></span>
<span id="cb3-5"></span>
<span id="cb3-6">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>(</span>
<span id="cb3-7">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb3-8">        random_points: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>,</span>
<span id="cb3-9">        random_seed: Optional[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>,</span>
<span id="cb3-10">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb3-11">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Initializes the rectangle integration config."""</span></span>
<span id="cb3-12">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> random_points <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>:</span>
<span id="cb3-13">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Points must be greater than 0."</span>)</span>
<span id="cb3-14">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__random_points <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> random_points</span>
<span id="cb3-15">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__random_seed <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> random_seed</span>
<span id="cb3-16"></span>
<span id="cb3-17">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__str__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb3-18">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Returns the string representation of the schema."""</span></span>
<span id="cb3-19">        points_msg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Monte Carlo schema with </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>__random_points<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> random points"</span></span>
<span id="cb3-20">        seed_msg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f" and seed </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>__random_seed<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__random_seed <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb3-21">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>points_msg<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}{</span>seed_msg<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb3-22"></span>
<span id="cb3-23">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> integrate(</span>
<span id="cb3-24">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb3-25">        integrand: Callable[[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>], <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>],</span>
<span id="cb3-26">        <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>,</span>
<span id="cb3-27">        start: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb3-28">        end: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb3-29">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>:</span>
<span id="cb3-30">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Integrates a function using Monte Carlo integration."""</span></span>
<span id="cb3-31">        np.random.seed(seed<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__random_seed)</span>
<span id="cb3-32">        x_points <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.random.uniform(start, end, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__random_points)</span>
<span id="cb3-33">        values <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> integrand(x_points)</span>
<span id="cb3-34">        average_dx <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> np.float64(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__random_points)</span>
<span id="cb3-35">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> np.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>(values) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> average_dx</span></code></pre></div>
</div>
<ul>
<li><code>Optional[int]</code> annotation means that the value of <code>random_seed</code> can be a <code>float</code> or <code>None</code>. With a set seed we get a reproducable results — good for testing but not for actual usage. Hence the default value here is <code>None</code>.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>Optional</code> stands for <em>could be <code>None</code> as well</em>, it doesn’t affect if the input is mandatory or not. In our case it’s not, but thats stated by the <code>= None</code> part. In Python 3.11 onwards it’s recommended to use <code>int | None</code> instead.</p>
</div>
</div>
</section>
</section>
<section id="integrator" class="level2">
<h2 class="anchored" data-anchor-id="integrator">Integrator</h2>
<p>What’s left is to have a way of defining the problem to solve and define how our schemes (strategies) interact with it.</p>
<div id="dc101b51" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""An integrator class that allows to perform integration using different schemas."""</span></span>
<span id="cb4-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Callable</span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">class</span> Integrator:</span>
<span id="cb4-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""An integrator class that allows to perform integration using different</span></span>
<span id="cb4-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    schemas as strategies."""</span></span>
<span id="cb4-7"></span>
<span id="cb4-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>(</span>
<span id="cb4-9">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb4-10">        integrand: Callable[[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>], <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>],</span>
<span id="cb4-11">        interval_start: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb4-12">        interval_end: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>,</span>
<span id="cb4-13">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb4-14">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Initializes the integrator class."""</span></span>
<span id="cb4-15">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> interval_start <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> interval_end:</span>
<span id="cb4-16">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Start value must be less than end value."</span>)</span>
<span id="cb4-17">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__integrand <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> integrand</span>
<span id="cb4-18">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__interval_start <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> interval_start</span>
<span id="cb4-19">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__interval_end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> interval_end</span>
<span id="cb4-20"></span>
<span id="cb4-21">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__call__</span>(</span>
<span id="cb4-22">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>,</span>
<span id="cb4-23">        schema: IntegrationScheme,</span>
<span id="cb4-24">    ) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>:</span>
<span id="cb4-25">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb4-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Calculates the definite integral value of a function.</span></span>
<span id="cb4-27"></span>
<span id="cb4-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Args:</span></span>
<span id="cb4-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">            schema: integration schema</span></span>
<span id="cb4-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        """</span></span>
<span id="cb4-31">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Using </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>schema<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">."</span>)</span>
<span id="cb4-32">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> schema.integrate(</span>
<span id="cb4-33">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__integrand,</span>
<span id="cb4-34">            start<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__interval_start,</span>
<span id="cb4-35">            end<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.__interval_end,</span>
<span id="cb4-36">        )</span></code></pre></div>
</div>
<ul>
<li>The <code>__init__</code> takes in the obvious parameters — function to integrate, start and end of the interval. It also checks if it’s a proper integral.</li>
<li>We get to implement our own <code>__call__</code> method now. It’s clear what <code>Integrator</code> class does. No need to have a method with a descriptive name like <code>Integrator.integrate</code>. To use it you pass through the integration scheme into the integrator — notice annotation of the abstract <code>IntegrationScheme</code>. It prints the info on strategy used (using the <code>__str__</code> methods) and calls <code>integrate</code> method of the scheme. No care in the world on how the value is actually calculated.</li>
</ul>
</section>
<section id="lets-integrate" class="level2">
<h2 class="anchored" data-anchor-id="lets-integrate">Let’s integrate!</h2>
<p>Ok, now to the integrating! Let’s set up the stage:</p>
<div id="15b9624e" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1">start, end <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, np.pi <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.0</span></span>
<span id="cb5-2"></span>
<span id="cb5-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> f(x: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>:</span>
<span id="cb5-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> np.sin(x) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> np.cos(x)</span></code></pre></div>
</div>
<p>Excited? Don’t be… yet.</p>
<p>We should get some benchmark value first. As none of us would bother to integrate this by hand, we’ll use SciPy. Unexpectedly (SciPy uses C and Fortran underneath), we get the result in a breeze and it is very close to <a href="https://www.wolframalpha.com/input?i=integrate+sin%28x%29+%2B+cos%28x%29+over+0+to+pi%2F2">actual value of 2.0</a>.</p>
<div id="cc53bba6" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> scipy.integrate <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> quad</span>
<span id="cb6-2"></span>
<span id="cb6-3">scipy_quad, err <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> quad(f, start, end)</span>
<span id="cb6-4"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(scipy_quad)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1.9999999999999998</code></pre>
</div>
</div>
<p>Now let’s use our <code>Integrator</code> class and see.</p>
<div id="6df3de84" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1">integrator <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Integrator(</span>
<span id="cb8-2">    f,</span>
<span id="cb8-3">    interval_start<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>start,</span>
<span id="cb8-4">    interval_end<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>end,</span>
<span id="cb8-5">)</span>
<span id="cb8-6"></span>
<span id="cb8-7">iterations <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)]</span>
<span id="cb8-8">rectangle_results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [integrator(RectangleScheme(steps<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>i)) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> iterations]</span>
<span id="cb8-9">mc_results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [integrator(MonteCarloScheme(random_points<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>i)) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> iterations]</span>
<span id="cb8-10"></span>
<span id="cb8-11"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Rectangle schema results:</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>rectangle_results<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">."</span>)</span>
<span id="cb8-12"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Monte Carlo schema results:</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>mc_results<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">."</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Using Rectangle schema with 1 steps.
Using Rectangle schema with 32 steps.
Using Rectangle schema with 1024 steps.
Using Rectangle schema with 32768 steps.
Using Rectangle schema with 1048576 steps.
Using Monte Carlo schema with 1 random points.
Using Monte Carlo schema with 32 random points.
Using Monte Carlo schema with 1024 random points.
Using Monte Carlo schema with 32768 random points.
Using Monte Carlo schema with 1048576 random points.
Rectangle schema results:
[np.float64(1.5707963267948966), np.float64(1.986172817555692), np.float64(1.9995804632216618), np.float64(1.9999869013603688), np.float64(1.9999995906791057)].
Monte Carlo schema results:
[np.float64(1.6744749528914122), np.float64(1.9909974700320354), np.float64(2.000216564426225), np.float64(1.9996264538512554), np.float64(2.0002108183415483)].</code></pre>
</div>
</div>
<p>The performance and convergence of those schemes is terrible. Like anything in Python, if you want robust and performing code, you need to implement it with C or use any/all of the enhancement frameworks that Python provides (see Numba). Additionally, the simple methods we implemented are very naive. The standard numerical packages use sophisticated algorithms honed for many decades.</p>
<p>But I was wrong! You <em>should</em> be excited! We just learned new approach for setting up extensible and readable code! Look how cleanly the problem statement is separated form different strategies to solve it.</p>
<p>If you are now wondering how much we could improve by using more advanced techniques (like <a href="http://proceedings.mlr.press/v28/carpentier13.pdf">stratified Monte Carlo</a> or <a href="https://www.wikiwand.com/en/Adaptive_quadrature">adaptive quadrature</a>) you just need to implement new subclass of `IntegrationSchema’ and you’re done. No changes to the existing code are needed, just simple extension. And that’s the idea behind strategy pattern.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Download the whole code <a href="../../scripts/integration.py">here</a>.</p>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <category>Pythonic Distractions</category>
  <guid>https://bwrob.github.io/posts/strategy-pattern-integration/</guid>
  <pubDate>Sat, 27 Apr 2024 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Welcome To My Blog</title>
  <dc:creator>bwrob </dc:creator>
  <link>https://bwrob.github.io/posts/welcome/</link>
  <description><![CDATA[ 






<p>This is the first post in the bwrob blog. Welcome!</p>
<p>This blog is a battleground of sorts, but instead of swords and shields, we wield the weapons of Python and C++. I’m a mathematician turned quantitative analyst turned software engineer. You can expect high standard deviation of topics here.</p>
<p>Here, I’ll document my coding conquests, from building practical and impractical tools, exploring financial concepts, to playing around with physics simulations.</p>
<p>Expect a healthy dose of humor alongside the technical discussions. Let’s be honest, even the most complex problems are more enjoyable with a sprinkle of laughter. So, grab a cup of coffee and join me on this exploration – even if it’s just for one interested reader!</p>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a> ]]></description>
  <guid>https://bwrob.github.io/posts/welcome/</guid>
  <pubDate>Mon, 22 Apr 2024 22:00:00 GMT</pubDate>
  <media:content url="https://bwrob.github.io/logo/python_mug.png" medium="image" type="image/png" height="144" width="144"/>
</item>
</channel>
</rss>
