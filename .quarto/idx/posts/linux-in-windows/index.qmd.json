{"title":"Linux in Windows via WSL","markdown":{"yaml":{"title":"Linux in Windows via WSL","description":"How to have a great dev setup and still play CS over a coffee break.","author":"bwrob","date":"2024-08-11","date-modified":"2024-08-30","categories":["Dev Setup"],"image":"image.jpg"},"headingText":"Windows, Linux, and You: Ménage à trois","containsRefs":false,"markdown":"\n\n![](image.jpg){width=\"95%\" fig-align=\"center\"}\n\n\nTired of the same old Windows vs. Linux beef among PC superusers? Well, get ready to become a mediator in this feud. I'll show you how to get the best of both worlds.\n\n### Pros and cons\n\nWindows OS has long been the dominant platform for mainstream consumers and businesses. It offers good hardware compatibility, de facto *the* PC gaming experience and is friendly to the casual user. However, Windows has significant limitations in terms of system control and software development tools.\n\nLinux, on the other hand, is an operating system created by developers and for developers (and system administrators). It provides infinite flexibility and a deep pool of open-source tools. But the learning curve is steep, the open-source projects often get abandoned and with great power (`sudo`) comes great responsibility (and sometimes system reinstall).\n\n::: callout-note\nActually, to publish this post in the most convenient and elegant [way](https://quarto.org/docs/publishing/github-pages.html#publish-command), I needed to switch to Linux. The Windows `quarto` CLI fails with some certification errors, coming from `deno`, that I can't be bothered to clean up. Discovered this while writing these words as [my previous approach](https://quarto.org/docs/publishing/github-pages.html#render-to-docs) was much messier. Irony is the ambrosia of life (for me at least).\n:::\n\n### Bridging the gap\n\nAt this point even Microsoft --- a strong contrarian to Linux in the past --- embraced the usefulness of Linux shell at your fingertips. Imagine having the familiar interface of Windows for your everyday tasks. Combine it with a the raw power and controllability of Linux for when you need to dive deep into development or system administration. And limited stakes once you (inevitably) remove half of your file system with a bash script. Enter Windows Subsystem for Linux (WSL): a ticket to 10x-ing your software development on Windows.\n\n### WSL vs. Virtual Machines: What's the Difference?\n\nYou might be wondering how WSL differs from a traditional virtual machine (VM). While both provide a way to run Linux on Windows, they operate in different ways. A VM emulates a virtual computer within your computer, complete with its own operating system and make-belive hardware resources. This makes VMs resource-intensive and can impact overall system performance. They are also hard to set up and maintain.\n\nWSL, on the other hand, is a more lightweight approach. It integrates Linux directly into the Windows kernel, allowing for faster boot times, better performance, and seamless file sharing between Windows and Linux environments.\n\n## Installing and setting up WSL\n\nFirst, we need to set up the WSL and install a chosen Linux distribution. Fortunately, this is \"super easy, barely an inconvenience\". You can choose from a list of distros pre-packaged by Microsoft or download and build an image from scratch. You can even build Arch and be legally allowed to say `BTW, I use Arch (on Windows)`. For this guide, we'll take a more conventional approach and opt for the long-term support (LTS) version of Ubuntu. Now, open the Powershell with administrative privileges and run:\n\n```{shell}\nwsl --update\nwsl --version\n```\n\nThese commands ensure that WSL is up-to-date and displays the installed WSL version.\n\n![](1.png)\n\nOur next command will be:\n\n```{shell}\nwsl -l -o\n```\n\nThis yields a curated list of pre-packaged Linux distributions that Microsoft provides, making the process almost effortless.\n\n![](2.png)\n\nFor the installation itself:\n\n```{shell}\nwsl --install -d 'Ubuntu-24.04'\n```\n\n![](3.png)\n\nReboot the Windows system and you'll see \\`Ubuntu' among your applications. ![](4.png) ![](5.png)\n\n## Base setup --- new shell and package manager\n\nThere is an additional benefit we can reap with just a bit of more work --- a fully system-agnostic setup. By having Linux kernel run on Windows, we unified 2 out of 3 giants. The only pillar that is missing is the Mac OS. But wait, it's based on Unix as well! It just uses different default shell and lacks a package manager, as Apple doesn't trust its clients. `zsh` offers a more interactive and customizable shell experience compared to the default bash. Homebrew, often referred to as the \"missing package manager for macOS\", provides a convenient way to install additional software on Linux systems. Let's change the terminal shell to `zsh` in our Ubuntu installation and compile a secondary (to `apt-get`) package manager -- `brew`.\n\n### Brewing starts\n\nBefore we dive into installing Homebrew, we need to equip our system with the essential tools. The build-essential package provides a collection of compilers and libraries necessary for building software from the source code. Git is a version control system used for managing code projects.\n\nLet's install these prerequisites using the following command:\n\n```{bash}\nsudo apt-get upgrade -y\nsudo apt-get install build-essential git -y\n```\n\nExecute the installation script for Homebrew:\n\n```{bash}\nINSTALL_PATH=\"https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh\"\n/bin/bash -c \"$(curl -fsSL $INSTALL_PATH)\"\n```\n\n![](6.png)\n\nTo make Homebrew accessible from your shell, you need to load its environment variables. The following command achieves this and subsequently runs a diagnostic check:\n\n```{bash}\neval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\nbrew doctor\n```\n\n![](7.png)\n\nDoctor's orders to append brew to some set of paths! Let's do this then:\n\n```{bash}\necho 'export XDG_DATA_DIRS=\"/home/linuxbrew/.linuxbrew/share:$XDG_DATA_DIRS\"' >> ~/.profile\n```\n\n## Z-shell --- sea-shell\n\nHomebrew makes package management a breeze. Let's install `zsh`, a powerful and customizable shell.\n\n```{bash}\nbrew install zsh\nzsh --version\nzsh\n```\n\nThis will take you to interactive `.zshrc` file setup. The file contains commands that are run each time a shell is spawned. You can either generate empty file with `0` or go through the interactive setup with `1`. ![](8.png)\n\nAdd the brew initialization to `.zshrc` file as well. This way `brew` will always be by your side!\n\n```{bash}\n(echo; echo 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"') >> /home/bwrob/.zshrc\n```\n\nCheck the default shell and set it to `zsh`:\n\n```{bash}\necho $SHELL\nsudo chsh -s $(which zsh)\necho $SHELL\n```\n\n## GitHub command line tool\n\nRemember `git != GitHub`, we need a way to authenticate and use Github from CLI. There's a tool for that!\n\n```{bash}\nbrew install gh\ngh auth login\n```\n\n![](9.png)\n\nNow create a convenient directory and copy your favourite `GitHub` repo:\n\n```{bash}\nmkdir repos && cd repos\ngh repo clone python_playground\n```\n\n## Connect to Visual Studio Code\n\nWhile WSL grants us the power of Linux, let's not forget the user-friendly interface of Windows. When it comes to software development, we can achieve the perfect blend by integrating Visual Studio Code (VSC) with our WSL environment.\n\nHere's how:\n\n-   **Install the WSL Extension in VSC**: Fire up VSC on your Windows machine and head over to the Extensions tab. Search for \"WSL\" and install the official extension by Microsoft: [WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).\n\n-   **Launching VSC from WSL**: Within your WSL terminal, you can directly invoke VSC as if it were running natively on Windows. Use the following command:\n\n```{bash}\ncode ~\\repos\\python_playground\n```\n\n![](10.png)\n\nIn the [next post]() I will show you how to set up Python environment in Linux. Stay tuned :) .\n\n::: callout-note\nDownload the Ubuntu shell script [here](../../scripts/wsl_setup.sh).\n:::\n","srcMarkdownNoYaml":"\n\n![](image.jpg){width=\"95%\" fig-align=\"center\"}\n\n## Windows, Linux, and You: Ménage à trois\n\nTired of the same old Windows vs. Linux beef among PC superusers? Well, get ready to become a mediator in this feud. I'll show you how to get the best of both worlds.\n\n### Pros and cons\n\nWindows OS has long been the dominant platform for mainstream consumers and businesses. It offers good hardware compatibility, de facto *the* PC gaming experience and is friendly to the casual user. However, Windows has significant limitations in terms of system control and software development tools.\n\nLinux, on the other hand, is an operating system created by developers and for developers (and system administrators). It provides infinite flexibility and a deep pool of open-source tools. But the learning curve is steep, the open-source projects often get abandoned and with great power (`sudo`) comes great responsibility (and sometimes system reinstall).\n\n::: callout-note\nActually, to publish this post in the most convenient and elegant [way](https://quarto.org/docs/publishing/github-pages.html#publish-command), I needed to switch to Linux. The Windows `quarto` CLI fails with some certification errors, coming from `deno`, that I can't be bothered to clean up. Discovered this while writing these words as [my previous approach](https://quarto.org/docs/publishing/github-pages.html#render-to-docs) was much messier. Irony is the ambrosia of life (for me at least).\n:::\n\n### Bridging the gap\n\nAt this point even Microsoft --- a strong contrarian to Linux in the past --- embraced the usefulness of Linux shell at your fingertips. Imagine having the familiar interface of Windows for your everyday tasks. Combine it with a the raw power and controllability of Linux for when you need to dive deep into development or system administration. And limited stakes once you (inevitably) remove half of your file system with a bash script. Enter Windows Subsystem for Linux (WSL): a ticket to 10x-ing your software development on Windows.\n\n### WSL vs. Virtual Machines: What's the Difference?\n\nYou might be wondering how WSL differs from a traditional virtual machine (VM). While both provide a way to run Linux on Windows, they operate in different ways. A VM emulates a virtual computer within your computer, complete with its own operating system and make-belive hardware resources. This makes VMs resource-intensive and can impact overall system performance. They are also hard to set up and maintain.\n\nWSL, on the other hand, is a more lightweight approach. It integrates Linux directly into the Windows kernel, allowing for faster boot times, better performance, and seamless file sharing between Windows and Linux environments.\n\n## Installing and setting up WSL\n\nFirst, we need to set up the WSL and install a chosen Linux distribution. Fortunately, this is \"super easy, barely an inconvenience\". You can choose from a list of distros pre-packaged by Microsoft or download and build an image from scratch. You can even build Arch and be legally allowed to say `BTW, I use Arch (on Windows)`. For this guide, we'll take a more conventional approach and opt for the long-term support (LTS) version of Ubuntu. Now, open the Powershell with administrative privileges and run:\n\n```{shell}\nwsl --update\nwsl --version\n```\n\nThese commands ensure that WSL is up-to-date and displays the installed WSL version.\n\n![](1.png)\n\nOur next command will be:\n\n```{shell}\nwsl -l -o\n```\n\nThis yields a curated list of pre-packaged Linux distributions that Microsoft provides, making the process almost effortless.\n\n![](2.png)\n\nFor the installation itself:\n\n```{shell}\nwsl --install -d 'Ubuntu-24.04'\n```\n\n![](3.png)\n\nReboot the Windows system and you'll see \\`Ubuntu' among your applications. ![](4.png) ![](5.png)\n\n## Base setup --- new shell and package manager\n\nThere is an additional benefit we can reap with just a bit of more work --- a fully system-agnostic setup. By having Linux kernel run on Windows, we unified 2 out of 3 giants. The only pillar that is missing is the Mac OS. But wait, it's based on Unix as well! It just uses different default shell and lacks a package manager, as Apple doesn't trust its clients. `zsh` offers a more interactive and customizable shell experience compared to the default bash. Homebrew, often referred to as the \"missing package manager for macOS\", provides a convenient way to install additional software on Linux systems. Let's change the terminal shell to `zsh` in our Ubuntu installation and compile a secondary (to `apt-get`) package manager -- `brew`.\n\n### Brewing starts\n\nBefore we dive into installing Homebrew, we need to equip our system with the essential tools. The build-essential package provides a collection of compilers and libraries necessary for building software from the source code. Git is a version control system used for managing code projects.\n\nLet's install these prerequisites using the following command:\n\n```{bash}\nsudo apt-get upgrade -y\nsudo apt-get install build-essential git -y\n```\n\nExecute the installation script for Homebrew:\n\n```{bash}\nINSTALL_PATH=\"https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh\"\n/bin/bash -c \"$(curl -fsSL $INSTALL_PATH)\"\n```\n\n![](6.png)\n\nTo make Homebrew accessible from your shell, you need to load its environment variables. The following command achieves this and subsequently runs a diagnostic check:\n\n```{bash}\neval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"\nbrew doctor\n```\n\n![](7.png)\n\nDoctor's orders to append brew to some set of paths! Let's do this then:\n\n```{bash}\necho 'export XDG_DATA_DIRS=\"/home/linuxbrew/.linuxbrew/share:$XDG_DATA_DIRS\"' >> ~/.profile\n```\n\n## Z-shell --- sea-shell\n\nHomebrew makes package management a breeze. Let's install `zsh`, a powerful and customizable shell.\n\n```{bash}\nbrew install zsh\nzsh --version\nzsh\n```\n\nThis will take you to interactive `.zshrc` file setup. The file contains commands that are run each time a shell is spawned. You can either generate empty file with `0` or go through the interactive setup with `1`. ![](8.png)\n\nAdd the brew initialization to `.zshrc` file as well. This way `brew` will always be by your side!\n\n```{bash}\n(echo; echo 'eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\"') >> /home/bwrob/.zshrc\n```\n\nCheck the default shell and set it to `zsh`:\n\n```{bash}\necho $SHELL\nsudo chsh -s $(which zsh)\necho $SHELL\n```\n\n## GitHub command line tool\n\nRemember `git != GitHub`, we need a way to authenticate and use Github from CLI. There's a tool for that!\n\n```{bash}\nbrew install gh\ngh auth login\n```\n\n![](9.png)\n\nNow create a convenient directory and copy your favourite `GitHub` repo:\n\n```{bash}\nmkdir repos && cd repos\ngh repo clone python_playground\n```\n\n## Connect to Visual Studio Code\n\nWhile WSL grants us the power of Linux, let's not forget the user-friendly interface of Windows. When it comes to software development, we can achieve the perfect blend by integrating Visual Studio Code (VSC) with our WSL environment.\n\nHere's how:\n\n-   **Install the WSL Extension in VSC**: Fire up VSC on your Windows machine and head over to the Extensions tab. Search for \"WSL\" and install the official extension by Microsoft: [WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).\n\n-   **Launching VSC from WSL**: Within your WSL terminal, you can directly invoke VSC as if it were running natively on Windows. Use the following command:\n\n```{bash}\ncode ~\\repos\\python_playground\n```\n\n![](10.png)\n\nIn the [next post]() I will show you how to set up Python environment in Linux. Stay tuned :) .\n\n::: callout-note\nDownload the Ubuntu shell script [here](../../scripts/wsl_setup.sh).\n:::\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"highlight-style":"github","output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","theme":{"dark":["darkly","../../theme-dark.scss"],"light":"flatly"},"title-block-banner":true,"code-copy":true,"code-block-border-left":true,"title":"Linux in Windows via WSL","description":"How to have a great dev setup and still play CS over a coffee break.","author":"bwrob","date":"2024-08-11","date-modified":"2024-08-30","categories":["Dev Setup"],"image":"image.jpg"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}